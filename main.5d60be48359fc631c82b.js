(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+tJ4":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},"+umK":function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},"+v3u":function(t,e,n){n("q94Q")("match")},"//qW":function(t,e,n){"use strict";var r=n("Gp07"),i=n("LX9C"),o=n("stQs"),a=i.set,s=i.getterFor("String Iterator");o(String,"String",function(t){a(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=s(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i,!0),e.index+=t.length,{value:t,done:!1})})},"/WYv":function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},0:function(t,e,n){t.exports=n("zUnb")},"0/uQ":function(t,e,n){"use strict";var r=n("6blF"),i=n("/WYv"),o=n("2ePl"),a=n("xTla"),s=n("En8+"),u=n("IUTb"),l=n("pugT"),c=n("S5XQ"),h=n("u67D"),f=n("JcRv"),p=n("Fxb1");function d(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(p.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(e?function(n){var r=new l.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:Object(f.a)(t))}(t,e);if(Object(i.a)(t))return function(t,e){return new r.a(e?function(n){var r=new l.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:Object(c.a)(t))}(t,e);if(Object(o.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?function(n){var r,i=new l.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[s.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i}:Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",function(){return d})},"0Bu/":function(t,e,n){var r=n("kpns"),i=n("bcPd");t.exports=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}},"0HDe":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"0i0S":function(t,e){t.exports={}},"0idE":function(t,e,n){var r=n("57wU"),i=n("SAp2"),o=n("qBi7")("IE_PROTO"),a=n("S5sp"),s=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},"15JJ":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("mrSG"),i=n("MGBS"),o=n("rPjj"),a=n("zotm"),s=n("67Y/"),u=n("0/uQ");function l(t,e){return"function"==typeof e?function(n){return n.pipe(l(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(s.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new c(t))}}var c=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project))},t}(),h=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r.__extends(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new o.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(a.a)(this,t,e,n,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(i.a)},"1VRj":function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"1f/i":function(t,e,n){var r=n("ysHE"),i=n("wBs/"),o=n("57wU"),a=n("nX7E"),s=n("5eG6"),u=n("LX9C"),l=u.get,c=u.enforce,h=String(s).split("toString");n("MfhB")("inspectSource",function(t){return s.call(t)}),(t.exports=function(t,e,n,s){var u=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),c(n).source=h.join("string"==typeof e?e:"")),t!==r?(u?!f&&t[e]&&(l=!0):delete t[e],l?t[e]=n:i(t,e,n)):l?t[e]=n:a(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&l(this).source||s.call(this)})},"2Bdj":function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},"2F3y":function(t,e,n){n("q94Q")("asyncIterator")},"2Hee":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"2ePl":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},"2w5C":function(t,e,n){var r=n("57wU"),i=n("IutQ"),o=n("55jA")(!1),a=n("vcTx");t.exports=function(t,e){var n,s=i(t),u=0,l=[];for(n in s)!r(a,n)&&r(s,n)&&l.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},"3Gxb":function(t,e,n){var r=n("2w5C"),i=n("o9j8").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},"44fV":function(t,e,n){"use strict";var r=n("ysHE"),i=n("57wU"),o=n("lb/b"),a=n("U5J1"),s=n("pSMy"),u=n("1f/i"),l=n("vcTx"),c=n("0HDe"),h=n("MfhB"),f=n("S4gH"),p=n("ptKZ"),d=n("aXXJ"),y=n("ahhG"),m=n("q94Q"),g=n("SIcJ"),v=n("k2qa"),_=n("bcPd"),b=n("kpns"),w=n("IutQ"),C=n("ehg7"),E=n("2Hee"),S=n("tzov"),T=n("zkF/"),D=n("pYsU"),I=n("TIpl"),O=n("iCuu"),A=n("wBs/"),x=n("Q2Kg"),k=n("qBi7")("hidden"),N=n("LX9C"),P=N.set,R=N.getterFor("Symbol"),M=D.f,F=I.f,L=T.f,j=r.Symbol,V=r.JSON,B=V&&V.stringify,U=d("toPrimitive"),q=O.f,z=h("symbol-registry"),Q=h("symbols"),H=h("op-symbols"),W=h("wks"),K=Object.prototype,G=r.QObject,Y=n("mk1t"),J=!G||!G.prototype||!G.prototype.findChild,Z=o&&c(function(){return 7!=S(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=M(K,e);r&&delete K[e],F(t,e,n),r&&t!==K&&F(K,e,r)}:F,X=function(t,e){var n=Q[t]=S(j.prototype);return P(n,{type:"Symbol",tag:t,description:e}),o||(n.description=e),n},$=Y&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof j},tt=function(t,e,n){return t===K&&tt(H,e,n),_(t),e=C(e,!0),_(n),i(Q,e)?(n.enumerable?(i(t,k)&&t[k][e]&&(t[k][e]=!1),n=S(n,{enumerable:E(0,!1)})):(i(t,k)||F(t,k,E(1,{})),t[k][e]=!0),Z(t,e,n)):F(t,e,n)},et=function(t,e){_(t);for(var n,r=g(e=w(e)),i=0,o=r.length;o>i;)tt(t,n=r[i++],e[n]);return t},nt=function(t){var e=q.call(this,t=C(t,!0));return!(this===K&&i(Q,t)&&!i(H,t))&&(!(e||!i(this,t)||!i(Q,t)||i(this,k)&&this[k][t])||e)},rt=function(t,e){if(t=w(t),e=C(e,!0),t!==K||!i(Q,e)||i(H,e)){var n=M(t,e);return!n||!i(Q,e)||i(t,k)&&t[k][e]||(n.enumerable=!0),n}},it=function(t){for(var e,n=L(w(t)),r=[],o=0;n.length>o;)i(Q,e=n[o++])||i(l,e)||r.push(e);return r},ot=function(t){for(var e,n=t===K,r=L(n?H:w(t)),o=[],a=0;r.length>a;)!i(Q,e=r[a++])||n&&!i(K,e)||o.push(Q[e]);return o};Y||(u((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor");var t=void 0===arguments[0]?void 0:String(arguments[0]),e=p(t),n=function(t){this===K&&n.call(H,t),i(this,k)&&i(this[k],e)&&(this[k][e]=!1),Z(this,e,E(1,t))};return o&&J&&Z(K,e,{configurable:!0,set:n}),X(e,t)}).prototype,"toString",function(){return R(this).tag}),O.f=nt,I.f=tt,D.f=rt,n("3Gxb").f=T.f=it,n("fw2a").f=ot,o&&(F(j.prototype,"description",{configurable:!0,get:function(){return R(this).description}}),a||u(K,"propertyIsEnumerable",nt,{unsafe:!0})),y.f=function(t){return X(d(t),t)}),s({global:!0,wrap:!0,forced:!Y,sham:!Y},{Symbol:j});for(var at=x(W),st=0;at.length>st;)m(at[st++]);s({target:"Symbol",stat:!0,forced:!Y},{for:function(t){return i(z,t+="")?z[t]:z[t]=j(t)},keyFor:function(t){if(!$(t))throw TypeError(t+" is not a symbol");for(var e in z)if(z[e]===t)return e},useSetter:function(){J=!0},useSimple:function(){J=!1}}),s({target:"Object",stat:!0,forced:!Y,sham:!o},{create:function(t,e){return void 0===e?S(t):et(S(t),e)},defineProperty:tt,defineProperties:et,getOwnPropertyDescriptor:rt}),s({target:"Object",stat:!0,forced:!Y},{getOwnPropertyNames:it,getOwnPropertySymbols:ot}),V&&s({target:"JSON",stat:!0,forced:!Y||c(function(){var t=j();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))})},{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!$(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!$(e))return e}),r[1]=e,B.apply(V,r)}}),j.prototype[U]||A(j.prototype,U,j.prototype.valueOf),f(j,"Symbol"),l[k]=!0},"4BMZ":function(t,e,n){var r=n("mrSG").__decorate,i=n("mrSG").__metadata;Object.defineProperty(e,"__esModule",{value:!0});var o=n("CcnG");e.NgxGist=function(){function t(){}return t.prototype.ngAfterViewInit=function(){var t=this.file?this.file:"";this.iframe.nativeElement.id="gist-"+this.gistId;var e=this.iframe.nativeElement.contentDocument||this.iframe.nativeElement.contentElement.contentWindow,n='\n        <html>\n        <head>\n          <base target="_parent">\n        </head>\n        <body onload="parent.document.getElementById(\''+this.iframe.nativeElement.id+'\')">\n        <script type="text/javascript" src="https://gist.github.com/'+this.gistId+".js?file="+t+'"><\/script>\n        </body>\n      </html>\n    ';e.open(),e.write(n),e.close()},r([o.ViewChild("iframe"),i("design:type",o.ElementRef)],t.prototype,"iframe",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"gistId",void 0),r([o.Input(),i("design:type",String)],t.prototype,"file",void 0),r([o.Component({selector:"ngx-gist",template:'\n    <iframe #iframe type="text/javascript" width="100%" frameborder="0" style = "height:inherit"></iframe>\n  ',styleUrls:[],encapsulation:o.ViewEncapsulation.None})],t)}()},"4Ea8":function(t,e,n){t.exports=n("ysHE")},"4mOR":function(t,e,n){"use strict";var r=n("vQkR")(6),i=!0;"findIndex"in[]&&Array(1).findIndex(function(){i=!1}),n("pSMy")({target:"Array",proto:!0,forced:i},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("gJLK")("findIndex")},"55jA":function(t,e,n){var r=n("IutQ"),i=n("H6ty"),o=n("GJzV");t.exports=function(t){return function(e,n,a){var s,u=r(e),l=i(u.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},"57wU":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"5eG6":function(t,e,n){t.exports=n("MfhB")("native-function-to-string",Function.toString)},6233:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n("ug5D"))},"67Y/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(i.a)},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("q/0M"),a=n("mrSG"),s=n("x7I3"),u=n("zVF4"),l=i.SDK_VERSION,c=new o.Logger("@firebase/firestore"),h=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function f(){return c.logLevel===o.LogLevel.DEBUG?h.DEBUG:c.logLevel===o.LogLevel.SILENT?h.SILENT:h.ERROR}function p(t){switch(t){case h.DEBUG:c.logLevel=o.LogLevel.DEBUG;break;case h.ERROR:c.logLevel=o.LogLevel.ERROR;break;case h.SILENT:c.logLevel=o.LogLevel.SILENT;break;default:c.error("Firestore ("+l+"): Invalid value passed to `setLogLevel`")}}function d(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(c.logLevel<=o.LogLevel.DEBUG){var i=n.map(m);c.debug.apply(c,["Firestore ("+l+") ["+t+"]: "+e].concat(i))}}function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=o.LogLevel.ERROR){var r=e.map(m);c.error.apply(c,["Firestore ("+l+"): "+t].concat(r))}}function m(t){if("string"==typeof t)return t;var e=_.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function g(t){var e="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+t;throw y(e),new Error(e)}function v(t,e){t||g(e)}var _=function(){function t(){}return t.setPlatform=function(e){t.platform&&g("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||g("Platform not set"),t.platform},t}();function b(){return _.getPlatform().emptyByteString}var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return a.__extends(e,t),e}(Error);function E(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new C(w.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function T(t,e){return void 0!==t?t:e}function D(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function I(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function O(t){for(var e in v(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function A(t,e){if(0!==e.length)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+H(e.length,"argument")+".")}function x(t,e,n){if(e.length!==n)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires "+H(n,"argument")+", but was called with "+H(e.length,"argument")+".")}function k(t,e,n){if(e.length<n)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires at least "+H(n,"argument")+", but was called with "+H(e.length,"argument")+".")}function N(t,e,n,r){if(e.length<n||e.length>r)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+H(e.length,"argument")+".")}function P(t,e,n,r){j(t,e,Q(n)+" argument",r)}function R(t,e,n,r){void 0!==r&&P(t,e,n,r)}function M(t,e,n,r){j(t,e,n+" option",r)}function F(t,e,n,r){void 0!==r&&M(t,e,n,r)}function L(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(B(u))}var l=B(r);throw new C(w.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function j(t,e,n,r){if(!("object"===e?V(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=B(r);throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function V(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function B(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":g("Unknown wrong type: "+typeof t)}function U(t,e,n){if(void 0===n)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Q(e)+" argument, but it was undefined.")}function q(t,e,n){I(e,function(e,r){if(n.indexOf(e)<0)throw new C(w.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function z(t,e,n,r){var i=B(r);return new C(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+Q(n)+" argument to be a "+e+", but it was: "+i)}function Q(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function H(t,e){return t+" "+e+(1===t?"":"s")}var W=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return v(20===e.length,"Invalid auto ID: "+e),e},t}();function K(t,e){return t<e?-1:t>e?1:0}function G(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function Y(t){return t+"\0"}function J(){if("undefined"==typeof Uint8Array)throw new C(w.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Z(){if(!_.getPlatform().base64Available)throw new C(w.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var X=function(){function t(t){Z(),this._binaryString=t}return t.fromBase64String=function(e){x("Blob.fromBase64String",arguments,1),P("Blob.fromBase64String","string",1,e),Z();try{return new t(_.getPlatform().atob(e))}catch(n){throw new C(w.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+n)}},t.fromUint8Array=function(e){if(x("Blob.fromUint8Array",arguments,1),J(),!(e instanceof Uint8Array))throw z("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return x("Blob.toBase64",arguments,0),Z(),_.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){x("Blob.toUint8Array",arguments,0),J();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return K(this._binaryString,t._binaryString)},t}(),$=E(X,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),tt=function(){function t(t,e){if(x("GeoPoint",arguments,2),P("GeoPoint","number",1,t),P("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new C(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new C(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return K(this._lat,t._lat)||K(this._long,t._long)},t}(),et=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?K(this.nanoseconds,t.nanoseconds):K(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),nt=function(){return function(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}}(),rt="(default)",it=function(){function t(t,e){this.projectId=t,this.database=e||rt}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===rt},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return K(this.projectId,t.projectId)||K(this.database,t.database)},t}(),ot=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&g("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&g("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):g("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return v(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return v(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return v(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return v(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new C(w.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(ot),st=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.isValidIdentifier=function(t){return st.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new C(w.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new C(w.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(ot),lt=function(){function t(e){this.path=e,v(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===at.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return at.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new at(e.slice()))},t.fromPathString=function(e){return new t(at.fromString(e))},t.EMPTY=new t(new at([])),t}(),ct=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return lt.comparator(t.key,e.key)},t}(),ht=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.data=r,a.proto=o,a.hasLocalMutations=!!i.hasLocalMutations,a.hasCommittedMutations=!!i.hasCommittedMutations,a}return a.__extends(e,t),e.prototype.field=function(t){return this.data.field(t)},e.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):g("Trying to compare documents on fields that don't exist")},e}(ct),ft=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return a.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ct),pt=function(t){function e(e,n){return t.call(this,e,n)||this}return a.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ct),dt=function(){function t(t,e){this.comparator=t,this.root=e||mt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new yt(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new yt(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new yt(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new yt(this.root,t,this.comparator,!0)},t}(),yt=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){v(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),mt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw g("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw g("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw g("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),gt=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new mt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();mt.EMPTY=new gt;var vt=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),_t=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),bt=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(_t.Estimate,n);case"previous":return new t(_t.Previous,n);case"none":case void 0:return new t(_t.Default,n);default:return g("fromSnapshotOptions() called with invalid options.")}},t}(),wt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return v(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),K(this.typeOrder,t.typeOrder)},t}(),Ct=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=vt.NullValue,e.internalValue=null,e}return a.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(wt),Et=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=vt.BooleanValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?K(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(wt),St=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=vt.NumberValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(wt);function Tt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Dt=function(t){function e(e){return t.call(this,e)||this}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Tt(this.internalValue,t.internalValue)},e}(St),It=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Tt(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(St),Ot=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=vt.StringValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?K(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(wt),At=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=vt.TimestampValue,n}return a.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof xt?-1:this.defaultCompareTo(t)},e}(wt),xt=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=vt.TimestampValue,r}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===_t.Estimate?new At(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===_t.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof At?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(wt),kt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=vt.BlobValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(wt),Nt=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=vt.RefValue,r}return a.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:lt.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(wt),Pt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=vt.GeoPointValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(wt),Rt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=vt.ObjectValue,n}return a.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=K(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return K(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(v(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(v(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){v(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new dt(K)),e}(wt),Mt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=vt.ArrayValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return K(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map(function(t){return t.toString()}).join(",")+"]"},e}(wt),Ft=Number,Lt=Ft.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),jt=Ft.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Vt=Ft.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Bt(t){return null==t}function Ut(t){return Vt(t)&&t<=jt&&t>=Lt}var qt=function(){function t(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[Zt]:[new Jt(t),Zt];else{v(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Gt.ASCENDING)===Gt.ASCENDING?Zt:Xt)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){v(null==this.getInequalityFilterField()||!(e instanceof Ht)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),v(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){v(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";Bt(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Bt(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return v(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Bt(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Ht&&n.isInequality())return n.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(t){return t instanceof Ht&&t.op===Qt.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return lt.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):lt.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){v(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),zt=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(Ct.INSTANCE)){if(e!==Qt.EQUAL)throw new C(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Wt(t)}if(n.isEqual(It.NAN)){if(e!==Qt.EQUAL)throw new C(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Kt(t)}return new Ht(t,e,n)},t}(),Qt=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return g("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),Ht=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return a.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){v(this.value instanceof Nt,"Comparing on key, but filter value not a RefValue"),v(this.op!==Qt.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=lt.comparator(t.key,this.value.key);return this.matchesComparison(e)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},e.prototype.matchesValue=function(t){var e=this;return this.op===Qt.ARRAY_CONTAINS?t instanceof Mt&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case Qt.LESS_THAN:return t<0;case Qt.LESS_THAN_OR_EQUAL:return t<=0;case Qt.EQUAL:return 0===t;case Qt.GREATER_THAN:return t>0;case Qt.GREATER_THAN_OR_EQUAL:return t>=0;default:return g("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==Qt.EQUAL&&this.op!==Qt.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(zt),Wt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(zt),Kt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field),n=e&&e.value();return"number"==typeof n&&isNaN(n)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(zt),Gt=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Yt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){v(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())v(o instanceof Nt,"Bound has a non-key value where the key path is being used."),n=lt.comparator(o.key,e.key);else{var a=e.field(i.field);v(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===Gt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].isEqual(t.position[e]);return!0},t}(),Jt=function(){function t(t,e){this.field=t,void 0===e&&(e=Gt.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?ht.compareByKey(t,e):ht.compareByField(this.field,t,e);switch(this.dir){case Gt.ASCENDING:return n;case Gt.DESCENDING:return-1*n;default:return g("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Zt=new Jt(ut.keyField(),Gt.ASCENDING),Xt=new Jt(ut.keyField(),Gt.DESCENDING),$t=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new et(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new et(0,0)),t}(),te=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),ee=function(){function t(t,e,n,r,i,o){void 0===i&&(i=$t.MIN),void 0===o&&(o=b()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),ne=function(){function t(t){this.comparator=t,this.data=new dt(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new re(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new re(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),re=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ie=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new ne(ut.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.applyTo=function(t){var e=Rt.EMPTY;return this.fields.forEach(function(n){if(n.isEmpty())return t;var r=t.field(n);void 0!==r&&(e=e.set(n,r))}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),oe=function(){function t(t,e){this.field=t,this.transform=e}return Object.defineProperty(t.prototype,"isIdempotent",{get:function(){return this.transform.isIdempotent},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ae=function(){return function(t,e){this.version=t,this.transformResults=e}}(),se=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),ue=function(){function t(t,e){this.updateTime=t,this.exists=e,v(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof ht&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof ht:(v(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),le=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&v(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof ht?t.version:$t.MIN},t}(),ce=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=se.Set,i}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by SetMutation."),new ht(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=le.getPostMutationVersion(t);return new ht(this.key,r,this.value,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(le),he=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=se.Patch,o}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new pt(this.key,e.version);var n=this.patchDocument(t);return new ht(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=le.getPostMutationVersion(t),i=this.patchDocument(t);return new ht(this.key,r,i,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){return this.patchObject(t instanceof ht?t.data:Rt.EMPTY)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t=void 0!==r?t.set(n,r):t.delete(n)}}),t},e}(le),fe=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=se.Transform,r.precondition=ue.exists(!0),r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),v(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new pt(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data,r);return new ht(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,e),o=this.transformObject(r.data,i);return new ht(this.key,r.version,o,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){for(var t=0,e=this.fieldTransforms;t<e.length;t++)if(!e[t].isIdempotent)return!1;return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){var t=new ne(ut.comparator);return this.fieldTransforms.forEach(function(e){return t=t.add(e.field)}),new ie(t)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&G(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){v(t instanceof ht,"Unknown MaybeDocument type "+t);var e=t;return v(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];v(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof ht&&(a=t.field(i.field)||null),n.push(o.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],a=o.transform,s=null;e instanceof ht&&(s=e.field(o.field)||null),n.push(a.applyToLocalView(s,t))}return n},e.prototype.transformObject=function(t,e){v(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(le),pe=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=se.Delete,r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by DeleteMutation."),new ft(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&v(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new ft(this.key,$t.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e}(le),de=function(){function t(){this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return new xt(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ye=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ve(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Mt(e)},t.prototype.isEqual=function(e){return e instanceof t&&G(e.elements,this.elements)},t}(),me=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ve(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Mt(e)},t.prototype.isEqual=function(e){return e instanceof t&&G(e.elements,this.elements)},t}(),ge=function(){function t(t){this.operand=t,this.isIdempotent=!1}return t.prototype.applyToLocalView=function(t,e){return t instanceof Dt&&this.operand instanceof Dt?new Dt(t.internalValue+this.operand.internalValue):t instanceof St?new It(t.internalValue+this.operand.internalValue):this.operand},t.prototype.applyToRemoteDocument=function(t,e){return v(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function ve(t){return t instanceof Mt?t.internalValue.slice():[]}var _e=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),be=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function we(t){switch(t){case w.OK:return g("Treated status OK as error");case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0;default:return g("Unknown status code: "+t)}}function Ce(t){if(void 0===t)return y("GRPC error has no .code"),w.UNKNOWN;switch(t){case be.OK:return w.OK;case be.CANCELLED:return w.CANCELLED;case be.UNKNOWN:return w.UNKNOWN;case be.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case be.INTERNAL:return w.INTERNAL;case be.UNAVAILABLE:return w.UNAVAILABLE;case be.UNAUTHENTICATED:return w.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case be.NOT_FOUND:return w.NOT_FOUND;case be.ALREADY_EXISTS:return w.ALREADY_EXISTS;case be.PERMISSION_DENIED:return w.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case be.ABORTED:return w.ABORTED;case be.OUT_OF_RANGE:return w.OUT_OF_RANGE;case be.UNIMPLEMENTED:return w.UNIMPLEMENTED;case be.DATA_LOSS:return w.DATA_LOSS;default:return g("Unknown status code: "+t)}}function Ee(t){if(void 0===t)return be.OK;switch(t){case w.OK:return be.OK;case w.CANCELLED:return be.CANCELLED;case w.UNKNOWN:return be.UNKNOWN;case w.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case w.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case w.INTERNAL:return be.INTERNAL;case w.UNAVAILABLE:return be.UNAVAILABLE;case w.UNAUTHENTICATED:return be.UNAUTHENTICATED;case w.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case w.NOT_FOUND:return be.NOT_FOUND;case w.ALREADY_EXISTS:return be.ALREADY_EXISTS;case w.PERMISSION_DENIED:return be.PERMISSION_DENIED;case w.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case w.ABORTED:return be.ABORTED;case w.OUT_OF_RANGE:return be.OUT_OF_RANGE;case w.UNIMPLEMENTED:return be.UNIMPLEMENTED;case w.DATA_LOSS:return be.DATA_LOSS;default:return g("Unknown status code: "+t)}}var Se=new dt(lt.comparator);function Te(){return Se}function De(){return Te()}var Ie=new dt(lt.comparator);function Oe(){return Ie}var Ae=new dt(lt.comparator);function xe(){return Ae}var ke=new ne(lt.comparator);function Ne(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ke,r=0,i=t;r<i.length;r++)n=n.add(i[r]);return n}var Pe=new ne(K);function Re(){return Pe}var Me=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||lt.comparator(e.key,n.key)}:function(t,e){return lt.comparator(t.key,e.key)},this.keyedMap=Oe(),this.sortedSet=new dt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Fe=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),Le=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),je=function(){function t(){this.changeMap=new dt(lt.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Fe.Added&&n.type===Fe.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Fe.Metadata&&n.type!==Fe.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Fe.Modified&&n.type===Fe.Modified?this.changeMap=this.changeMap.insert(e,{type:Fe.Modified,doc:t.doc}):t.type===Fe.Modified&&n.type===Fe.Added?this.changeMap=this.changeMap.insert(e,{type:Fe.Added,doc:t.doc}):t.type===Fe.Removed&&n.type===Fe.Added?this.changeMap=this.changeMap.remove(e):t.type===Fe.Removed&&n.type===Fe.Modified?this.changeMap=this.changeMap.insert(e,{type:Fe.Removed,doc:n.doc}):t.type===Fe.Added&&n.type===Fe.Removed?this.changeMap=this.changeMap.insert(e,{type:Fe.Modified,doc:t.doc}):g("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Ve=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:Fe.Added,doc:t})}),new t(e,n,Me.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Be=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=Ue.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t($t.MIN,i,Re(),Te(),Ne())},t}(),Ue=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(b(),n,Ne(),Ne(),Ne())},t}(),qe=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),ze=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}(),Qe=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),He=function(){return function(t,e,n,r){void 0===n&&(n=b()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),We=function(){function t(){this.pendingResponses=0,this.documentChanges=Ye(),this._resumeToken=b(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Ne(),e=Ne(),n=Ne();return this.documentChanges.forEach(function(r,i){switch(i){case Fe.Added:t=t.add(r);break;case Fe.Modified:e=e.add(r);break;case Fe.Removed:n=n.add(r);break;default:g("Encountered invalid change type: "+i)}}),new Ue(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Ye()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Ke=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Te(),this.pendingDocumentTargetMapping=Ge(),this.pendingTargetResets=new ne(K)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof ht?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof ft&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.removeDocumentFromTarget(r=o[i],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case Qe.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Qe.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Qe.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),v(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Qe.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Qe.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:g("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):D(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new lt(i.path);this.removeDocumentFromTarget(e,o,new ft(o,$t.forDeletedDoc()))}else v(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};D(this.targetStates,function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new lt(o.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new ft(a,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=Ne();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===te.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Be(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Te(),this.pendingDocumentTargetMapping=Ge(),this.pendingTargetResets=new ne(K),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Fe.Modified:Fe.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Fe.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new We),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new ne(K),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;v(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new We,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function Ge(){return new dt(lt.comparator)}function Ye(){return new dt(lt.comparator)}var Je,Ze,Xe=((Je={})[Gt.ASCENDING.name]="ASCENDING",Je[Gt.DESCENDING.name]="DESCENDING",Je),$e=((Ze={})[Qt.LESS_THAN.name]="LESS_THAN",Ze[Qt.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Ze[Qt.GREATER_THAN.name]="GREATER_THAN",Ze[Qt.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Ze[Qt.EQUAL.name]="EQUAL",Ze[Qt.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Ze),tn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function en(t,e){v(!Bt(t),e+" is missing")}function nn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):g("can't parse "+t)}var rn=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?w.UNKNOWN:Ce(t.code);return new C(e,t.message||"")},t.prototype.toInt32Value=function(t){return Bt(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Bt(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);v(!!t,"Cannot deserialize null or undefined timestamp.");var e=nn(t.seconds||"0");return new et(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=tn.exec(t);if(v(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new et(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(v(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),X.fromBase64String(t)):(v(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),X.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return v(!!t,"Trying to deserialize version that isn't set"),$t.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=at.fromString(t);return v(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return v(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),v(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new lt(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?at.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new at(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new at(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return v(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof Ct)return{nullValue:"NULL_VALUE"};if(t instanceof Et)return{booleanValue:t.value()};if(t instanceof Dt)return{integerValue:""+t.value()};if(t instanceof It){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Ot?{stringValue:t.value()}:t instanceof Rt?{mapValue:this.toMapValue(t)}:t instanceof Mt?{arrayValue:this.toArrayValue(t)}:t instanceof At?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Pt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof kt?{bytesValue:this.toBytes(t.value())}:t instanceof Nt?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:g("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(on(t,n,"nullValue"))return Ct.INSTANCE;if(on(t,n,"booleanValue"))return Et.of(t.booleanValue);if(on(t,n,"integerValue"))return new Dt(nn(t.integerValue));if(on(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return It.NAN;if("Infinity"===t.doubleValue)return It.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return It.NEGATIVE_INFINITY}return new It(t.doubleValue)}if(on(t,n,"stringValue"))return new Ot(t.stringValue);if(on(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(on(t,n,"arrayValue"))return en(t.arrayValue,"arrayValue"),new Mt((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if(on(t,n,"timestampValue"))return en(t.timestampValue,"timestampValue"),new At(this.fromTimestamp(t.timestampValue));if(on(t,n,"geoPointValue"))return en(t.geoPointValue,"geoPointValue"),new Pt(new tt(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if(on(t,n,"bytesValue")){en(t.bytesValue,"bytesValue");var r=this.fromBlob(t.bytesValue);return new kt(r)}if(on(t,n,"referenceValue")){en(t.referenceValue,"referenceValue");var i=this.fromResourceName(t.referenceValue),o=new it(i.get(1),i.get(3)),a=new lt(this.extractLocalPathFromResourceName(i));return new Nt(o,a)}return g("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return v(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new ht(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=Rt.EMPTY;return I(t,function(t,r){n=n.set(new ut([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){v(!!t.found,"Tried to deserialize a found document from a missing document."),en(t.found.name,"doc.found.name"),en(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new ht(e,n,r,{},t.found)},t.prototype.fromMissing=function(t){v(!!t.missing,"Tried to deserialize a missing document from a found document."),v(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new ft(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return on(t,e,"found")?this.fromFound(t):on(t,e,"missing")?this.fromMissing(t):g("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Qe.Added:return"ADD";case Qe.Current:return"CURRENT";case Qe.NoChange:return"NO_CHANGE";case Qe.Removed:return"REMOVE";case Qe.Reset:return"RESET";default:return g("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof ze)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof qe){var e;if(t.newDoc instanceof ht)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof ft)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof He){var n=void 0;return t.cause&&(n={code:Ee(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return g("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(on(t,n,"targetChange")){en(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new He(r,i,o,s||null)}else if(on(t,n,"documentChange")){en(t.documentChange,"documentChange"),en(t.documentChange.document,"documentChange.name"),en(t.documentChange.document.name,"documentChange.document.name"),en(t.documentChange.document.updateTime,"documentChange.document.updateTime");var u=t.documentChange,l=this.fromName(u.document.name),c=this.fromVersion(u.document.updateTime),h=this.fromFields(u.document.fields||{}),f=new ht(l,c,h,{},u.document);e=new qe(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if(on(t,n,"documentDelete")){en(t.documentDelete,"documentDelete"),en(t.documentDelete.document,"documentDelete.document");var p=t.documentDelete;l=this.fromName(p.document),c=p.readTime?this.fromVersion(p.readTime):$t.forDeletedDoc(),f=new ft(l,c),e=new qe([],p.removedTargetIds||[],f.key,f)}else if(on(t,n,"documentRemove")){en(t.documentRemove,"documentRemove"),en(t.documentRemove.document,"documentRemove");var d=t.documentRemove;l=this.fromName(d.document),e=new qe([],d.removedTargetIds||[],l,null)}else{if(!on(t,n,"filter"))return g("Unknown change type "+JSON.stringify(t));en(t.filter,"filter"),en(t.filter.targetId,"filter.targetId");var y=t.filter,m=new _e(y.count||0);e=new ze(y.targetId,m)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Qe.NoChange:"ADD"===t?Qe.Added:"REMOVE"===t?Qe.Removed:"CURRENT"===t?Qe.Current:"RESET"===t?Qe.Reset:g("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!on(t,t.response_type,"targetChange"))return $t.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?$t.MIN:e.readTime?this.fromVersion(e.readTime):$t.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof ce)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof pe)e={delete:this.toName(t.key)};else if(t instanceof he)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof fe))return g("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):ue.NONE;if(t.update){en(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new he(r,i,o,n)}return new ce(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new pe(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return v(!0===n.exists,'Transforms only support precondition "exists == true"'),new fe(r,a)}return g("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return v(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:g("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?ue.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ue.exists(t.exists):ue.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new ae(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(v(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof de)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ye)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof me)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ge)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw g("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=t.transform_type,r=null;if(on(t,n,"setToServerValue"))v("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),r=de.instance;else if(on(t,n,"appendMissingElements"))r=new ye((t.appendMissingElements.values||[]).map(function(t){return e.fromValue(t)}));else if(on(t,n,"removeAllFromArray"))r=new me((t.removeAllFromArray.values||[]).map(function(t){return e.fromValue(t)}));else if(on(t,n,"increment")){var i=this.fromValue(t.increment);v(i instanceof St,"NUMERIC_ADD transform requires a NumberValue"),r=new ge(i)}else g("Unknown transform proto: "+JSON.stringify(t));var o=ut.fromServerFormat(t.fieldPath);return new oe(o,r)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return v(1===e,"DocumentsTarget contained other than 1 document: "+e),qt.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(v(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(v(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){v(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var l=null;n.startAt&&(l=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new qt(e,i,s,a,u,l,c)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case te.Listen:return null;case te.ExistenceFilterMismatch:return"existence-filter-mismatch";case te.LimboResolution:return"limbo-document";default:return g("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Ht?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):g("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Yt(r,n)},t.prototype.toDirection=function(t){return Xe[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Gt.ASCENDING;case"DESCENDING":return Gt.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return $e[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Qt.EQUAL;case"GREATER_THAN":return Qt.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Qt.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Qt.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Qt.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Qt.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return g("Unspecified relation");default:return g("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ut.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Jt(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Ht?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:g("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Ht(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Kt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Wt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:g("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Kt(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Wt(n);case"OPERATOR_UNSPECIFIED":return g("Unspecified filter");default:return g("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return ut.fromServerFormat(t)});return ie.fromArray(e)},t}();function on(t,e,n){return e===n||!e&&n in t}var an=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){v(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){v(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){v(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){v(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){v(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){v(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),sn="Connection",un={BatchGetDocuments:"batchGet",Commit:"commit"},ln="gl-js/ fire/"+l,cn=function(){function t(t){this.databaseId=t.databaseId,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=ln},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(o,a){var u=new s.XhrIo;u.listenOnce(s.EventType.COMPLETE,function(){try{switch(u.getLastErrorCode()){case s.ErrorCode.NO_ERROR:var e=u.getResponseJson();d(sn,"XHR received:",JSON.stringify(e)),o(e);break;case s.ErrorCode.TIMEOUT:d(sn,'RPC "'+t+'" timed out'),a(new C(w.DEADLINE_EXCEEDED,"Request time out"));break;case s.ErrorCode.HTTP_ERROR:var n=u.getStatus();d(sn,'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0?a(new C(function(t){switch(t){case 200:return w.OK;case 400:return w.INVALID_ARGUMENT;case 401:return w.UNAUTHENTICATED;case 403:return w.PERMISSION_DENIED;case 404:return w.NOT_FOUND;case 409:return w.ABORTED;case 416:return w.OUT_OF_RANGE;case 429:return w.RESOURCE_EXHAUSTED;case 499:return w.CANCELLED;case 500:return w.UNKNOWN;case 501:return w.UNIMPLEMENTED;case 503:return w.UNAVAILABLE;case 504:return w.DEADLINE_EXCEEDED;default:return t>=200&&t<300?w.OK:t>=400&&t<500?w.FAILED_PRECONDITION:t>=500&&t<600?w.INTERNAL:w.UNKNOWN}}(n),"Server responded with status "+u.getStatusText())):(d(sn,'RPC "'+t+'" failed'),a(new C(w.UNAVAILABLE,"Connection failed.")));break;default:g('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{d(sn,'RPC "'+t+'" completed.')}});var l=JSON.stringify(e);d(sn,"XHR sending: ",i+" "+l);var c={"Content-Type":"text/plain"};r.modifyHeadersForRequest(c,n),u.send(i,"POST",l,c,15)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=s.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5}};this.modifyHeadersForRequest(i.initMessageHeaders,e),u.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");d(sn,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),l=!1,c=!1,h=new an({sendFn:function(t){c?d(sn,"Not sending because WebChannel is closed:",t):(l||(d(sn,"Opening WebChannel transport."),a.open(),l=!0),d(sn,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),f=function(t,e){a.listen(t,function(t){try{e(t)}catch(n){setTimeout(function(){throw n},0)}})};return f(s.WebChannel.EventType.OPEN,function(){c||d(sn,"WebChannel transport opened.")}),f(s.WebChannel.EventType.CLOSE,function(){c||(c=!0,d(sn,"WebChannel transport closed"),h.callOnClose())}),f(s.WebChannel.EventType.ERROR,function(t){c||(c=!0,d(sn,"WebChannel transport errored:",t),h.callOnClose(new C(w.UNAVAILABLE,"The operation could not be completed")))}),f(s.WebChannel.EventType.MESSAGE,function(t){if(!c){var e=t.data[0];v(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){d(sn,"WebChannel received error:",n);var r=n.status,i=function(t){var e=be[r];if(void 0!==e)return Ce(e)}(),o=n.message;void 0===i&&(i=w.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),c=!0,h.callOnClose(new C(i,o)),a.close()}else d(sn,"WebChannel received:",e),h.callOnMessage(e)}}),setTimeout(function(){h.callOnOpen()},0),h},t.prototype.makeUrl=function(t){var e=un[t];v(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();_.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new cn(t))},t.prototype.newSerializer=function(t){return new rn(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var hn,fn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),pn=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection"}(hn||(hn={}));var dn=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(w.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),yn=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw y("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),v(e>=0,"Attempted to schedule an operation with a negative delay of "+e),v(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=dn.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&g("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){v(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){v(t===hn.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==hn.All&&i.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);v(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),mn="\x01",gn="\x01",vn="\x10",_n="\x11";function bn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Cn(e)),e=wn(t.get(n),e);return Cn(e)}function wn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=mn+vn;break;case mn:n+=mn+_n;break;default:n+=o}}return n}function Cn(t){return t+mn+gn}function En(t){var e=t.length;if(v(e>=2,"Invalid path "+t),2===e)return v(t.charAt(0)===mn&&t.charAt(1)===gn,"Non-empty path "+t+" had length 2"),at.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(mn,o);switch((a<0||a>n)&&g('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case gn:var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case vn:i+=t.substring(o,a),i+="\0";break;case _n:i+=t.substring(o,a+1);break;default:g('Invalid encoded resource path: "'+t+'"')}o=a+2}return new at(r)}var Sn=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,v(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&v(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;v(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){e&&v(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=s.applyToLocalView(e,e,this.localWriteTime));for(var i=e,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(t)&&(e=s.applyToLocalView(e,i,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ne())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&G(this.mutations,t.mutations)&&G(this.baseMutations,t.baseMutations)},t}(),Tn=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){v(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=xe(),a=e.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new t(e,n,r,i,o)},t}(),Dn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&g("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),In=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,i){return v(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kn(t).iterate({index:cr.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=xn(n),Pn(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=xn(e),Pn(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Nn(t),a=kn(t);return a.add({}).next(function(s){v("number"==typeof s,"Auto-generated key is not a number");var u=new Sn(s,e,n,r),l=i.serializer.toDbMutationBatch(i.userId,u);i.documentKeysByBatchId[s]=u.keys();for(var c=[],h=0,f=r;h<f.length;h++){var p=f[h],d=hr.key(i.userId,p.key.path,s);c.push(a.put(l)),c.push(o.put(d,hr.PLACEHOLDER)),c.push(i.indexManager.addToCollectionParentIndex(t,p.key.path.popLast()))}return Dn.waitFor(c).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return kn(t).get(e).next(function(t){return t?(v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?Dn.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this;return this.getMutationQueueMetadata(t).next(function(r){var i=e+1,o=IDBKeyRange.lowerBound([n.userId,i]),a=null;return kn(t).iterate({index:cr.userMutationsIndex,range:o},function(t,e,r){e.userId===n.userId&&(v(e.batchId>=i,"Should have found mutation after "+i),a=n.serializer.fromDbMutationBatch(e)),r.done()}).next(function(){return a})})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kn(t).loadAll(cr.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=hr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Nn(t).iterate({range:i},function(r,i,a){var s=r[0],u=r[2],l=En(r[1]);if(s===n.userId&&e.path.isEqual(l))return kn(t).get(u).next(function(t){if(!t)throw g("Dangling document-mutation reference found: "+r+" which points to "+u);v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+u),o.push(n.serializer.fromDbMutationBatch(t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ne(K),i=[];return e.forEach(function(e){var o=hr.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Nn(t).iterate({range:a},function(t,i,o){var a=t[0],s=t[2],u=En(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),Dn.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;v(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=hr.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new ne(K);return Nn(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[2],l=En(t[1]);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.lookupMutationBatches(t,s)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(kn(t).get(e).next(function(t){if(null===t)throw g("Dangling document-mutation reference found, which points to "+e);v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),Dn.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return An(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),Dn.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Dn.resolve();var r=IDBKeyRange.lowerBound(hr.prefixForUser(e.userId)),i=[];return Nn(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=En(t[1]);i.push(o)}else r.done()}).next(function(){v(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return On(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Pn(t).get(this.userId).next(function(t){return t||new lr(e.userId,-1,"")})},t}();function On(t,e,n){var r=hr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Nn(t).iterate({range:o,keysOnly:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function An(t,e,n){var r=t.store(cr.store),i=t.store(hr.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){v(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],p=hr.key(e,f.key.path,n.batchId);o.push(i.delete(p)),l.push(f.key)}return Dn.waitFor(o).next(function(){return l})}function xn(t){return t instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function kn(t){return jr.getStore(t,cr.store)}function Nn(t){return jr.getStore(t,hr.store)}function Pn(t){return jr.getStore(t,lr.store)}var Rn=1,Mn=function(t){return t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine",t}({}),Fn=function(){function t(t,e){this.generatorId=t,v((t&Rn)===t,"Generator ID "+t+" contains more than "+Rn+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<Rn,t},t.prototype.after=function(t){return this.seek(t+(1<<Rn)),this.next()},t.prototype.seek=function(t){v((t&Rn)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Mn.QueryCache,2)},t.forSyncEngine=function(){return new t(Mn.SyncEngine)},t}(),Ln=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return v(t.isAvailable(),"IndexedDB not supported in current environment."),d("SimpleDb","Opening database:",e),new Dn(function(i,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){i(new t(e.target.result))},a.onblocked=function(){o(new C(w.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new C(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},a.onupgradeneeded=function(t){d("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new Vn(a.transaction);r.createOrUpgrade(n,i,t.oldVersion,or).next(function(){d("SimpleDb","Database upgrade to version "+or+" complete")})}}).toPromise()},t.delete=function(t){return d("SimpleDb","Removing database:",t),Un(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.getStore=function(t,e){return t.store(e)},t.prototype.runTransaction=function(t,e,n){var r=Vn.open(this.db,t,e),i=n(r).catch(function(t){return r.abort(t),Dn.reject(t)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),jn=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Un(this.dbCursor.delete())},t}(),Vn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new pn,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(d("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return v(!!e,"Object store not part of transaction: "+t),new Bn(e)},t}(),Bn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Un(n)},t.prototype.add=function(t){return d("SimpleDb","ADD",this.store.name,t,t),Un(this.store.add(t))},t.prototype.get=function(t){var e=this;return Un(this.store.get(t)).next(function(n){return void 0===n&&(n=null),d("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return d("SimpleDb","DELETE",this.store.name,t),Un(this.store.delete(t))},t.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),Un(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new Dn(function(n,r){e.onerror=function(t){r(t.target.error)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new Dn(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new jn(i),a=e(i.primaryKey,i.value,o);if(a instanceof Dn){var s=a.catch(function(t){return o.done(),Dn.reject(t)});n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return Dn.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(v(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Un(t){return new Dn(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)}})}var qn=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Fn.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return $t.fromTimestamp(new et(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return Hn(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return zn(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return v(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return zn(t).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=e&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(t,u)))}).next(function(){return Dn.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var n=this;return zn(t).iterate(function(t,r){var i=n.serializer.fromDbTarget(r);e(i)})},t.prototype.retrieveMetadata=function(t){return Qn(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,jr.getStore(n,vr.store)).put(vr.key,e);var n},t.prototype.saveQueryData=function(t,e){return zn(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return zn(t).iterate({range:i,index:mr.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Wn(t);return e.forEach(function(e){var a=bn(e.path);i.push(o.put(new gr(n,a))),i.push(r.referenceDelegate.addReference(t,e))}),Dn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Wn(t);return Dn.forEach(e,function(e){var o=bn(e.path);return Dn.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Wn(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Wn(t),i=Ne();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=En(t[1]),o=new lt(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=bn(e.path),r=IDBKeyRange.bound([n],[Y(n)],!1,!0),i=0;return Wn(t).iterate({index:gr.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return zn(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function zn(t){return jr.getStore(t,mr.store)}function Qn(t){return Ln.getStore(t,vr.store).get(vr.key).next(function(t){return v(null!==t,"Missing metadata row."),t})}function Hn(t){return Qn(t).next(function(t){return t.highestListenSequenceNumber})}function Wn(t){return jr.getStore(t,gr.store)}var Kn=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(o[0].isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){I(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return O(this.inner)},t}(),Gn=function(){function t(){this.changes=Te(),this.documentSizes=new Kn(function(t){return t.toString()})}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this,r=this.assertChanges().get(e);return r?Dn.resolve(r):this.getFromCache(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},t.prototype.getEntries=function(t,e){var n=this;return this.getAllFromCache(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},t.prototype.apply=function(t){var e=this.applyChanges(t);return this.changes=null,e},t.prototype.assertChanges=function(){return v(null!==this.changes,"Changes have already been applied."),this.changes},t}(),Yn="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Jn=function(){function t(t,e,n){this.serializer=t,this.indexManager=e,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=Ln.getStore(t,wr.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e,n){var r=[];if(e.length>0){for(var i=$n(t),o=Ne(),a=0,s=e;a<s.length;a++){var u=s[a],l=u.key,c=u.doc;r.push(i.put(er(l),c)),o=o.add(l),r.push(this.indexManager.addToCollectionParentIndex(t,l.path.popLast()))}this.keepDocumentChangeLog&&r.push(tr(t).put({changes:this.serializer.toDbResourcePaths(o)})),r.push(this.updateSize(t,n))}return Dn.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=$n(t),r=er(e);return n.get(r).next(function(t){return t?n.delete(r).next(function(){return nr(t)}):Dn.resolve(0)})},t.prototype.getEntry=function(t,e){var n=this;return $n(t).get(er(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return $n(t).get(er(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:nr(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=De();return this.forEachDbEntry(t,e,function(t,e){r=r.insert(t,e?n.serializer.fromDbRemoteDocument(e):null)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=De(),i=new dt(lt.comparator);return this.forEachDbEntry(t,e,function(t,e){e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),i=i.insert(t,nr(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return Dn.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return $n(t).iterate({range:r},function(t,e,r){for(var a=lt.fromSegments(t);o&&lt.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this;v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Oe(),i=e.path.length+1,o=e.path.toArray(),a=IDBKeyRange.lowerBound(o);return $n(t).iterate({range:a},function(t,o,a){if(t.length===i){var s=n.serializer.fromDbRemoteDocument(o);e.path.isPrefixOf(s.key.path)?s instanceof ht&&e.matches(s)&&(r=r.insert(s.key,s)):a.done()}}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;v(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Ne(),r=Te(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=tr(t);return a.iterate({range:i},function(t,r){if(o&&(o=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(a).next(function(){return Dn.reject(new C(w.DATA_LOSS,Yn))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(e.getEntry(t,n).next(function(t){var e=t||new ft(n,$t.forDeletedDoc());r=r.insert(n,e)}))}),Dn.waitFor(i)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return tr(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t.prototype.newChangeBuffer=function(){return new Xn(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Zn(t).get(yr.key).next(function(t){return v(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return Zn(t).put(yr.key,e)},t.prototype.updateSize=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.setMetadata(t,r)})},t}();function Zn(t){return jr.getStore(t,yr.store)}var Xn=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var o=e.documentCache.serializer.toDbRemoteDocument(n),a=e.documentSizes.get(t);v(void 0!==a,"Attempting to change document "+t.toString()+" without having read it first");var s=nr(o);r+=s-a,i.push({key:t,doc:o})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Gn);function $n(t){return jr.getStore(t,dr.store)}function tr(t){return jr.getStore(t,wr.store)}function er(t){return t.path.toArray()}function nr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw g("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var rr=function(){function t(){this.collectionParentIndex=new ir}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),Dn.resolve()},t.prototype.getCollectionParents=function(t,e){return Dn.resolve(this.collectionParentIndex.getEntries(e))},t}(),ir=function(){function t(){this.index={}}return t.prototype.add=function(t){v(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ne(at.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.getEntries=function(t){return(this.index[t]||new ne(at.comparator)).toArray()},t}(),or=8,ar=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;v(n<r&&n>=0&&r<=or,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(ur.store)}(t),function(t){t.createObjectStore(lr.store,{keyPath:lr.keyPath}),t.createObjectStore(cr.store,{keyPath:cr.keyPath,autoIncrement:!0}).createIndex(cr.userMutationsIndex,cr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(hr.store)}(t),br(t),function(t){t.createObjectStore(dr.store)}(t));var o=Dn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(gr.store),t.deleteObjectStore(mr.store),t.deleteObjectStore(vr.store)}(t),br(t)),o=o.next(function(){return function(t){var e=t.store(vr.store),n=new vr(0,0,$t.MIN.toTimestamp(),0);return e.put(vr.key,n)}(e)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(cr.store).loadAll().next(function(n){t.deleteObjectStore(cr.store),t.createObjectStore(cr.store,{keyPath:cr.keyPath,autoIncrement:!0}).createIndex(cr.userMutationsIndex,cr.userMutationsKeyPath,{unique:!0});var r=e.store(cr.store),i=n.map(function(t){return r.put(t)});return Dn.waitFor(i)})}(t,e)})),o=o.next(function(){!function(t){t.createObjectStore(Cr.store,{keyPath:Cr.keyPath})}(t),function(t){t.createObjectStore(wr.store,{keyPath:"id",autoIncrement:!0})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(e)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(yr.store)}(t),i.addDocumentGlobal(e)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(e)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(t,e)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(dr.store).iterate(function(t,n){e+=nr(n)}).next(function(){var n=new yr(e);return t.store(yr.store).put(yr.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(lr.store),r=t.store(cr.store);return n.loadAll().next(function(n){return Dn.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(cr.userMutationsIndex,i).next(function(r){return Dn.forEach(r,function(r){v(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return An(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(gr.store),n=t.store(dr.store);return Hn(t).next(function(t){var r=[];return n.iterate(function(n,i){var o=new at(n),a=function(t){return[0,bn(t)]}(o);r.push(e.get(a).next(function(n){return n?Dn.resolve():function(n){return e.put(new gr(0,bn(n),t))}(o)}))}).next(function(){return Dn.waitFor(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(_r.store,{keyPath:_r.keyPath});var n=e.store(_r.store),r=new ir,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:bn(i)})}};return e.store(dr.store).iterate({keysOnly:!0},function(t,e){var n=new at(t);return i(n.popLast())}).next(function(){return e.store(hr.store).iterate({keysOnly:!0},function(t,e){var n=En(t[1]);return i(n.popLast())})})},t}(),sr=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),ur=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),lr=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),cr=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),hr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,bn(e)]},t.key=function(t,e,n){return[t,bn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),fr=function(){return function(t,e){this.path=t,this.readTime=e}}(),pr=function(){return function(t,e){this.path=t,this.version=e}}(),dr=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),yr=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),mr=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),gr=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,v(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),vr=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),_r=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function br(t){t.createObjectStore(gr.store,{keyPath:gr.keyPath}).createIndex(gr.documentTargetsIndex,gr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(mr.store,{keyPath:mr.keyPath}).createIndex(mr.queryTargetsIndexName,mr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(vr.store)}var wr=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}(),Cr=function(){function t(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return t.store="clientMetadata",t.keyPath="clientId",t}(),Er=[lr.store,cr.store,hr.store,dr.store,mr.store,ur.store,vr.store,gr.store].concat([Cr.store,wr.store]).concat([yr.store]).concat([_r.store]),Sr=function(){function t(){this.collectionParentsCache=new ir}return t.prototype.addToCollectionParentIndex=function(t,e){if(v(e.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(e)){v(e.length>=1,"Invalid collection path.");var n=e.lastSegment(),r=e.popLast();return Tr(t).put({collectionId:n,parent:bn(r)})}return Dn.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Y(e),""],!1,!0);return Tr(t).loadAll(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(En(o.parent))}return n})},t}();function Tr(t){return jr.getStore(t,_r.store)}var Dr=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=lt.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new ft(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=lt.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new pt(e,n)):g("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof ht){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t);return new dr(null,null,e,i=t.hasCommittedMutations)}if(t instanceof ft){var n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),i=t.hasCommittedMutations;return new dr(null,new fr(n,r),null,i)}return t instanceof pt?(n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),new dr(new pr(n,r),null,null,!0)):g("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new sr(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new et(t.seconds,t.nanoseconds);return $t.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map(function(t){return n.remoteSerializer.toMutation(t)}),i=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new cr(t,e.batchId,e.localWriteTime.toMillis(),r,i)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.remoteSerializer.fromMutation(t)}),r=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),i=et.fromMillis(t.localWriteTimeMs);return new Sn(t.batchId,i,n,r)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(bn(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Ne(),n=0,r=t;n<r.length;n++)e=e.add(new lt(En(r[n])));return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new ee(e,t.targetId,te.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},t.prototype.toDbTarget=function(t){v(te.Listen===t.purpose,"Only queries with purpose "+te.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new mr(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,e)},t}();function Ir(t,e){var n=t[1],r=e[1],i=K(t[0],e[0]);return 0===i?K(n,r):i}var Or=function(){function t(t){this.maxElements=t,this.buffer=new ne(Ir),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ir(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Ar={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xr=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),kr=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.gcTask=null}return t.prototype.start=function(){v(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==xr.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;v(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(hn.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(Vr)})},t}(),Nr=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Dn.resolve(fn.INVALID);var r=new Or(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===xr.COLLECTION_DISABLED?(d("LruGarbageCollector","Garbage collection skipped; disabled"),Dn.resolve(Ar)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ar):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,i,o,a,s,u,l,c=this;return o=Date.now(),this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,a=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,u=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return l=Date.now(),f()<=h.DEBUG&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-o)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-o)+"ms"),Dn.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Pr="IndexedDbPersistence",Rr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mr="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.",Fr="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",Lr=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return a.__extends(e,t),e}(function(){return function(){}}()),jr=function(){function t(e,n,r,i,o,a,s){if(this.persistenceKey=e,this.clientId=n,this.queue=i,this.multiClientParams=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new C(w.UNIMPLEMENTED,Fr);if(this.referenceDelegate=new qr(this,a),this.dbName=e+t.MAIN_DATABASE,this.serializer=new Dr(o),this.document=r.document,this.allowTabSynchronization=void 0!==s,this.queryCache=new qn(this.referenceDelegate,this.serializer),this.indexManager=new Sr,this.remoteDocumentCache=new Jn(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new C(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Lr)return Ln.getStore(t.simpleDbTransaction,e);throw g("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,r,i,o,s){return a.__awaiter(this,void 0,void 0,function(){var u;return a.__generator(this,function(a){switch(a.label){case 0:return[4,(u=new t(e,n,r,i,o,s)).start()];case 1:return a.sent(),[2,u]}})})},t.createMultiClientIndexedDbPersistence=function(e,n,r,i,o,s,u){return a.__awaiter(this,void 0,void 0,function(){var l;return a.__generator(this,function(a){switch(a.label){case 0:return[4,(l=new t(e,n,r,i,o,s,u)).start()];case 1:return a.sent(),[2,l]}})})},t.prototype.start=function(){var t=this;return v(!this.started,"IndexedDbPersistence double-started!"),v(null!==this.window,"Expected 'window' to be defined"),Ln.openOrCreate(this.dbName,or,new ar(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()}).then(function(){return t.simpleDb.runTransaction("readonly",[vr.store],function(e){return Hn(e).next(function(e){t.listenSequence=new fn(e,t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",Er,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",Er,function(e){return Ur(e).put(new Cr(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return Br(t).get(ur.key).next(function(t){return Dn.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return Ur(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return a.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return a.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var o=t.getStore(i,Cr.store);return o.loadAll().next(function(t){e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return Dn.forEach(n,function(t){return o.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==r.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),i.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(hn.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return Br(t).get(ur.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new C(w.FAILED_PRECONDITION,Mr);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ur(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&d(Pr,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(t){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(n){switch(n.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[ur.store,Cr.store],function(t){return e.releasePrimaryLeaseIfHeld(t).next(function(){return e.removeClientMetadata(t)})})];case 1:return n.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),t?[4,Ln.delete(this.dbName)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[Cr.store],function(e){return Ur(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return v(this.started,"Cannot initialize MutationQueue before persistence is started."),In.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getQueryCache=function(){return v(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return v(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return v(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;return d(Pr,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",Er,function(i){return"readwrite-primary"===e?r.verifyPrimaryLease(i).next(function(e){if(!e)throw y("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new C(w.FAILED_PRECONDITION,Rr);return n(new Lr(i,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(i).next(function(){return t})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new Lr(i,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return Br(t).get(ur.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new C(w.FAILED_PRECONDITION,Mr)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new ur(this.clientId,this.allowTabSynchronization,Date.now());return Br(t).put(ur.key,e)},t.isAvailable=function(){return Ln.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=Br(t);return n.get(ur.key).next(function(t){return e.isLocalClient(t)?(d(Pr,"Releasing primary lease."),n.delete(ur.key)):Dn.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(y("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(v(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(v("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return d(Pr,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return y(Pr,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){y("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function Vr(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){if(!function(t){return t.code===w.FAILED_PRECONDITION&&t.message===Rr}(t))throw t;return d(Pr,"Unexpectedly lost primary lease"),[2]})})}function Br(t){return t.store(ur.store)}function Ur(t){return t.store(Cr.store)}var qr=function(){function t(t,e){this.db=t,this.garbageCollector=new Nr(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return zr(t,e)},t.prototype.removeReference=function(t,e){return zr(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return zr(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Dn.resolve(!0):function(t,e){var n=!1;return Pn(t).iterateSerial(function(r){return On(t,r,e).next(function(t){return t&&(n=!0),Dn.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=0,o=[];return this.forEachOrphanedDocument(t,function(a,s){if(s<=e){var u=n.isPinned(t,a).next(function(e){if(!e)return r++,n.removeOrphanedDocument(t,a).next(function(t){i+=t})});o.push(u)}}).next(function(){return Dn.waitFor(o)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(t,-i)}).next(function(){return r})},t.prototype.removeOrphanedDocument=function(t,e){var n,r=0,i=this.db.getRemoteDocumentCache();return Dn.waitFor([Wn(t).delete((n=e,[0,bn(n.path)])),i.removeEntry(t,e).next(function(t){r+=t})]).next(function(){return r})},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return zr(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=Wn(t),i=fn.INVALID;return r.iterate({index:gr.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==fn.INVALID&&e(new lt(En(n)),i),i=a,n=o):i=fn.INVALID}).next(function(){i!==fn.INVALID&&e(new lt(En(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function zr(t,e){return Wn(t).put(function(t,e){return new gr(0,bn(t.path),e)}(e,t.currentSequenceNumber))}var Qr=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=De();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),o=Te();return i.forEach(function(t,e){e||(e=new ft(t,$t.forDeletedDoc())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new lt(e)).next(function(t){var e=Oe();return t instanceof ht&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e){var n=this;v(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,i=Oe();return this.indexManager.getCollectionParents(t,r).next(function(o){return Dn.forEach(o,function(o){var a=e.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(t,a).next(function(t){t.forEach(function(t,e){i=i.insert(t,e)})})}).next(function(){return i})})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0,s=o.mutations;a<s.length;a++){var u=s[a],l=u.key;if(e.path.isImmediateParentOf(l.path)){var c=n.get(l),h=u.applyToLocalView(c,c,o.localWriteTime);n=h instanceof ht?n.insert(l,h):n.remove(l)}}}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t}(),Hr=function(){function t(){this.refsByKey=new ne(Wr.compareByKey),this.refsByTarget=new ne(Wr.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Wr(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Wr(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=lt.EMPTY,r=new Wr(n,t),i=new Wr(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),o.push(t.key)}),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=lt.EMPTY,n=new Wr(e,t),r=new Wr(e,t+1),i=Ne();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Wr(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Wr=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return lt.comparator(t.key,e.key)||K(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return K(t.targetOrBatchId,e.targetOrBatchId)||lt.comparator(t.key,e.key)},t}(),Kr=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Hr,this.queryDataByTarget={},v(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new Qr(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new Qr(e.remoteDocuments,e.mutationQueue,e.persistence.getIndexManager()),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=[],o=[],a=Ne(),s=0,u=r;s<u.length;s++){i.push((p=u[s]).batchId);for(var l=0,c=p.mutations;l<c.length;l++)a=a.add(c[l].key)}for(var h=0,f=t;h<f.length;h++){var p;o.push((p=f[h]).batchId);for(var d=0,y=p.mutations;d<y.length;d++)a=a.add(y[d].key)}return e.localDocuments.getDocuments(n,a).next(function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:o}})})})},t.prototype.localWrite=function(t){var e=this,n=et.now(),r=t.reduce(function(t,e){return t.add(e.key)},Ne());return this.persistence.runTransaction("Locally write mutations","readwrite",function(i){return e.localDocuments.getDocuments(i,r).next(function(r){for(var o=[],a=0,s=t;a<s.length;a++){var u=s[a],l=r.get(u.key);if(!u.isIdempotent){var c=u.fieldMask;if(c){var h=l instanceof ht?c.applyTo(l.data):Rt.EMPTY;o.push(new he(u.key,h,c,ue.exists(!0)))}}}return e.mutationQueue.addMutationBatch(i,n,o,t).next(function(t){var e=t.applyToLocalDocumentSet(r);return{batchId:t.batchId,changes:e}})})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):Dn.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,i)}).next(function(){return i.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return v(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(i){var o=[],a=Ne();D(e.targetChanges,function(r,s){var u=n.queryDataByTarget[r];if(u){s.addedDocuments.forEach(function(t){a=a.add(t)}),s.modifiedDocuments.forEach(function(t){a=a.add(t)}),o.push(n.queryCache.removeMatchingKeys(i,s.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(i,s.addedDocuments,r)}));var l=s.resumeToken;if(l.length>0){var c=u;u=u.copy({resumeToken:l,snapshotVersion:e.snapshotVersion}),n.queryDataByTarget[r]=u,t.shouldPersistQueryData(c,u,s)&&o.push(n.queryCache.updateQueryData(i,u))}}});var s=Te(),u=Ne();e.documentUpdates.forEach(function(t,e){u=u.add(t)}),o.push(r.getEntries(i,u).next(function(t){e.documentUpdates.forEach(function(u,l){var c=t.get(u);null==c||l.version.isEqual($t.MIN)||a.has(l.key)&&!c.hasPendingWrites||l.version.compareTo(c.version)>=0?(r.addEntry(l),s=s.insert(u,l)):d("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version),e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))})}));var l=e.snapshotVersion;if(!l.isEqual($t.MIN)){var c=n.queryCache.getLastRemoteSnapshotVersion(i).next(function(t){return v(l.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+l+" < "+t),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,l)});o.push(c)}return Dn.waitFor(o).next(function(){return r.apply(i)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(i,s)})})},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return Dn.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),Dn.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){return i?(r=i,Dn.resolve()):e.queryCache.allocateTargetId(n).next(function(i){return r=new ee(t,i,te.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return v(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this;return this.persistence.runTransaction("Release query",e?"readwrite":"readwrite-primary",function(r){return n.queryCache.getQueryData(r,t).next(function(i){v(null!=i,"Tried to release nonexistent query: "+t);var o=i.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],e?Dn.resolve():Dn.forEach(s,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,a)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=Dn.resolve();return o.forEach(function(r){a=a.next(function(){return n.getEntry(t,r)}).next(function(t){var o=t,a=e.docVersions.get(r);v(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,e))?n.addEntry(o):v(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(t,i)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Gr=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=b(),this.batchesByDocumentKey=new ne(Wr.compareByKey)}return t.prototype.checkEmpty=function(t){return Dn.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");v(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return v(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,Dn.resolve()},t.prototype.getLastStreamToken=function(t){return Dn.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Dn.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){v(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&v(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Sn(i,e,n,r);this.mutationQueue.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Wr(u.key,i)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast())}return Dn.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Dn.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return v(null!=n,"Failed to find local mutation batch."),Dn.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.indexOfBatchId(e+1),r=n<0?0:n;return Dn.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},t.prototype.getAllMutationBatches=function(t){return Dn.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Wr(e,0),i=new Wr(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){v(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);v(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),Dn.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ne(K);return e.forEach(function(t){var e=new Wr(t,0),i=new Wr(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){v(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),Dn.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;lt.isDocumentKey(i)||(i=i.child(""));var o=new Wr(new lt(i),0),a=new ne(K);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)},o),Dn.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;v(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Dn.forEach(e.mutations,function(i){var o=new Wr(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(t,i.key)}).next(function(){n.batchesByDocumentKey=r})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Wr(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Dn.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&v(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Dn.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return v(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return v(n.batchId===t,"If found batch must match"),n},t}(),Yr=function(){function t(t){this.persistence=t,this.queries=new Kn(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=$t.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Hr,this.targetCount=0,this.targetIdGenerator=Fn.forQueryCache()}return t.prototype.getTargetCount=function(t){return Dn.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),Dn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Dn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Dn.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Dn.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Dn.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return v(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,Dn.resolve()},t.prototype.updateQueryData=function(t,e){return v(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),Dn.resolve()},t.prototype.removeQueryData=function(t,e){return v(this.targetCount>0,"Removing a target from an empty cache"),v(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Dn.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.queries.forEach(function(a,s){s.sequenceNumber<=e&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Dn.waitFor(o).next(function(){return i})},t.prototype.getQueryCount=function(t){return Dn.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return Dn.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return g("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.addReference(t,e))}),Dn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.removeReference(t,e))}),Dn.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Dn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Dn.resolve(n)},t.prototype.containsKey=function(t,e){return Dn.resolve(this.references.containsKey(e))},t}(),Jr=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new dt(lt.comparator),this.newDocumentChanges=Ne(),this.size=0}return t.prototype.addEntries=function(t,e,n){for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i],s=a.maybeDocument.key;this.docs=this.docs.insert(s,a),this.newDocumentChanges=this.newDocumentChanges.add(s),r.push(this.indexManager.addToCollectionParentIndex(t,s.path.popLast()))}return this.size+=n,Dn.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=this.docs.get(e);return n?(this.docs=this.docs.remove(e),this.size-=n.size,Dn.resolve(n.size)):Dn.resolve(0)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Dn.resolve(n?n.maybeDocument:null)},t.prototype.getSizedEntry=function(t,e){return Dn.resolve(this.docs.get(e))},t.prototype.getEntries=function(t,e){var n=this,r=De();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Dn.resolve(r)},t.prototype.getSizedEntries=function(t,e){var n=this,r=De(),i=new dt(lt.comparator);return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null),i=i.insert(t,e?e.size:0)}),Dn.resolve({maybeDocuments:r,sizeMap:i})},t.prototype.getDocumentsMatchingQuery=function(t,e){v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Oe(),r=new lt(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.value.maybeDocument;if(!e.path.isPrefixOf(o.key.path))break;a instanceof ht&&e.matches(a)&&(n=n.insert(a.key,a))}return Dn.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return Dn.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=Te();return this.newDocumentChanges.forEach(function(t){var r=e.docs.get(t),i=r?r.maybeDocument:new ft(t,$t.forDeletedDoc());n=n.insert(t,i)}),this.newDocumentChanges=Ne(),Dn.resolve(n)},t.prototype.newChangeBuffer=function(){return new Zr(this.sizer,this)},t.prototype.getSize=function(t){return Dn.resolve(this.size)},t}(),Zr=function(t){function e(e,n){var r=t.call(this)||this;return r.sizer=e,r.documentCache=n,r}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var o=e.documentSizes.get(t);v(void 0!==o,"Attempting to change document "+t.toString()+" without having read it first");var a=e.sizer(n);r+=a-o,i.push({maybeDocument:n,size:a})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Gn),Xr=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new fn(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Yr(this),this.indexManager=new rr,this.remoteDocumentCache=new Jr(this.indexManager,function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,r){return new t(e,function(t){return new ei(t,new Dr(n),r)})},t.createEagerPersistence=function(e){return new t(e,function(t){return new ti(t)})},t.prototype.shutdown=function(t){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Gr(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;d("MemoryPersistence","Starting transaction:",t);var i=new $r(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return Dn.or((n=this.mutationQueues,r=[],I(n,function(t,e){return r.push(e)}),r).map(function(n){return function(){return n.containsKey(t,e)}}));var n,r},t}(),$r=function(){return function(t){this.currentSequenceNumber=t}}(),ti=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Dn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Dn.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Dn.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache();return Dn.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(e){return e?Dn.resolve():n.removeEntry(t,r).next(function(){})})})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return Dn.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Dn.resolve(n.inMemoryPins.containsKey(e))}])},t}(),ei=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.orphanedSequenceNumbers=new Kn(function(t){return bn(t.path)}),this.garbageCollector=new Nr(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return Dn.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return Dn.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(t,r,i).next(function(t){return t?Dn.resolve():e(i)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache();return i.forEachDocumentKey(t,function(o){return n.isPinned(t,o,e).next(function(e){return e?Dn.resolve():(r++,i.removeEntry(t,o).next())})}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Dn.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Dn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Dn.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Dn.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw g("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return Dn.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return Dn.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return Dn.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),ni=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),ri=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),ii=1e3,oi=6e4,ai=1.5,si=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=ri.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new ni(t,e,ii,ai,oi)}return t.prototype.isStarted=function(){return this.state===ri.Starting||this.state===ri.Open||this.state===ri.Backoff},t.prototype.isOpen=function(){return this.state===ri.Open},t.prototype.start=function(){this.state!==ri.Error?(v(this.state===ri.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(ri.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){v(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=ri.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.isOpen()?[2,this.close(ri.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return v(this.isStarted(),"Only started streams should be closed."),v(t===ri.Error||Bt(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==ri.Error?this.backoff.reset():e&&e.code===w.RESOURCE_EXHAUSTED?(y(e.toString()),y("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===w.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;v(this.state===ri.Initial,"Must be in initial state to auth"),this.state=ri.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new C(w.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;v(this.state===ri.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return v(e.state===ri.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=ri.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;v(this.state===ri.Error,"Should only perform backoff when in Error state"),this.state=ri.Backoff,this.backoff.backoffAndRun(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){return v(this.state===ri.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=ri.Initial,this.start(),v(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return v(this.isStarted(),"Can't handle server close on non-started stream"),d("PersistentStream","close with error: "+t),this.stream=null,this.close(ri.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),ui=function(t){function e(e,n,r,i,o){var a=t.call(this,e,hn.ListenStreamConnectionBackoff,hn.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return a.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(si),li=function(t){function e(e,n,r,i,o){var a=t.call(this,e,hn.WriteStreamConnectionBackoff,hn.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a}return a.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(v(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return v(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){v(this.isOpen(),"Writing handshake requires an opened stream"),v(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;v(this.isOpen(),"Writing mutations requires an opened stream"),v(this.handshakeComplete_,"Handshake must be complete before writing mutations"),v(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(si),ci=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new li(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new ui(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=Te();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);v(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),hi=function(){function t(t){this.datastore=t,this.readVersions=xe(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof ht)e=t.version;else{if(!(t instanceof ft))throw g("Document in a transaction was a "+t.constructor.name);e=$t.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new C(w.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){t instanceof ft||t instanceof ht?e.recordVersion(t):g("Document in a transaction was a "+t.constructor.name)}),t})},t.prototype.write=function(t){if(this.committed)throw new C(w.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?ue.updateTime(e):ue.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual($t.forDeletedDoc()))throw new C(w.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?ue.updateTime(e):ue.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new pe(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,$t.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),fi=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),pi=function(t){return t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState",t}({}),di=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=fi.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(fi.Unknown),v(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(hn.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,v(t.state===fi.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(fi.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===fi.Online?(this.setAndBroadcast(fi.Unknown),v(0===this.watchStreamFailures,"watchStreamFailures must be 0"),v(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(fi.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===fi.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(y(e),this.shouldWarnClientIsOffline=!1):d("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),yi=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new di(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(fi.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(fi.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(d("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return d("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(fi.Unknown),[2]}})})},t.prototype.listen=function(t){v(!S(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){v(S(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),O(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(fi.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){v(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Ke(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!O(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){return D(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return void 0===t&&v(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(fi.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(fi.Online),t instanceof He&&t.state===Qe.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof qe?this.watchChangeAggregator.handleDocumentChange(t):t instanceof ze?this.watchChangeAggregator.handleExistenceFilter(t):(v(t instanceof He,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual($t.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;v(!t.isEqual($t.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return D(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:b()}),e.sendUnwatchRequest(t);var r=new ee(n.query,t,te.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;v(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return S(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){v(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){v(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)}).catch(Vr)},t.prototype.onMutationResult=function(t,e){var n=this;v(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Tn.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(n){return void 0===t&&v(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]:[2]})})},t.prototype.handleHandshakeError=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return we(t.code)?(d("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=b(),[2,this.localStore.setLastStreamToken(b()).catch(Vr)]):[2]})})},t.prototype.handleWriteError=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){return we(i=t.code)&&i!==w.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2];var i})})},t.prototype.createTransaction=function(){return new hi(this.datastore)},t.prototype.handleCredentialChange=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(d("RemoteStore","RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return t.sent(),this.onlineStateTracker.set(fi.Unknown),[4,this.enableNetwork()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(fi.Unknown),e.label=4;case 4:return[2]}})})},t}(),mi=function(){return function(){this.listeners=[]}}(),gi=function(){function t(t){this.syncEngine=t,this.queries=new Kn(function(t){return t.canonicalId()}),this.onlineState=fi.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new mi,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return a.__generator(this,function(o){return n=!1,(r=this.queries.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=this.queries.get(r.query);if(i){for(var o=0,a=i.listeners;o<a.length;o++)a[o].onViewSnapshot(r);i.viewSnap=r}}},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].applyOnlineStateChange(t)})},t}(),vi=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=fi.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(v(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Fe.Metadata&&e.push(i)}t=new Ve(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return v(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==fi.Offline?(v(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===fi.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){v(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Ve.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),_i=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=Ne(),i=Ne(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case Fe.Added:r=r.add(s.doc.key);break;case Fe.Removed:i=i.add(s.doc.key)}}return new t(e,r,i)},t}(),bi=function(){return function(t){this.key=t}}(),wi=function(){return function(t){this.key=t}}(),Ci=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Ne(),this.mutatedKeys=Ne(),this.documentSet=new Me(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new je,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),c=e instanceof ht?e:null;c&&(v(t.isEqual(c.key),"Mismatching keys found in document changes: "+t+" != "+c.key),c=n.query.matches(c)?c:null);var h=!!l&&n.mutatedKeys.has(l.key),f=!!c&&(c.hasLocalMutations||n.mutatedKeys.has(c.key)&&c.hasCommittedMutations),p=!1;l&&c?l.data.isEqual(c.data)?h!==f&&(r.track({type:Fe.Metadata,doc:c}),p=!0):n.shouldWaitForSyncedDocument(l,c)||(r.track({type:Fe.Modified,doc:c}),p=!0,u&&n.query.docComparator(c,u)>0&&(s=!0)):!l&&c?(r.track({type:Fe.Added,doc:c}),p=!0):l&&!c&&(r.track({type:Fe.Removed,doc:l}),p=!0,u&&(s=!0)),p&&(c?(a=a.add(c),o=f?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var l=a.last();a=a.delete(l.key),o=o.delete(l.key),r.track({type:Fe.Removed,doc:l})}return v(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;v(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case Fe.Added:return 1;case Fe.Modified:case Fe.Metadata:return 2;case Fe.Removed:return 0;default:return g("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Le.Synced:Le.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new Ve(this.query,t.documentSet,i,o,t.mutatedKeys,s===Le.Local,u,!1),limboChanges:a}:{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===fi.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new je,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return v(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Ne(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new wi(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new bi(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Ne();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return Ve.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Le.Local)},t}(),Ei=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),Si=function(){return function(t){this.key=t}}(),Ti=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Kn(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new dt(lt.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Hr,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Fn.forSyncEngine(),this.isPrimary=void 0,this.onlineState=fi.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){v(null!==t,"SyncEngine listener cannot be null"),v(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o;return a.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(this.sharedClientState.addLocalQueryTarget(e=r.targetId),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var n=this,r=t.query;return this.localStore.executeQuery(r).then(function(i){return n.localStore.remoteDocumentKeys(t.targetId).then(function(o){var a=new Ci(r,o),s=a.computeDocChanges(i),u=Ue.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&n.onlineState!==fi.Offline),l=a.applyChanges(s,!0===n.isPrimary,u);v(0===l.limboChanges.length,"View returned limbo docs before target ack from the server."),v(!!l.snapshot,"applyChanges for new view should always return a snapshot");var c=new Ei(r,t.targetId,a);return n.queryViewsByQuery.set(r,c),n.queryViewsByTarget[t.targetId]=c,l.snapshot})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then(function(n){return e.localStore.remoteDocumentKeys(t.targetId).then(function(r){return a.__awaiter(e,void 0,void 0,function(){var e;return a.__generator(this,function(i){return e=t.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]})})})})},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),v(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(Vr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.sharedClientState.addPendingMutation(t.batchId),n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),v(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!Bt(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(i){return Promise.reject(n.wrapUpdateFunctionError(i))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then(function(n){return I(t.targetChanges,function(t,n){var r=e.limboResolutionsByTarget[t];r&&(v(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?v(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(v(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),e.emitNewSnapsAndNotifyLocalStore(n,t)}).catch(Vr)},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===pi.RemoteStore||!this.isPrimary&&e===pi.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(e,r){var i=r.view.applyOnlineStateChange(t);v(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,u,l=this;return a.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),(r=(n=this.limboResolutionsByTarget[t])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new dt(lt.comparator)).insert(r,new ft(r,$t.forDeletedDoc())),o=Ne().add(r),s=new Be($t.MIN,{},new ne(K),i,o),[2,this.applyRemoteEvent(s)]):[3,1];case 1:return v(!!(u=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(u.query,!1).then(function(){return l.removeAndCleanupQuery(u)}).catch(Vr)];case 2:a.sent(),this.syncEngineListener.onWatchError(u.query,e),a.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(d("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):g("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var n=t.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.sharedClientState.updateMutationState(n,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)}).catch(Vr)},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(r){return n.sharedClientState.updateMutationState(t,"rejected",e),n.emitNewSnapsAndNotifyLocalStore(r)}).catch(Vr)},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new dt(K)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(v(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof bi?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof wi?(d("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):g("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){d("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=qt.atPath(e.path);this.limboResolutionsByTarget[n]=new Si(e),this.remoteStore.listen(new ee(r,n,te.LimboResolution,fn.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return a.__generator(this,function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(a,s){i.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var i=s.view.applyChanges(t,!0===o.isPrimary,e&&e.targetChanges[s.targetId]);if(o.updateTrackedLimbos(s.targetId,i.limboChanges),i.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var a=_i.fromSnapshot(s.targetId,i.snapshot);r.push(a)}}))}),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){v(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n;return a.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,s,u=this;return a.__generator(this,function(a){switch(a.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return a.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=a.sent(),r=0,i=n;r<i.length;r++)this.remoteStore.listen(i[r]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,o=[],s=Promise.resolve(),D(this.queryViewsByTarget,function(t,e){u.sharedClientState.isLocalQueryTarget(t)?o.push(t):s=s.then(function(){return u.unlisten(e.query)}),u.remoteStore.unlisten(e.targetId)}),[4,s]);case 4:return a.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(o)];case 5:return a.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:a.sent(),a.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;D(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new dt(lt.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){for(var e=this,n=Promise.resolve(),r=[],i=[],o=function(t){n=n.then(function(){return a.__awaiter(e,void 0,void 0,function(){var e,n,o,s;return a.__generator(this,function(a){switch(a.label){case 0:return(n=this.queryViewsByTarget[t])?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return a.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return e=a.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return(o=a.sent()).snapshot&&i.push(o.snapshot),[3,8];case 4:return v(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return v(!!(s=a.sent()),"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(s)];case 6:return e=a.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:a.sent(),a.label=8;case 8:return r.push(e),[2]}})})})},s=0,u=t;s<u.length;s++)o(u[s]);return n.then(function(){return e.syncEngineListener.onWatchChange(i),r})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r,i=this;return a.__generator(this,function(o){switch(o.label){case 0:if(this.isPrimary)return d("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return a.__awaiter(i,void 0,void 0,function(){var r;return a.__generator(this,function(i){switch(i.label){case 0:return r=Be.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return i.sent(),[2]}})})},function(t){return a.__awaiter(i,void 0,void 0,function(){var e;return a.__generator(this,function(n){switch(n.label){case 0:return function(t){return t.code===w.DATA_LOSS&&t.message===Yn}(t)?(e=[],D(this.queryViewsByTarget,function(t){return e.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw t;case 3:return[2]}})})})];case 2:return this.removeAndCleanupQuery(r=this.queryViewsByTarget[t]),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return o.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:g("Unexpected target state: "+e),o.label=5;case 5:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,u,l,c,h,f=this;return a.__generator(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,p.label=1;case 1:return n<r.length?(v(!this.queryViewsByTarget[h=r[n]],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return v(!!(i=p.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=p.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:p.sent(),this.remoteStore.listen(o),p.label=5;case 5:return n++,[3,1];case 6:s=function(t){var e;return a.__generator(this,function(n){switch(n.label){case 0:return(e=u.queryViewsByTarget[t])?[4,u.localStore.releaseQuery(e.query,!1).then(function(){f.remoteStore.unlisten(t),f.removeAndCleanupQuery(e)}).catch(Vr)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},u=this,l=0,c=e,p.label=7;case 7:return l<c.length?[5,s(h=c[l])]:[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Ne().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Ne()},t}(),Di=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Ii="SharedClientState",Oi="firestore_clients",Ai="firestore_mutations",xi="firestore_targets",ki="firestore_online_state",Ni="firestore_sequence_number",Pi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,v(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new C(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(y(Ii,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ri=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,v(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new C(r.error.code,r.error.message)),i?new t(e,r.state,o):(y(Ii,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Mi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Re(),a=0;i&&a<r.activeTargetIds.length;++a)i=Ut(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(y(Ii,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Fi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&void 0!==fi[n.onlineState]&&"string"==typeof n.clientId?new t(n.clientId,fi[n.onlineState]):(y(Ii,"Failed to parse online state: "+e),null)},t}(),Li=function(){function t(){this.activeTargetIds=Re()}return t.prototype.addQueryTarget=function(t){v(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ji=function(){function t(e,n,r,i,o){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new C(w.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Ni+"_"+r,this.activeClients[this.localClientId]=new Li,this.clientStateKeyRe=new RegExp("^"+Oi+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Ai+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+xi+"_"+a+"_(\\d+)$"),this.onlineStateKey=ki+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return a.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,l,c,h=this;return a.__generator(this,function(a){switch(a.label){case 0:return v(!this.started,"WebStorageSharedClientState already started"),v(null!==this.syncEngine,"syncEngine property must be set before calling start()"),v(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=a.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Mi.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(s=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(s))&&this.handleOnlineStateEvent(u),l=0,c=this.earlyEvents;l<c.length;l++)this.handleWebStorageEvent(c[l]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=Re();return I(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Ri.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return d(Ii,"READ",t,e),e},t.prototype.setItem=function(t,e){d(Ii,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){d(Ii,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(d(Ii,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void y("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return a.__awaiter(e,void 0,void 0,function(){var e,n,r,i,o,s;return a.__generator(this,function(a){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(v(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(s=function(t){var e=fn.INVALID;if(null!=t)try{var n=JSON.parse(t);v("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(r){y(Ii,"Failed to read sequence number from WebStorage",r)}return e}(t.newValue))!==fn.INVALID&&this.sequenceNumberHandler(s));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Pi(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:fi[t]}))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Ri(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return v(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Oi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return xi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Ai+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return v(null!==n,"Cannot parse client state key '"+t+"'"),Mi.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);v(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return Pi.fromWebStorageEntry(new Di(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);v(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Ri.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return Fi.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(d(Ii,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],s=[];return i.forEach(function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return r.has(t)||o.push(t),[2]})})}),r.forEach(function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return i.has(t)||s.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,s)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),Vi=function(){function t(){this.localState=new Li,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Li,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Bi=function(){function t(t,e){this.cacheSizeBytes=t,this.experimentalTabSynchronization=e}return t.prototype.lruParams=function(){return xr.withCacheSize(this.cacheSizeBytes)},t}(),Ui=function(){return function(){}}(),qi=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=W.newId()}return t.prototype.start=function(t){var e=this,n=new pn,r=new pn,i=!1;return this.credentials.setChangeListener(function(o){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(o)}):(i=!0,e.initializePersistence(t,r,o).then(function(t){return e.initializeRest(o,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof Bi?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof C?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=jr.buildStoragePrefix(this.databaseInfo),i=new rn(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return a.__awaiter(n,void 0,void 0,function(){var n,o;return a.__generator(this,function(a){switch(a.label){case 0:if(e.experimentalTabSynchronization&&!ji.isAvailable(this.platform))throw new C(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return o=e.lruParams(),e.experimentalTabSynchronization?(this.sharedClientState=new ji(this.asyncQueue,this.platform,r,this.clientId,t),[4,jr.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=a.sent(),[3,4];case 2:return this.sharedClientState=new Vi,[4,jr.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o)];case 3:n=a.sent(),a.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=Xr.createEagerPersistence(this.clientId),this.sharedClientState=new Vi,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return d("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return a.__awaiter(n,void 0,void 0,function(){var n,i,o,s=this;return a.__generator(this,function(u){switch(u.label){case 0:return this.localStore=new Kr(this.persistence,t),e&&(this.lruScheduler=new kr(e,this.asyncQueue,this.localStore)),n=this.platform.newSerializer(this.databaseInfo.databaseId),i=new ci(this.asyncQueue,r,this.credentials,n),o=function(t){return s.syncEngine.applyOnlineStateChange(t,pi.SharedClientState)},this.remoteStore=new yi(this.localStore,i,this.asyncQueue,function(t){return s.syncEngine.applyOnlineStateChange(t,pi.RemoteStore)}),this.syncEngine=new Ti(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=o,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new gi(this.syncEngine),[4,this.sharedClientState.start()];case 1:return u.sent(),[4,this.remoteStore.start()];case 2:return u.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return a.__awaiter(s,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 3:return u.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),d("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.shutdown=function(t){var e=this;return this.asyncQueue.enqueue(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown(t&&t.purgePersistenceWithDataLoss)];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}})})})},t.prototype.listen=function(t,e,n){var r=this,i=new vi(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof ht)return t;if(t instanceof ft)return null;throw new C(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=Ne(),r=new Ci(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot})},t.prototype.write=function(t){var e=this,n=new pn;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.enqueue(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),zi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Qi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,r,i){if(!(t instanceof Array)||t.length<1)throw new C(w.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+H(1,"element")+".")}();for(var n=0;n<t.length;++n)if(P("FieldPath","string",n,t[n]),0===t[n].length)throw new C(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ut.keyField().canonicalString()),t}(),Hi=new RegExp("[~\\*/\\[\\]]"),Wi=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),Ki=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(Di.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){v(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Gi=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;v(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new C(w.ABORTED,"getToken aborted due to token change.");return n?(v("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Wi(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){v(null!=this.tokenListener,"removeChangeListener() called twice"),v(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return v(null===t||"string"==typeof t,"Received invalid UID: "+t),new Di(t)},t}(),Yi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Di.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),Ji=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new Yi(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(Di.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Zi(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Xi=function(){function t(t){this._methodName=t}return t.delete=function(){return A("FieldValue.delete",arguments),$i.instance},t.serverTimestamp=function(){return A("FieldValue.serverTimestamp",arguments),to.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return k("FieldValue.arrayUnion",arguments,1),new eo(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return k("FieldValue.arrayRemove",arguments,1),new no(t)},t.increment=function(t){return P("FieldValue.increment","number",1,t),x("FieldValue.increment",arguments,1),new ro(t)},t.prototype.isEqual=function(t){return this===t},t}(),$i=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return a.__extends(e,t),e.instance=new e,e}(Xi),to=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return a.__extends(e,t),e.instance=new e,e}(Xi),eo=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return a.__extends(e,t),e}(Xi),no=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return a.__extends(e,t),e}(Xi),ro=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return a.__extends(e,t),e}(Xi),io=E(Xi,"Use FieldValue.<field>() instead."),oo=/^__.*__$/,ao=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new he(t,this.data,this.fieldMask,e):new ce(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new fe(t,this.fieldTransforms)),n},t}(),so=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new he(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new fe(t,this.fieldTransforms)),n},t}(),uo=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t}({});function lo(t){switch(t){case uo.Set:case uo.MergeSet:case uo.Update:return!0;case uo.Argument:return!1;default:throw g("Unexpected case for UserDataSource: "+t)}}var co=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new C(w.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(lo(this.dataSource)&&oo.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),ho=function(){return function(t,e){this.databaseId=t,this.key=e}}(),fo=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new co(uo.Set,t,ut.EMPTY_PATH);yo("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new ao(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new co(uo.MergeSet,t,ut.EMPTY_PATH);yo("Data must be an object, but it was:",r,e);var i,o,a=this.parseData(e,r);if(n){for(var s=new ne(ut.comparator),u=0,l=n;u<l.length;u++){var c=l[u],h=void 0;if(c instanceof Qi)h=c._internalPath;else{if("string"!=typeof c)throw g("Expected stringOrFieldPath to be a string or a FieldPath");h=go(t,c)}if(!r.contains(h))throw new C(w.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s=s.add(h)}i=ie.fromSet(s),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=ie.fromArray(r.fieldMask),o=r.fieldTransforms;return new ao(a,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new co(uo.Update,t,ut.EMPTY_PATH);yo("Data must be an object, but it was:",r,e);var i=new ne(ut.comparator),o=Rt.EMPTY;I(e,function(e,a){var s=go(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof $i)i=i.add(s);else{var l=n.parseData(a,u);null!=l&&(i=i.add(s),o=o.set(s,l))}});var a=ie.fromSet(i);return new so(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new co(uo.Update,t,ut.EMPTY_PATH),o=[mo(t,e)],a=[n];if(r.length%2!=0)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(mo(t,r[s])),a.push(r[s+1]);var u=new ne(ut.comparator),l=Rt.EMPTY;for(s=0;s<o.length;++s){var c=o[s],h=i.childContextForFieldPath(c),f=this.runPreConverter(a[s],h);if(f instanceof $i)u=u.add(c);else{var p=this.parseData(f,h);null!=p&&(u=u.add(c),l=l.set(c,p))}}var d=ie.fromSet(u);return new so(l,d,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new co(uo.Argument,t,ut.EMPTY_PATH),r=this.parseData(e,n);return v(null!=r,"Parsed data should not be null."),v(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=vo(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(po(t=this.runPreConverter(t,e)))return yo("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof Xi)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new dt(K);return O(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):I(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new Rt(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=this.parseData(o[i],e.childContextForArray(r));null==a&&(a=Ct.INSTANCE),n.push(a),r++}return new Mt(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!lo(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof $i){if(e.dataSource!==uo.MergeSet)throw e.dataSource===uo.Update?(v(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof to)e.fieldTransforms.push(new oe(e.path,de.instance));else if(t instanceof eo){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new ye(n);e.fieldTransforms.push(new oe(e.path,r))}else if(t instanceof no){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new me(n);e.fieldTransforms.push(new oe(e.path,i))}else if(t instanceof ro){var o=this.parseQueryValue("FieldValue.increment",t._operand),a=new ge(o);e.fieldTransforms.push(new oe(e.path,a))}else g("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return Ct.INSTANCE;if("number"==typeof t)return Ut(t)?new Dt(t):new It(t);if("boolean"==typeof t)return Et.of(t);if("string"==typeof t)return new Ot(t);if(t instanceof Date)return new At(et.fromDate(t));if(t instanceof et)return new At(new et(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof tt)return new Pt(t);if(t instanceof X)return new kt(t);if(t instanceof ho)return new Nt(t.databaseId,t.key);throw e.createError("Unsupported field value: "+B(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new co(uo.Argument,t,ut.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function po(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof et||t instanceof tt||t instanceof X||t instanceof ho||t instanceof Xi)}function yo(t,e,n){if(!po(n)||!V(n)){var r=B(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function mo(t,e){if(e instanceof Qi)return e._internalPath;if("string"==typeof e)return go(t,e);throw new C(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function go(t,e){try{return function(t){if(t.search(Hi)>=0)throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Qi.bind.apply(Qi,[void 0].concat(t.split("."))))}catch(e){throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(r){var n=vo(r);throw new C(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function vo(t){return t instanceof Error?t.message:t.toString()}var _o="firestore.googleapis.com",bo=!0,wo=!0,Co=xr.COLLECTION_DISABLED,Eo=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new C(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_o,this.ssl=bo}else M("settings","non-empty string","host",t.host),this.host=t.host,F("settings","boolean","ssl",t.ssl),this.ssl=T(t.ssl,bo);if(q("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes"]),F("settings","object","credentials",t.credentials),this.credentials=t.credentials,F("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?y("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&y("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=T(t.timestampsInSnapshots,wo),F("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=xr.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Co&&t.cacheSizeBytes<xr.MINIMUM_CACHE_SIZE_BYTES)throw new C(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+xr.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes},t}(),So=function(){return function(){}}(),To=function(){function t(e){var n=this;this._queue=new yn,this.INTERNAL={delete:function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return this._firestoreClient?[2,this._firestoreClient.shutdown(t)]:[2]})})}};var r=new So;if("object"==typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Gi(i)}else{var o=e;if(!o.projectId)throw new C(w.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new it(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new Ki}r.settings=new Eo({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(x("Firestore.settings",arguments,1),P("Firestore.settings","object",1,t),S(t,"persistence"))throw new C(w.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Eo(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new Ki;switch(t.type){case"gapi":var e=t.client;return v(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Ji(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new C(w.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new Bi(this._config.settings.cacheSizeBytes,void 0!==t&&T(t.experimentalTabSynchronization,!1)))},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Ui),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;v(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),v(!this._firestoreClient,"configureClient() called multiple times");var n=new nt(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new fo(function(t){if(t instanceof Oo){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new C(w.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new ho(e._config.databaseId,t._key)}return t}),this._firestoreClient=new qi(_.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!S(e,"projectId"))throw new C(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new C(w.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new it(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new C(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return x("Firestore.collection",arguments,1),P("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new Ro(at.fromString(t),this)},t.prototype.doc=function(t){return x("Firestore.doc",arguments,1),P("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Oo.forPath(at.fromString(t),this)},t.prototype._collectionGroup=function(t){if(x("Firestore.collectionGroup",arguments,1),P("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new C(w.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new No(new qt(at.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return x("Firestore.runTransaction",arguments,1),P("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new Do(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new Io(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(f()){case h.DEBUG:return"debug";case h.ERROR:return"error";case h.SILENT:return"silent";default:return g("Unknown log level: "+f())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(x("Firestore.setLogLevel",arguments,1),P("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":p(h.DEBUG);break;case"error":p(h.ERROR);break;case"silent":p(h.SILENT);break;default:throw new C(w.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),Do=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;x("Transaction.get",arguments,1);var n=jo("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return g("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof ft)return new xo(e._firestore,n._key,null,!1,!1);if(r instanceof ht)return new xo(e._firestore,n._key,r,!1,!1);throw g("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){N("Transaction.set",arguments,2,3);var r=jo("Transaction.set",t,this._firestore),i=(n=Mo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof Qi?(k("Transaction.update",arguments,3),r=jo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(x("Transaction.update",arguments,2),r=jo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){x("Transaction.delete",arguments,1);var e=jo("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),Io=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){N("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=jo("WriteBatch.set",t,this._firestore),i=(n=Mo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,ue.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Qi?(k("WriteBatch.update",arguments,3),r=jo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(x("WriteBatch.update",arguments,2),r=jo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,ue.exists(!0))),this},t.prototype.delete=function(t){x("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=jo("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new pe(e._key,ue.NONE)),this},t.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new C(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Oo=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new C(w.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new lt(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ro(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(x("DocumentReference.collection",arguments,1),P("DocumentReference.collection","non-empty string",1,t),!t)throw new C(w.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=at.fromString(t);return new Ro(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){N("DocumentReference.set",arguments,1,2);var n=(e=Mo("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,ue.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Qi?(k("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(x("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,ue.exists(!0)))},t.prototype.delete=function(){return x("DocumentReference.delete",arguments,0),this._firestoreClient.write([new pe(this._key,ue.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];N("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Zi(t[i])||(q("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),F("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Zi(t[i])?n=t[i]:(P("DocumentReference.onSnapshot","function",i,t[i]),R("DocumentReference.onSnapshot","function",i+1,t[i+1]),R("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new zi({next:function(t){if(e.next){v(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new xo(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(qt.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return N("DocumentReference.get",arguments,0,1),Lo("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new xo(e.firestore,e._key,t,!0,t instanceof ht&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new C(w.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new C(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),Ao=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),xo=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return N("DocumentSnapshot.data",arguments,0,1),t=Fo("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,bt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(N("DocumentSnapshot.get",arguments,1,2),e=Fo("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(mo("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,bt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Oo(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Ao(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof Rt)return this.convertObject(t,e);if(t instanceof Mt)return this.convertArray(t,e);if(t instanceof Nt){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||y("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Oo(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),ko=function(t){function e(e,n,r,i,o){return t.call(this,e,n,r,i,o)||this}return a.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return v("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(xo),No=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var i;x("Query.where",arguments,3),P("Query.where","non-empty string",2,n),U("Query.where",3,r);var o=mo("Query.where",e),a=Qt.fromString(n);if(o.isKeyField()){if(a===Qt.ARRAY_CONTAINS)throw new C(w.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof r){if(""===r)throw new C(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==r.indexOf("/"))throw new C(w.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection by FieldPath.documentId(), the value provided must be a plain document ID, but '"+r+"' contains a slash.");var s=this._query.path.child(at.fromString(r));if(!lt.isDocumentKey(s))throw new C(w.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+s+"' is not because it has an odd number of segments ("+s.length+").");i=new Nt(this.firestore._databaseId,new lt(s))}else{if(!(r instanceof Oo))throw new C(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+B(r)+".");i=new Nt(this.firestore._databaseId,r._key)}}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var u=zt.create(o,a,i);return this.validateNewFilter(u),new t(this._query.addFilter(u),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(N("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Gt.ASCENDING;else{if("desc"!==n)throw new C(w.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Gt.DESCENDING}if(null!==this._query.startAt)throw new C(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new C(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=mo("Query.orderBy",e),o=new Jt(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(x("Query.limit",arguments,1),P("Query.limit","number",1,e),e<=0)throw new C(w.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(U(t,1,e),e instanceof xo){if(n.length>0)throw new C(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new C(w.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Nt(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(s instanceof xt)throw new C(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===s){var u=a.field.canonicalString();throw new C(w.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Yt(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new C(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new C(w.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(at.fromString(a));if(!lt.isDocumentKey(s))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new lt(s);i.push(new Nt(this.firestore._databaseId,u))}else{var l=this.firestore._dataConverter.parseQueryValue(t,a);i.push(l)}}return new Yt(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];N("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Zi(t[i])||(q("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),F("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Zi(t[i])?n=t[i]:(P("Query.onSnapshot","function",i,t[i]),R("Query.onSnapshot","function",i+1,t[i+1]),R("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new zi({next:function(t){e.next&&e.next(new Po(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(t){var e=this;return N("Query.get",arguments,0,1),Lo("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new Po(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new C(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Ht)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new C(w.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}else if(t.op===Qt.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new C(w.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new C(w.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Po=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Ao(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;N("QuerySnapshot.forEach",arguments,1,2),P("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new No(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(q("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),F("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new C(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new ko(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return v(e.type===Fe.Added,"Invalid event type for first snapshot"),v(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==Fe.Metadata}).map(function(e){var r=new ko(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,a=-1;return e.type!==Fe.Added&&(v((i=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==Fe.Removed&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:Vo(e.type),doc:r,oldIndex:i,newIndex:a}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new ko(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(Po.prototype.docChanges,t,{get:function(){return function(){throw new C(w.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var Ro=function(t){function e(e,n){var r=t.call(this,qt.atPath(e),n)||this;if(e.length%2!=1)throw new C(w.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return a.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Oo(new lt(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(N("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=W.newId()),P("CollectionReference.doc","non-empty string",1,t),""===t)throw new C(w.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=at.fromString(t);return Oo.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){x("CollectionReference.add",arguments,1),P("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(No);function Mo(t,e){if(void 0===e)return{merge:!1};if(q(t,e,["merge","mergeFields"]),F(t,"boolean","merge",e.merge),"mergeFields","a string or a FieldPath",void 0!==(n=e.mergeFields)&&function(t,e,n,r,i){if(!(r instanceof Array))throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+B(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+o+" was: "+B(r[o]))}(t,0,0,n,function(t){return"string"==typeof t||t instanceof Qi}),void 0!==e.mergeFields&&void 0!==e.merge)throw new C(w.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function Fo(t,e){return void 0===e?{}:(q(t,e,["serverTimestamps"]),L(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Lo(t,e){R(t,"object",1,e),e&&(q(t,e,["source"]),L(t,0,"source",e.source,["default","server","cache"]))}function jo(t,e,n){if(e instanceof Oo){if(e.firestore!==n)throw new C(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw z(t,"DocumentReference",1,e)}function Vo(t){switch(t){case Fe.Added:return"added";case Fe.Modified:case Fe.Metadata:return"modified";case Fe.Removed:return"removed";default:return g("Unknown change type: "+t)}}var Bo=E(To,"Use firebase.firestore() instead."),Uo=E(Do,"Use firebase.firestore().runTransaction() instead."),qo=E(Io,"Use firebase.firestore().batch() instead."),zo=E(Oo,"Use firebase.firestore().doc() instead."),Qo=E(xo),Ho=E(ko),Wo=E(No),Ko=E(Po),Go=E(Ro,"Use firebase.firestore().collection() instead."),Yo={Firestore:Bo,GeoPoint:tt,Timestamp:et,Blob:$,Transaction:Uo,WriteBatch:qo,DocumentReference:zo,DocumentSnapshot:Qo,Query:Wo,QueryDocumentSnapshot:Ho,QuerySnapshot:Ko,CollectionReference:Go,FieldPath:Qi,FieldValue:io,setLogLevel:To.setLogLevel,CACHE_SIZE_UNLIMITED:Co};function Jo(t){t.INTERNAL.registerService("firestore",function(t){return new To(t)},function(t){v(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Yo))}Jo(i),e.registerFirestore=Jo},"6ahw":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("iLxQ"),i=n("DKTb"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},"6blF":function(t,e,n){"use strict";var r=n("FFOo"),i=n("L/V9"),o=n("6ahw"),a=n("xTla"),s=n("y3By"),u=n("iLxQ");n.d(e,"a",function(){return l});var l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a?a.call(s,this.source):s.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof r.a?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=c(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(s.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=c(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function c(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"73IE":function(t,e,n){"use strict";var r=n("H6ty"),i=n("hEy5"),o=n("z5ME")("startsWith"),a="".startsWith;n("pSMy")({target:"String",proto:!0,forced:!o},{startsWith:function(t){var e=i(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),o=String(t);return a?a.call(e,o,n):e.slice(n,n+o.length)===o}})},"7xuS":function(t,e,n){t.exports=n("T3Qk")},"8g8A":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},"9Nts":function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},"9UdO":function(t,e,n){n("q94Q")("dispose")},"9r11":function(t,e,n){t.exports=n("ArVK")},A9d8:function(t,e,n){"use strict";var r=n("YxH6").IteratorPrototype,i=n("tzov"),o=n("2Hee"),a=n("S4gH"),s=n("0i0S"),u=function(){return this};t.exports=function(t,e,n){var l=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,l,!1,!0),s[l]=u,t}},ArVK:function(t,e,n){n("d8cw"),t.exports=n("vLVD")("Array","find")},AzFY:function(t,e,n){t.exports=n("tuBy")},BloW:function(t,e,n){var r=n("5eG6"),i=n("ysHE").WeakMap;t.exports="function"==typeof i&&/native code/.test(r.call(i))},CS9Q:function(t,e,n){"use strict";var r=n("mrSG"),i=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}();n.d(e,"a",function(){return o});var o=function(t){function e(n,r){void 0===r&&(r=i.now);var o=t.call(this,n,function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.__extends(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(i)},CcnG:function(t,e,n){"use strict";n.r(e),n.d(e,"\u0275angular_packages_core_core_t",function(){return Xd}),n.d(e,"\u0275angular_packages_core_core_q",function(){return Yd}),n.d(e,"\u0275angular_packages_core_core_r",function(){return Jd}),n.d(e,"\u0275angular_packages_core_core_s",function(){return Zd}),n.d(e,"\u0275angular_packages_core_core_h",function(){return Zf}),n.d(e,"\u0275angular_packages_core_core_o",function(){return Ad}),n.d(e,"\u0275angular_packages_core_core_p",function(){return Fd}),n.d(e,"\u0275angular_packages_core_core_n",function(){return md}),n.d(e,"\u0275angular_packages_core_core_m",function(){return yd}),n.d(e,"\u0275angular_packages_core_core_c",function(){return ps}),n.d(e,"\u0275angular_packages_core_core_d",function(){return ke}),n.d(e,"\u0275angular_packages_core_core_e",function(){return Hf}),n.d(e,"\u0275angular_packages_core_core_f",function(){return Pf}),n.d(e,"\u0275angular_packages_core_core_g",function(){return Vf}),n.d(e,"\u0275angular_packages_core_core_l",function(){return oh}),n.d(e,"\u0275angular_packages_core_core_u",function(){return Tp}),n.d(e,"\u0275angular_packages_core_core_w",function(){return wp}),n.d(e,"\u0275angular_packages_core_core_v",function(){return bp}),n.d(e,"\u0275angular_packages_core_core_z",function(){return Sp}),n.d(e,"\u0275angular_packages_core_core_x",function(){return Cp}),n.d(e,"\u0275angular_packages_core_core_y",function(){return Ep}),n.d(e,"\u0275angular_packages_core_core_bc",function(){return On}),n.d(e,"\u0275angular_packages_core_core_bj",function(){return p}),n.d(e,"\u0275angular_packages_core_core_bd",function(){return Ze}),n.d(e,"\u0275angular_packages_core_core_be",function(){return $e}),n.d(e,"\u0275angular_packages_core_core_bf",function(){return gn}),n.d(e,"\u0275angular_packages_core_core_bi",function(){return ii}),n.d(e,"\u0275angular_packages_core_core_bm",function(){return Zt}),n.d(e,"\u0275angular_packages_core_core_i",function(){return hu}),n.d(e,"\u0275angular_packages_core_core_j",function(){return fu}),n.d(e,"\u0275angular_packages_core_core_k",function(){return pu}),n.d(e,"\u0275angular_packages_core_core_a",function(){return A}),n.d(e,"\u0275angular_packages_core_core_b",function(){return x}),n.d(e,"\u0275angular_packages_core_core_bk",function(){return l}),n.d(e,"\u0275angular_packages_core_core_ba",function(){return Km}),n.d(e,"\u0275angular_packages_core_core_bb",function(){return ly}),n.d(e,"createPlatform",function(){return Wp}),n.d(e,"assertPlatform",function(){return Gp}),n.d(e,"destroyPlatform",function(){return Yp}),n.d(e,"getPlatform",function(){return Jp}),n.d(e,"PlatformRef",function(){return Zp}),n.d(e,"ApplicationRef",function(){return $p}),n.d(e,"createPlatformFactory",function(){return Kp}),n.d(e,"NgProbeToken",function(){return Hp}),n.d(e,"enableProdMode",function(){return Bu}),n.d(e,"isDevMode",function(){return Vu}),n.d(e,"APP_ID",function(){return Jf}),n.d(e,"PACKAGE_ROOT_URL",function(){return rp}),n.d(e,"PLATFORM_INITIALIZER",function(){return tp}),n.d(e,"PLATFORM_ID",function(){return ep}),n.d(e,"APP_BOOTSTRAP_LISTENER",function(){return np}),n.d(e,"APP_INITIALIZER",function(){return Gf}),n.d(e,"ApplicationInitStatus",function(){return Yf}),n.d(e,"DebugElement",function(){return Od}),n.d(e,"DebugNode",function(){return Id}),n.d(e,"asNativeElements",function(){return gd}),n.d(e,"getDebugNode",function(){return Td}),n.d(e,"Testability",function(){return jp}),n.d(e,"TestabilityRegistry",function(){return Vp}),n.d(e,"setTestabilityGetter",function(){return Bp}),n.d(e,"TRANSLATIONS",function(){return Wd}),n.d(e,"TRANSLATIONS_FORMAT",function(){return Kd}),n.d(e,"LOCALE_ID",function(){return Hd}),n.d(e,"MissingTranslationStrategy",function(){return Gd}),n.d(e,"ApplicationModule",function(){return $d}),n.d(e,"wtfCreateScope",function(){return Ip}),n.d(e,"wtfLeave",function(){return Op}),n.d(e,"wtfStartTimeRange",function(){return Ap}),n.d(e,"wtfEndTimeRange",function(){return xp}),n.d(e,"Type",function(){return lh}),n.d(e,"EventEmitter",function(){return yc}),n.d(e,"ErrorHandler",function(){return Tf}),n.d(e,"Sanitizer",function(){return Iu}),n.d(e,"SecurityContext",function(){return Du}),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return k}),n.d(e,"Attribute",function(){return N}),n.d(e,"ContentChild",function(){return M}),n.d(e,"ContentChildren",function(){return R}),n.d(e,"Query",function(){return P}),n.d(e,"ViewChild",function(){return L}),n.d(e,"ViewChildren",function(){return F}),n.d(e,"Component",function(){return zh}),n.d(e,"Directive",function(){return qh}),n.d(e,"HostBinding",function(){return Gh}),n.d(e,"HostListener",function(){return Yh}),n.d(e,"Input",function(){return Wh}),n.d(e,"Output",function(){return Kh}),n.d(e,"Pipe",function(){return Qh}),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",function(){return af}),n.d(e,"NO_ERRORS_SCHEMA",function(){return sf}),n.d(e,"NgModule",function(){return uf}),n.d(e,"ViewEncapsulation",function(){return rt}),n.d(e,"Version",function(){return Ou}),n.d(e,"VERSION",function(){return Au}),n.d(e,"defineInjectable",function(){return _}),n.d(e,"defineInjector",function(){return b}),n.d(e,"forwardRef",function(){return Z}),n.d(e,"resolveForwardRef",function(){return X}),n.d(e,"Injectable",function(){return mf}),n.d(e,"INJECTOR",function(){return fs}),n.d(e,"Injector",function(){return ds}),n.d(e,"inject",function(){return Ne}),n.d(e,"\u0275inject",function(){return Ne}),n.d(e,"InjectFlags",function(){return Ie}),n.d(e,"ReflectiveInjector",function(){return Qf}),n.d(e,"createInjector",function(){return Ms}),n.d(e,"ResolvedReflectiveFactory",function(){return Ff}),n.d(e,"ReflectiveKey",function(){return xf}),n.d(e,"InjectionToken",function(){return E}),n.d(e,"Inject",function(){return Ce}),n.d(e,"Optional",function(){return Ee}),n.d(e,"Self",function(){return Se}),n.d(e,"SkipSelf",function(){return Te}),n.d(e,"Host",function(){return De}),n.d(e,"NgZone",function(){return kp}),n.d(e,"\u0275NoopNgZone",function(){return Lp}),n.d(e,"RenderComponentType",function(){return gu}),n.d(e,"Renderer",function(){return _u}),n.d(e,"Renderer2",function(){return Eu}),n.d(e,"RendererFactory2",function(){return wu}),n.d(e,"RendererStyleFlags2",function(){return Cu}),n.d(e,"RootRenderer",function(){return bu}),n.d(e,"COMPILER_OPTIONS",function(){return vp}),n.d(e,"Compiler",function(){return gp}),n.d(e,"CompilerFactory",function(){return _p}),n.d(e,"ModuleWithComponentFactories",function(){return op}),n.d(e,"ComponentFactory",function(){return Zs}),n.d(e,"\u0275ComponentFactory",function(){return Zs}),n.d(e,"ComponentRef",function(){return Js}),n.d(e,"ComponentFactoryResolver",function(){return iu}),n.d(e,"ElementRef",function(){return du}),n.d(e,"NgModuleFactory",function(){return uu}),n.d(e,"NgModuleRef",function(){return su}),n.d(e,"NgModuleFactoryLoader",function(){return eh}),n.d(e,"getModuleFactory",function(){return sh}),n.d(e,"QueryList",function(){return ed}),n.d(e,"SystemJsNgModuleLoader",function(){return id}),n.d(e,"SystemJsNgModuleLoaderConfig",function(){return nd}),n.d(e,"TemplateRef",function(){return mc}),n.d(e,"ViewContainerRef",function(){return ad}),n.d(e,"EmbeddedViewRef",function(){return pd}),n.d(e,"ViewRef",function(){return fd}),n.d(e,"ChangeDetectionStrategy",function(){return j}),n.d(e,"ChangeDetectorRef",function(){return ld}),n.d(e,"DefaultIterableDiffer",function(){return kd}),n.d(e,"IterableDiffers",function(){return Vd}),n.d(e,"KeyValueDiffers",function(){return Bd}),n.d(e,"SimpleChange",function(){return cr}),n.d(e,"WrappedValue",function(){return lr}),n.d(e,"platformCore",function(){return Qd}),n.d(e,"\u0275ALLOW_MULTIPLE_PLATFORMS",function(){return Qp}),n.d(e,"\u0275APP_ID_RANDOM_PROVIDER",function(){return Xf}),n.d(e,"\u0275defaultIterableDiffers",function(){return qd}),n.d(e,"\u0275defaultKeyValueDiffers",function(){return zd}),n.d(e,"\u0275devModeEqual",function(){return ur}),n.d(e,"\u0275isListLikeIterable",function(){return hr}),n.d(e,"\u0275ChangeDetectorStatus",function(){return V}),n.d(e,"\u0275isDefaultChangeDetectionStrategy",function(){return B}),n.d(e,"\u0275Console",function(){return ip}),n.d(e,"\u0275getInjectableDef",function(){return w}),n.d(e,"\u0275setCurrentInjector",function(){return Ae}),n.d(e,"\u0275APP_ROOT",function(){return As}),n.d(e,"\u0275ivyEnabled",function(){return ey}),n.d(e,"\u0275CodegenComponentFactoryResolver",function(){return ou}),n.d(e,"\u0275resolveComponentResources",function(){return $}),n.d(e,"\u0275ReflectionCapabilities",function(){return dh}),n.d(e,"\u0275RenderDebugInfo",function(){return vu}),n.d(e,"\u0275_sanitizeHtml",function(){return ul}),n.d(e,"\u0275_sanitizeStyle",function(){return Wc}),n.d(e,"\u0275_sanitizeUrl",function(){return Qu}),n.d(e,"\u0275global",function(){return z}),n.d(e,"\u0275looseIdentical",function(){return G}),n.d(e,"\u0275stringify",function(){return Y}),n.d(e,"\u0275makeDecorator",function(){return I}),n.d(e,"\u0275isObservable",function(){return Kf}),n.d(e,"\u0275isPromise",function(){return Wf}),n.d(e,"\u0275clearOverrides",function(){return Av}),n.d(e,"\u0275initServicesIfNeeded",function(){return Qg}),n.d(e,"\u0275overrideComponentView",function(){return Ov}),n.d(e,"\u0275overrideProvider",function(){return Iv}),n.d(e,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return tg}),n.d(e,"\u0275defineBase",function(){return ft}),n.d(e,"\u0275defineComponent",function(){return st}),n.d(e,"\u0275defineDirective",function(){return pt}),n.d(e,"\u0275definePipe",function(){return dt}),n.d(e,"\u0275defineNgModule",function(){return ct}),n.d(e,"\u0275detectChanges",function(){return ma}),n.d(e,"\u0275renderComponent",function(){return Ja}),n.d(e,"\u0275Render3ComponentFactory",function(){return Mu}),n.d(e,"\u0275Render3ComponentRef",function(){return Fu}),n.d(e,"\u0275directiveInject",function(){return Fa}),n.d(e,"\u0275injectAttribute",function(){return La}),n.d(e,"\u0275getFactoryOf",function(){return Ln}),n.d(e,"\u0275getInheritedFactory",function(){return jn}),n.d(e,"\u0275templateRefExtractor",function(){return Mc}),n.d(e,"\u0275ProvidersFeature",function(){return Ys}),n.d(e,"\u0275InheritDefinitionFeature",function(){return rs}),n.d(e,"\u0275NgOnChangesFeature",function(){return as}),n.d(e,"\u0275LifecycleHooksFeature",function(){return ts}),n.d(e,"\u0275Render3NgModuleRef",function(){return Gl}),n.d(e,"\u0275markDirty",function(){return ba}),n.d(e,"\u0275NgModuleFactory",function(){return Yl}),n.d(e,"\u0275NO_CHANGE",function(){return dr}),n.d(e,"\u0275container",function(){return ra}),n.d(e,"\u0275nextContext",function(){return ho}),n.d(e,"\u0275elementStart",function(){return Co}),n.d(e,"\u0275namespaceHTML",function(){return vo}),n.d(e,"\u0275namespaceMathML",function(){return go}),n.d(e,"\u0275namespaceSVG",function(){return mo}),n.d(e,"\u0275element",function(){return _o}),n.d(e,"\u0275listener",function(){return Ao}),n.d(e,"\u0275text",function(){return Ho}),n.d(e,"\u0275embeddedViewStart",function(){return sa}),n.d(e,"\u0275query",function(){return Pc}),n.d(e,"\u0275registerContentQuery",function(){return ja}),n.d(e,"\u0275projection",function(){return ha}),n.d(e,"\u0275bind",function(){return wa}),n.d(e,"\u0275interpolation1",function(){return Sa}),n.d(e,"\u0275interpolation2",function(){return Ta}),n.d(e,"\u0275interpolation3",function(){return Da}),n.d(e,"\u0275interpolation4",function(){return Ia}),n.d(e,"\u0275interpolation5",function(){return Oa}),n.d(e,"\u0275interpolation6",function(){return Aa}),n.d(e,"\u0275interpolation7",function(){return xa}),n.d(e,"\u0275interpolation8",function(){return ka}),n.d(e,"\u0275interpolationV",function(){return Ea}),n.d(e,"\u0275pipeBind1",function(){return uc}),n.d(e,"\u0275pipeBind2",function(){return lc}),n.d(e,"\u0275pipeBind3",function(){return cc}),n.d(e,"\u0275pipeBind4",function(){return hc}),n.d(e,"\u0275pipeBindV",function(){return fc}),n.d(e,"\u0275pureFunction0",function(){return Zl}),n.d(e,"\u0275pureFunction1",function(){return Xl}),n.d(e,"\u0275pureFunction2",function(){return $l}),n.d(e,"\u0275pureFunction3",function(){return tc}),n.d(e,"\u0275pureFunction4",function(){return ec}),n.d(e,"\u0275pureFunction5",function(){return nc}),n.d(e,"\u0275pureFunction6",function(){return rc}),n.d(e,"\u0275pureFunction7",function(){return ic}),n.d(e,"\u0275pureFunction8",function(){return oc}),n.d(e,"\u0275pureFunctionV",function(){return ac}),n.d(e,"\u0275getCurrentView",function(){return Ua}),n.d(e,"\u0275getHostElement",function(){return er}),n.d(e,"\u0275restoreView",function(){return Xe}),n.d(e,"\u0275containerRefreshStart",function(){return oa}),n.d(e,"\u0275containerRefreshEnd",function(){return aa}),n.d(e,"\u0275queryRefresh",function(){return Rc}),n.d(e,"\u0275loadQueryList",function(){return Ra}),n.d(e,"\u0275elementEnd",function(){return xo}),n.d(e,"\u0275elementProperty",function(){return No}),n.d(e,"\u0275componentHostSyntheticProperty",function(){return Po}),n.d(e,"\u0275projectionDef",function(){return la}),n.d(e,"\u0275reference",function(){return Pa}),n.d(e,"\u0275enableBindings",function(){return Ye}),n.d(e,"\u0275disableBindings",function(){return Je}),n.d(e,"\u0275allocHostVars",function(){return Ca}),n.d(e,"\u0275elementAttribute",function(){return ko}),n.d(e,"\u0275elementContainerStart",function(){return bo}),n.d(e,"\u0275elementContainerEnd",function(){return wo}),n.d(e,"\u0275elementStyling",function(){return Vo}),n.d(e,"\u0275elementHostAttrs",function(){return Bo}),n.d(e,"\u0275elementStylingMap",function(){return Qo}),n.d(e,"\u0275elementStyleProp",function(){return qo}),n.d(e,"\u0275elementStylingApply",function(){return Uo}),n.d(e,"\u0275elementClassProp",function(){return zo}),n.d(e,"\u0275textBinding",function(){return Wo}),n.d(e,"\u0275template",function(){return na}),n.d(e,"\u0275embeddedViewEnd",function(){return ua}),n.d(e,"\u0275store",function(){return Na}),n.d(e,"\u0275load",function(){return Ma}),n.d(e,"\u0275pipe",function(){return sc}),n.d(e,"\u0275whenRendered",function(){return es}),n.d(e,"\u0275i18n",function(){return Fl}),n.d(e,"\u0275i18nAttributes",function(){return Ll}),n.d(e,"\u0275i18nExp",function(){return Bl}),n.d(e,"\u0275i18nStart",function(){return xl}),n.d(e,"\u0275i18nEnd",function(){return Pl}),n.d(e,"\u0275i18nApply",function(){return Ul}),n.d(e,"\u0275i18nPostprocess",function(){return Nl}),n.d(e,"\u0275setClassMetadata",function(){return Jl}),n.d(e,"\u0275compileComponent",function(){return Rh}),n.d(e,"\u0275compileDirective",function(){return Mh}),n.d(e,"\u0275compileNgModule",function(){return Th}),n.d(e,"\u0275compileNgModuleDefs",function(){return Dh}),n.d(e,"\u0275patchComponentDefWithScope",function(){return Ah}),n.d(e,"\u0275resetCompiledComponents",function(){return Ih}),n.d(e,"\u0275compilePipe",function(){return Uh}),n.d(e,"\u0275sanitizeHtml",function(){return Kc}),n.d(e,"\u0275sanitizeStyle",function(){return Gc}),n.d(e,"\u0275defaultStyleSanitizer",function(){return Xc}),n.d(e,"\u0275sanitizeScript",function(){return Zc}),n.d(e,"\u0275sanitizeUrl",function(){return Yc}),n.d(e,"\u0275sanitizeResourceUrl",function(){return Jc}),n.d(e,"\u0275bypassSanitizationTrustHtml",function(){return jc}),n.d(e,"\u0275bypassSanitizationTrustStyle",function(){return Vc}),n.d(e,"\u0275bypassSanitizationTrustScript",function(){return Bc}),n.d(e,"\u0275bypassSanitizationTrustUrl",function(){return Uc}),n.d(e,"\u0275bypassSanitizationTrustResourceUrl",function(){return qc}),n.d(e,"\u0275getLContext",function(){return Vn}),n.d(e,"\u0275bindPlayerFactory",function(){return ri}),n.d(e,"\u0275addPlayer",function(){return Qa}),n.d(e,"\u0275getPlayers",function(){return Ha}),n.d(e,"\u0275compileNgModuleFactory__POST_R3__",function(){return zp}),n.d(e,"\u0275SWITCH_COMPILE_COMPONENT__POST_R3__",function(){return Jh}),n.d(e,"\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__",function(){return Zh}),n.d(e,"\u0275SWITCH_COMPILE_PIPE__POST_R3__",function(){return Xh}),n.d(e,"\u0275SWITCH_COMPILE_NGMODULE__POST_R3__",function(){return lf}),n.d(e,"\u0275getDebugNode__POST_R3__",function(){return Sd}),n.d(e,"\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__",function(){return gf}),n.d(e,"\u0275SWITCH_IVY_ENABLED__POST_R3__",function(){return ty}),n.d(e,"\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__",function(){return cd}),n.d(e,"\u0275Compiler_compileModuleSync__POST_R3__",function(){return lp}),n.d(e,"\u0275Compiler_compileModuleAsync__POST_R3__",function(){return hp}),n.d(e,"\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__",function(){return pp}),n.d(e,"\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__",function(){return yp}),n.d(e,"\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__",function(){return yu}),n.d(e,"\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__",function(){return gc}),n.d(e,"\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__",function(){return sd}),n.d(e,"\u0275SWITCH_RENDERER2_FACTORY__POST_R3__",function(){return Su}),n.d(e,"\u0275getModuleFactory__POST_R3__",function(){return ah}),n.d(e,"\u0275publishGlobalUtil",function(){return Ya}),n.d(e,"\u0275publishDefaultGlobalUtils",function(){return Ga}),n.d(e,"\u0275SWITCH_INJECTOR_FACTORY__POST_R3__",function(){return ys}),n.d(e,"\u0275registerModuleFactory",function(){return rh}),n.d(e,"\u0275EMPTY_ARRAY",function(){return Zy}),n.d(e,"\u0275EMPTY_MAP",function(){return Xy}),n.d(e,"\u0275and",function(){return $y}),n.d(e,"\u0275ccf",function(){return _m}),n.d(e,"\u0275cmf",function(){return xv}),n.d(e,"\u0275crt",function(){return by}),n.d(e,"\u0275did",function(){return Qm}),n.d(e,"\u0275eld",function(){return tm}),n.d(e,"\u0275elementEventFullName",function(){return ky}),n.d(e,"\u0275getComponentViewDefinitionFactory",function(){return bm}),n.d(e,"\u0275inlineInterpolate",function(){return Yy}),n.d(e,"\u0275interpolate",function(){return Gy}),n.d(e,"\u0275mod",function(){return cm}),n.d(e,"\u0275mpd",function(){return lm}),n.d(e,"\u0275ncd",function(){return fg}),n.d(e,"\u0275nov",function(){return km}),n.d(e,"\u0275pid",function(){return Hm}),n.d(e,"\u0275prd",function(){return Wm}),n.d(e,"\u0275pad",function(){return yg}),n.d(e,"\u0275pod",function(){return mg}),n.d(e,"\u0275ppd",function(){return dg}),n.d(e,"\u0275qud",function(){return sg}),n.d(e,"\u0275ted",function(){return vg}),n.d(e,"\u0275unv",function(){return gy}),n.d(e,"\u0275vid",function(){return wg});var r=n("mrSG"),i=n("pugT"),o=n("K9Ia"),a=n("6blF"),s=n("p0ib"),u=n("S1nX");function l(t){for(var e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var h=l({ngComponentDef:l}),f=l({ngDirectiveDef:l}),p=l({ngInjectableDef:l}),d=l({ngInjectorDef:l}),y=l({ngPipeDef:l}),m=l({ngModuleDef:l}),g=l({ngBaseDef:l}),v=l({__NG_ELEMENT_ID__:l});function _(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function b(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function w(t){return t&&t.hasOwnProperty(p)?t[p]:null}function C(t){return t&&t.hasOwnProperty(d)?t[d]:null}var E=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?_({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),S="__annotations__",T="__parameters__",D="__prop__metadata__";function I(t,e,n,i,o){var a=O(e);function s(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof s)return a.call.apply(a,Object(r.__spread)([this],e)),this;var u=new((t=s).bind.apply(t,Object(r.__spread)([void 0],e)));return function(t){return o&&o.apply(void 0,Object(r.__spread)([t],e)),(t.hasOwnProperty(S)?t[S]:Object.defineProperty(t,S,{value:[]})[S]).push(u),i&&i(t),t}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s}function O(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var i=t.apply(void 0,Object(r.__spread)(e));for(var o in i)this[o]=i[o]}}}function A(t,e,n){var i=O(e);function o(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof o)return i.apply(this,e),this;var a=new((t=o).bind.apply(t,Object(r.__spread)([void 0],e)));return s.annotation=a,s;function s(t,e,n){for(var r=t.hasOwnProperty(T)?t[T]:Object.defineProperty(t,T,{value:[]})[T];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}function x(t,e,n,i){var o=O(e);function a(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof a)return o.apply(this,e),this;var s=new((t=a).bind.apply(t,Object(r.__spread)([void 0],e)));return function(t,n){var o=t.constructor,a=o.hasOwnProperty(D)?o[D]:Object.defineProperty(o,D,{value:{}})[D];a[n]=a.hasOwnProperty(n)&&a[n]||[],a[n].unshift(s),i&&i.apply(void 0,Object(r.__spread)([t,n],e))}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a}var k=new E("AnalyzeForEntryComponents"),N=A("Attribute",function(t){return{attributeName:t}}),P=function(){return function(){}}(),R=x("ContentChildren",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)},P),M=x("ContentChild",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)},P),F=x("ViewChildren",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)},P),L=x("ViewChild",function(t,e){return Object(r.__assign)({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)},P),j=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),V=function(t){return t[t.CheckOnce=0]="CheckOnce",t[t.Checked=1]="Checked",t[t.CheckAlways=2]="CheckAlways",t[t.Detached=3]="Detached",t[t.Errored=4]="Errored",t[t.Destroyed=5]="Destroyed",t}({});function B(t){return null==t||t===j.Default}var U="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,z="undefined"!=typeof global&&global||U||q,Q=Promise.resolve(0),H=null;function W(){if(!H){var t=z.Symbol;if(t&&t.iterator)H=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(H=r)}}return H}function K(t){"undefined"==typeof Zone?Q.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function G(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Y(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(Y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var J=l({__forward_ref__:l});function Z(t){return t.__forward_ref__=Z,t.toString=function(){return Y(this())},t}function X(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(J)&&e.__forward_ref__===Z?e():t}function $(t){var e=[],n=new Map;function r(r){var i=n.get(r);if(!i){var o=t(r);n.set(r,i=o.then(nt)),e.push(i)}return i}return tt.forEach(function(t){t.templateUrl&&r(t.templateUrl).then(function(e){t.template=e,t.templateUrl=void 0});var e=t.styleUrls,n=t.styles||(t.styles=[]),i=t.styles.length;e&&e.forEach(function(o,a){n.push(""),r(o).then(function(r){n[i+a]=r,e.splice(e.indexOf(o),1),0==e.length&&(t.styleUrls=void 0)})})}),tt.clear(),Promise.all(e).then(function(){return null})}var tt=new Set;function et(t){return t.templateUrl||t.styleUrls&&t.styleUrls.length}function nt(t){return"string"==typeof t?t:t.text()}var rt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),it={},ot=[],at=0;function st(t){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,consts:t.consts,vars:t.vars,factory:t.factory,template:t.template||null,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,contentQueriesRefresh:t.contentQueriesRefresh||null,attributes:t.attributes||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===j.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||rt.Emulated,id:"c",styles:t.styles||ot,_:null};return i._=""+{toString:function(){var e=t.directives,n=t.features,o=t.pipes;i.id+=at++,i.inputs=ht(t.inputs,r),i.outputs=ht(t.outputs),n&&n.forEach(function(t){return t(i)}),i.directiveDefs=e?function(){return("function"==typeof e?e():e).map(ut)}:null,i.pipeDefs=o?function(){return("function"==typeof o?o():o).map(lt)}:null}},i}function ut(t){return yt(t)||mt(t)}function lt(t){return gt(t)}function ct(t){return{type:t.type,bootstrap:t.bootstrap||ot,declarations:t.declarations||ot,imports:t.imports||ot,exports:t.exports||ot,transitiveCompileScopes:null}}function ht(t,e){if(null==t)return it;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function ft(t){var e={};return{inputs:ht(t.inputs,e),declaredInputs:e,outputs:ht(t.outputs)}}var pt=st;function dt(t){return{name:t.name,factory:t.factory,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function yt(t){return t[h]||null}function mt(t){return t[f]||null}function gt(t){return t[y]||null}function vt(t,e){var n=t[m]||null;if(!n&&!0===e)throw new Error("Type "+Y(t)+" does not have 'ngModuleDef' property.");return n}var _t=0,bt=1,wt=2,Ct=3,Et=4,St=5,Tt=6,Dt=7,It=8,Ot=9,At=10,xt=11,kt=12,Nt=13,Pt=14,Rt=15,Mt=16,Ft=17,Lt=18,jt=0,Vt=1,Bt=6,Ut=7,qt=8,zt="__ngContext__",Qt=8,Ht=8,Wt=9,Kt=-1,Gt=function(){return function(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}(),Yt=Gt.prototype;function Jt(t){return"function"==typeof t?t.name||t:"string"==typeof t?t:null==t?"":"object"==typeof t&&"function"==typeof t.type?t.type.name||t.type:""+t}function Zt(t,e){return t[e+Lt]}function Xt(t){for(;Array.isArray(t);)t=t[St];return t}function $t(t,e){return Xt(e[t+Lt])}function te(t,e){return Xt(e[t.index])}function ee(t,e){return e[_t].data[t+Lt]}function ne(t,e){var n=e[t];return n.length>=Lt?n:n[St]}function re(t){return 0!=(4&t.flags)}function ie(t){return 1==(1&t.flags)}function oe(t){return null!==t.template}function ae(t){return Array.isArray(t)&&t.length===qt}function se(t){return 0!=(128&t[bt])}function ue(t){for(var e=Array.isArray(t)?t:he(t);e&&!(128&e[bt]);)e=e[wt];return e}function le(t){return ue(t)[Ot]}function ce(t){return t[zt]}function he(t){var e=ce(t);return e?Array.isArray(e)?e:e.lView:null}function fe(t){return t!==Kt}function pe(t){return 32767&t}function de(t){return t>>16}function ye(t,e){for(var n=de(t),r=e;n>0;)r=r[Ft],n--;return r}var me=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z);function ge(t,e){for(var n=0;n<t.length;n++)e.push(t[n])}function ve(t){for(var e=t[Tt];e&&2===e.type;)e=(t=t[Ft])[Tt];return t}function _e(){var t=z.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}var be,we,Ce=A("Inject",function(t){return{token:t}}),Ee=A("Optional"),Se=A("Self"),Te=A("SkipSelf"),De=A("Host"),Ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({}),Oe=void 0;function Ae(t){var e=Oe;return Oe=t,e}function xe(t){var e=be;return be=t,e}function ke(t,e){if(void 0===e&&(e=Ie.Default),void 0===Oe)throw new Error("inject() must be called from an injection context");return null===Oe?Pe(t,void 0,e):Oe.get(t,e&Ie.Optional?null:void 0,e)}function Ne(t,e){return void 0===e&&(e=Ie.Default),(be||ke)(t,e)}function Pe(t,e,n){var r=w(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&Ie.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND ["+Y(t)+"]")}function Re(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=Ie.Default,a=0;a<r.length;a++){var s=r[a];s instanceof Ee||"Optional"===s.ngMetadataName?o|=Ie.Optional:s instanceof Te||"SkipSelf"===s.ngMetadataName?o|=Ie.SkipSelf:s instanceof Se||"Self"===s.ngMetadataName?o|=Ie.Self:i=s instanceof Ce?s.token:s}e.push(Ne(i,o))}else e.push(Ne(r))}return e}function Me(t,e,n,r){e&&(r.initHooks||(r.initHooks=[])).push(t,e),n&&((r.initHooks||(r.initHooks=[])).push(t,n),(r.checkHooks||(r.checkHooks=[])).push(t,n))}function Fe(t,e){if(t.firstTemplatePass)for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];Le(i,t,n),je(i,t,n),Ve(i,t,n)}}function Le(t,e,n){t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked))}function je(t,e,n){t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked))}function Ve(t,e,n){null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}function Be(t,e,n){!n&&32&t[bt]&&(Ue(t,e.initHooks,e.checkHooks,n),t[bt]&=-33)}function Ue(t,e,n,r){if(!r){var i=2&t[bt]?e:n;i&&qe(t,i)}}function qe(t,e){for(var n=0;n<e.length;n+=2)e[n+1].call(t[e[n]])}var ze,Qe,He,We,Ke=null;function Ge(t){Ke=t}function Ye(){ze=!0}function Je(){ze=!1}function Ze(){return We}function Xe(t){an=t}function $e(){return Qe}function tn(t){Qe=t}function en(t,e){Qe=t,We=e}function nn(){return He}function rn(t){He=t}function on(t){return void 0===t&&(t=We),1==(1&t[bt])}var an=null,sn=!1;function un(){return sn}function ln(t){sn=t}var cn=!0;function hn(){return cn}function fn(t){cn=t}var pn=-1;function dn(){return pn}function yn(t){pn=t}function mn(t,e){var n=We;if(t){var r=t[_t];cn=r.firstTemplatePass,pn=r.bindingStartIndex}return Qe=e,He=!0,We=an=t,n}function gn(t){return void 0===t&&(t=1),(an=function(t,e){for(;t>0;)e=e[Ft],t--;return e}(t,an))[Ot]}function vn(t){var e=We[_t];on(We)?We[bt]&=-2:(Ue(We,e.viewHooks,e.viewCheckHooks,sn),We[bt]&=-11,We[bt]|=32,We[Dt]=e.bindingStartIndex),mn(t,null)}var _n=!0;function bn(t){var e=_n;return _n=t,e}var wn=255,Cn=0;function En(t,e){var n=Tn(t,e);if(-1!==n)return n;var r=e[_t];r.firstTemplatePass&&(t.injectorIndex=e.length,Sn(r.data,t),Sn(e,null),Sn(r.blueprint,null));var i=Dn(t,e),o=pe(i),a=ye(i,e),s=t.injectorIndex;if(fe(i))for(var u=a[_t].data,l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l];return e[s+Ht]=i,s}function Sn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Tn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+Ht]?-1:t.injectorIndex}function Dn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[Tt],r=1;n&&-1===n.injectorIndex;)n=(e=e[Ft])?e[Tt]:null,r++;return n?n.injectorIndex|r<<16:-1}function In(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[v]:n.charCodeAt(0)||0;null==r&&(r=n[v]=Cn++);var i=r&wn,o=1<<i,a=64&i,s=32&i,u=e.data;128&i?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e[_t],n)}function On(t,e){var n=t.attrs;if(n)for(var r=0;r<n.length;r+=2){var i=n[r];if(3===i)break;if(i==e)return n[r+1]}return null}function An(t,e,n,r,i){if(void 0===r&&(r=Ie.Default),t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[v];return"number"==typeof e?e&wn:e}(n);if("function"==typeof o){var a=$e(),s=Ze();en(t,e);try{var u=o();if(null!=u||r&Ie.Optional)return u;throw new Error("No provider for "+Jt(n)+"!")}finally{en(a,s)}}else if("number"==typeof o){var l=null,c=Tn(t,e),h=Kt,f=r&Ie.Host?ve(e)[Tt]:null;for((-1===c||r&Ie.SkipSelf)&&(h=-1===c?Dn(t,e):e[c+Ht],Mn(r,!1)?(l=e[_t],c=pe(h),e=ye(h,e)):c=-1);-1!==c;){h=e[c+Ht];var p=e[_t];if(Rn(o,c,p.data)){var d=kn(c,e,n,l,r,f);if(d!==xn)return d}Mn(r,e[_t].data[c+Qt]===f)&&Rn(o,c,e)?(l=p,c=pe(h),e=ye(h,e)):c=-1}}}if(r&Ie.Optional&&void 0===i&&(i=null),0==(r&(Ie.Self|Ie.Host))){var y=e[At];return y?y.get(n,i,r&Ie.Optional):Pe(n,i,r&Ie.Optional)}if(r&Ie.Optional)return i;throw new Error("NodeInjector: NOT_FOUND ["+Jt(n)+"]")}var xn={};function kn(t,e,n,r,i,o){var a=e[_t],s=a.data[t+Qt],u=Nn(s,e,n,null==r?ie(s)&&_n:r!=a&&3===s.type,i&Ie.Host&&o===s);return null!==u?Pn(a.data,e,u,s):xn}function Nn(t,e,n,r,i){for(var o=t.providerIndexes,a=e[_t].data,s=65535&o,u=t.directiveStart,l=o>>16,c=i?s+l:t.directiveEnd,h=r?s:s+l;h<c;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var p=a[u];if(p&&oe(p)&&p.type===n)return u}return null}function Pn(t,e,n,r){var i,o=e[n];if(null!=(i=o)&&"object"==typeof i&&Object.getPrototypeOf(i)==Yt){var a=o;if(a.resolving)throw new Error("Circular dep for "+Jt(t[n]));var s=bn(a.canSeeViewProviders);a.resolving=!0;var u=void 0;a.injectImpl&&(u=xe(a.injectImpl));var l=$e(),c=Ze();en(r,e);try{o=e[n]=a.factory(null,t,e,r)}finally{a.injectImpl&&xe(u),bn(s),a.resolving=!1,en(l,c)}}return o}function Rn(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function Mn(t,e){return!(t&Ie.Self||t&Ie.Host&&e)}var Fn=function(){function t(t,e){this._tNode=t,this._lView=e}return t.prototype.get=function(t,e){return An(this._tNode,this._lView,t,void 0,e)},t}();function Ln(t){var e=t,n=yt(e)||mt(e)||gt(e)||w(e)||C(e);return n&&void 0!==n.factory?n.factory:null}function jn(t){var e=Ln(Object.getPrototypeOf(t.prototype).constructor);return null!==e?e:function(t){return new t}}function Vn(t){var e,n=ce(t);if(n){if(Array.isArray(n)){var r=n,i=void 0,o=void 0,a=void 0;if((e=t)&&e.constructor&&e.constructor.ngComponentDef){if(-1==(i=Hn(r,t)))throw new Error("The provided component was not found in the application");o=t}else if(t&&t.constructor&&t.constructor.ngDirectiveDef){if(-1==(i=function(t,e){for(var n=t[_t].firstChild;n;){for(var r=n.directiveEnd,i=n.directiveStart;i<r;i++)if(t[i]===e)return n.index;n=Qn(n)}return-1}(r,t)))throw new Error("The provided directive was not found in the application");a=Wn(i,r,!1)}else if(-1==(i=zn(r,t)))return null;var s=ce(d=Xt(r[i])),u=s&&!Array.isArray(s)?s:Bn(r,i,d);if(o&&void 0===u.component&&(u.component=o,qn(u.component,u)),a&&void 0===u.directives){u.directives=a;for(var l=0;l<a.length;l++)qn(a[l],u)}qn(u.native,u),n=u}}else for(var c=t,h=c;h=h.parentNode;){var f=ce(h);if(f){if(r=void 0,!(r=Array.isArray(f)?f:f.lView))return null;var p=zn(r,c);if(p>=0){var d;qn(d=Xt(r[p]),u=Bn(r,p,d)),n=u;break}}}return n||null}function Bn(t,e,n){return{lView:t,nodeIndex:e,native:n,component:void 0,directives:void 0,localRefs:void 0}}function Un(t){var e,n=ce(t);if(Array.isArray(n)){var r=Hn(n,t);(i=Bn(n,r,(e=ne(r,n))[St])).component=t,qn(t,i),qn(i.native,i)}else{var i;e=ne((i=n).nodeIndex,i.lView)}return e}function qn(t,e){t[zt]=e}function zn(t,e){for(var n=t[_t].firstChild;n;){if(te(n,t)===e)return n.index;n=Qn(n)}return-1}function Qn(t){if(t.child)return t.child;if(t.next)return t.next;for(;t.parent&&!t.parent.next;)t=t.parent;return t.parent&&t.parent.next}function Hn(t,e){var n=t[_t].components;if(n)for(var r=0;r<n.length;r++){var i=n[r];if(ne(i,t)[Ot]===e)return i}else if(ne(Lt,t)[Ot]===e)return Lt;return-1}function Wn(t,e,n){var r=e[_t].data[t],i=r.directiveStart;return 0==i?ot:(!n&&1&r.flags&&i++,e.slice(i,r.directiveEnd))}function Kn(t){var e,n,r=nr(t);return void 0===r.component&&(r.component=1&(n=(e=r.lView)[_t].data[r.nodeIndex]).flags?e[n.directiveStart]:null),r.component}function Gn(t){return nr(t).lView[Ot]}function Yn(t){for(var e=tr(t).lView;e[wt]&&null===e[St];)e=e[wt];return 128&e[bt]?null:e[Ot]}function Jn(t){return function(t){var e;for(e=Array.isArray(t)?t:he(t);e&&!(128&e[bt]);)e=e[wt];return e}(Array.isArray(t)?t:tr(t).lView)[Ot]}function Zn(t){return Object(r.__spread)(Jn(t).components)}function Xn(t){var e=tr(t);return new Fn(e.lView[_t].data[e.nodeIndex],e.lView)}function $n(t){var e=tr(t);return void 0===e.directives&&(e.directives=Wn(e.nodeIndex,e.lView,!1)),e.directives||[]}function tr(t,e){void 0===e&&(e=!0);var n=Vn(t);if(!n&&e)throw new Error("Invalid ng target");return n}function er(t){return Vn(t).native}function nr(t){if(!(t instanceof Node))throw new Error("Expecting instance of DOM Node");return tr(t)}function rr(t){return"boolean"==typeof t.useCapture}function ir(t){var e=nr(t).lView,n=e[It],r=e[_t].cleanup,i=[];if(r&&n)for(var o=0;o<r.length;){var a=r[o++],s=r[o++];if("string"==typeof a){var u=a,l=Xt(e[s]),c=n[r[o++]],h=r[o++];t==l&&i.push({element:t,name:u,callback:c,useCapture:"boolean"==typeof h?h:!(h>=0)&&null})}}return i.sort(or),i}function or(t,e){return t.name==e.name?0:t.name<e.name?-1:1}var ar=/([A-Z])/g;function sr(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function ur(t,e){var n=hr(t),r=hr(e);return n&&r?function(t,e,n){for(var r=t[W()](),i=e[W()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,ur):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||G(t,e)}var lr=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),cr=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function hr(t){return!!fr(t)&&(Array.isArray(t)||!(t instanceof Map)&&W()in t)}function fr(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function pr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}var dr={};function yr(t,e,n){return t[e]=n}function mr(t,e){return t[e]}function gr(t,e,n){if(t[e]===dr)t[e]=n;else{if(i=n,(r=t[e])!=r&&i!=i||r===i)return!1;t[e]=n}var r,i;return!0}function vr(t,e,n,r){var i=gr(t,e,n);return gr(t,e+1,r)||i}function _r(t,e,n,r,i){var o=vr(t,e,n,r);return gr(t,e+2,i)||o}function br(t,e,n,r,i,o){var a=vr(t,e,n,r);return vr(t,e+2,i,o)||a}var wr="ngProjectAs",Cr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Er(t){return!!t.listen}var Sr={createRenderer:function(t,e){return document}};function Tr(t,e){return null==t.parent?function(t){var e=t[Tt];return e&&2!==e.type?te(e,t[wt]):null}(e):te(Dr(t),e)}function Dr(t){for(var e=t.parent;e&&5===e.type;)e=e.parent;return e}function Ir(t,e){if(-1===t.index){var n=e[Rt];return n>-1?e[wt][n]:null}return e[wt][t.parent.index]}function Or(t,e){var n=Ir(t,e);return n?n[Ut]:null}var Ar=[];function xr(t,e,n,r,i){for(var o=t[_t].node,a=-1,s=t,u=o.child;u;){var l=null;if(3===u.type){kr(e,n,r,te(u,s),i);var c=s[u.index];ae(c)&&kr(e,n,r,c[Bt],i)}else if(0===u.type){var h=s[u.index];kr(e,n,r,h[Bt],i),r&&(h[Ut]=r),h[Vt].length&&(l=(s=h[Vt][0])[_t].node,i=h[Bt])}else if(1===u.type){var f=ve(s),p=f[Tt].projection[u.projection];Ar[++a]=u,Ar[++a]=s,p&&(l=(s=f[wt])[_t].data[p.index])}else l=u.child;if(null===l)for(null===u.next&&2&u.flags&&(s=Ar[a--],u=Ar[a--]),l=u.next;!l;){if(null===(u=u.parent||s[_t].node)||u===o)return null;0===u.type&&(i=(s=s[wt])[u.index][Bt]),l=2===u.type&&s[Ct]?(s=s[Ct])[_t].node:u.next}u=l}}function kr(t,e,n,r,i){0===t?Er(e)?e.insertBefore(n,r,i):n.insertBefore(r,i,!0):1===t?Er(e)?e.removeChild(n,r):n.removeChild(r):2===t&&e.destroyNode(r)}function Nr(t,e){return Er(e)?e.createText(Jt(t)):e.createTextNode(Jt(t))}function Pr(t,e,n){var r=Or(t[_t].node,t);r&&xr(t,e?0:1,t[kt],r,n)}function Rr(t,e,n,r,i){var o=e[Vt];r>0&&(o[r-1][Ct]=t),r<o.length?(t[Ct]=o[r],o.splice(r,0,t)):(o.push(t),t[Ct]=null),i>-1&&(t[Rt]=i,t[wt]=n),t[Et]&&t[Et].insertView(r),t[bt]|=16}function Mr(t,e,n){var r=t[Vt],i=r[e];return e>0&&(r[e-1][Ct]=i[Ct]),r.splice(e,1),n||Pr(i,!1),i[Et]&&i[Et].removeView(),i[Rt]=-1,i[wt]=null,i[bt]&=-17,i}function Fr(t,e,n){var r=t[Vt][n];Mr(t,n,!!e.detached),jr(r)}function Lr(t){var e=t[_t].childIndex;return-1===e?null:t[e]}function jr(t){var e=t[kt];Er(e)&&e.destroyNode&&xr(t,2,e,null),function(t){if(-1===t[_t].childIndex)return Br(t);for(var e=Lr(t);e;){var n=null;if(e.length>=Lt?e[_t].childIndex>-1&&(n=Lr(e)):e[Vt].length&&(n=e[Vt][0]),null==n){for(;e&&!e[Ct]&&e!==t;)Br(e),e=Vr(e,t);Br(e||t),n=e&&e[Ct]}e=n}}(t),t[bt]|=64}function Vr(t,e){var n;return t.length>=Lt&&(n=t[Tt])&&2===n.type?Ir(n,t):t[wt]===e?null:t[wt]}function Br(t){if(t.length>=Lt){var e=t;!function(t){var e,n=t[_t];null!=n&&null!=(e=n.destroyHooks)&&qe(t,e)}(e),(i=(r=e)[_t]&&r[_t].pipeDestroyHooks)&&qe(r,i),function(t){var e=t[_t].cleanup;if(null!=e){for(var n=t[It],r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){var i=n[e[r+2]],o=Xt(t[e[r+1]]),a=e[r+3];"boolean"==typeof a?o.removeEventListener(e[r],i,a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else"number"==typeof e[r]?(0,n[e[r]])():e[r].call(n[e[r+1]]);t[It]=null}}(e);var n=e[Tt];n&&3===n.type&&Er(e[kt])&&e[kt].destroy()}var r,i}function Ur(t,e){if(qr(t,e)){if(se(e))return Qr(e[kt],te(t,e));var n=e[Tt],r=t.parent;return null!=r&&4===r.type&&(t=Wr(r)),null==t.parent&&2===n.type?Or(n,e):Tr(t,e)}return null}function qr(t,e){var n,r=t,i=t.parent;return t.parent&&(4===t.parent.type?i=(r=Wr(t)).parent:5===t.parent.type&&(i=(r=Dr(r)).parent)),null===i&&(i=e[Tt]),i&&2===i.type?null!=(n=Ir(i,e))&&null!=n[Ut]:null==r.parent||!(3!==r.parent.type||1&r.parent.flags)}function zr(t,e,n,r){Er(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Qr(t,e){return Er(t)?t.parentNode(e):e.parentNode}function Hr(t,e,n){if(void 0===t&&(t=null),null!==t&&qr(e,n)){var r=n[kt],i=Tr(e,n),o=e.parent||n[Tt];if(2===o.type){var a=Ir(o,n),s=a[Vt],u=s.indexOf(n);zr(r,a[Ut],t,Kr(u,s,a[Bt]))}else 4===o.type?zr(r,Ur(e,n),t,i):5===o.type?zr(r,i,t,te(e.parent,n)):Er(r)?r.appendChild(i,t):i.appendChild(t);return!0}return!1}function Wr(t){for(;null!=t.parent&&4===t.parent.type;)t=t.parent;return t}function Kr(t,e,n){if(t+1<e.length){var r=e[t+1],i=r[Tt];return i.child?te(i.child,r):n}return n}function Gr(t,e,n){if(null!==e&&qr(t,n)){var r=Tr(t,n),i=n[kt];return Er(i)?i.removeChild(r,e):r.removeChild(e),!0}return!1}function Yr(t,e,n,r){var i=te(t,r);Hr(i,e,n),qn(i,r);var o=Ur(e,n),a=r[t.index];if(0===t.type){a[Ut]=o;for(var s=a[Vt],u=0;u<s.length;u++)Pr(s[u],!0,a[Bt])}else{if(4===t.type)for(var l=t.child;l;)Yr(l,e,n,r),l=l.next;ae(a)&&(a[Ut]=o,Hr(a[Bt],e,n))}}var Jr="ng-template";function Zr(t,e,n){return e===t.tagName&&(n||3===t.type||4===t.type||0===t.type&&e===Jr)}function Xr(t,e,n){for(var r,i,o,a,s,u=4,l=t.attrs,c=l?l.indexOf(3):-1,h=!1,f=0;f<e.length;f++){var p=e[f];if("number"!=typeof p){if(!h)if(4&u){if(u=2|1&u,""!==p&&!Zr(t,p,n)||""===p&&1===e.length){if($r(u))return!1;h=!0}}else{var d=ti(8&u?"class":p,l);if(-1===d){if($r(u))return!1;h=!0;continue}var y,m=8&u?p:e[++f];if(""!==m)if(y=c>-1&&d>c?"":l[d+1],8&u&&(o=(r=y).length,s=(a=r.indexOf(i=m))+i.length,-1===a||a>0&&" "!==r[a-1]||s<o&&" "!==r[s])||2&u&&m!==y){if($r(u))return!1;h=!0}}}else{if(!h&&!$r(u)&&!$r(p))return!1;if(h&&$r(p))continue;h=!1,u=p|1&u}}return $r(u)||h}function $r(t){return 0==(1&t)}function ti(t,e){if(null===e)return-1;for(var n=!1,r=0;r<e.length;){var i=e[r];if(i===t)return r;0===i?r+=4:(3===i&&(n=!0),r+=n?1:2)}return-1}function ei(t,e,n){void 0===n&&(n=!1);for(var r=0;r<e.length;r++)if(Xr(t,e[r],n))return!0;return!1}function ni(t,e,n){for(var r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(wr);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++)if(r===n[i]||null===r&&ei(t,e[i],!0))return i+1;return 0}function ri(t,e){return new ii(t,e)}var ii=function(){return function(t,e){this.fn=t,this.value=e}}(),oi=function(){function t(){this._players=[]}return t.prototype.flushPlayers=function(){for(var t=0;t<this._players.length;t++){var e=this._players[t];e.parent||0!==e.state||e.play()}this._players.length=0},t.prototype.queuePlayer=function(t){this._players.push(t)},t}(),ai="@";function si(t,e,n,r){return[0,[null,-1,!1,e||null],n||[null],r||[null],[0,0],t||null,null,null,null]}function ui(t,e){for(var n=t,r=e[n],i=e;Array.isArray(r);)i=r,r=r[St];if(s=i,Array.isArray(s)&&"number"==typeof s[0]&&Array.isArray(s[2]))return i;var o,a,s,u=ee(t-Lt,e).stylingTemplate;return i!==e&&(n=St),i[n]=u?(o=r,(a=u.slice())[5]=o,a[0]|=32,a):si(r)}function li(t){return t[0]===ai}function ci(t,e,n,r,i,o){return o=o||n,i?t[i]=r:t.push(r),!!r&&(r.addEventListener(200,function(){var e=t.indexOf(r);e&&(e<t[0]?t[e]=null:t.splice(e,1)),r.destroy()}),(e.playerHandler||(e.playerHandler=new oi)).queuePlayer(r,o),!0)}function hi(t){return t[8]}function fi(t){return t[8]=[5,null,null,null,null]}function pi(t){return!!(8&t.flags)}function di(t){for(var e=si(),n=e[3]=[null],r=e[2]=[null],i=-1,o=0;o<t.length;o++){var a=t[o];if("number"==typeof a)i=a;else if(2===i)r.push(a,t[++o]);else if(1===i)n.push(a,!0);else if(3===i)break}return e}function yi(t,e,n){for(var r=1;r<t.length;){if(t[r]===e){var i=t[r+1];return void(null!=i&&0!=i||(t[r+1]=n))}r+=2}t.push(e,n)}function mi(t,e,n,r){for(var i=1;i<n.length;i+=2){var o=n[i+1];o&&(r?bi(t,n[i+0],!0,e,null):_i(t,n[i+0],o,e,null))}}function gi(t,e,n,r){for(var i=n;i<r;i+=4)if(Bi(t,i)===e)return i;return-1}function vi(t,e,n,r,i){var o=Xi(t,i||null),a=function(t,e,n,r){var i=t[1][4*e+1],o=t[4];return o[i+2+(r?o[i+0]:0)+n]}(t,o,e,r),s=Vi(t,a),u=ji(t,a),l=Zi(t,a),c=n instanceof ii?n.value:n;if(Yi(u,s,c)&&(!s||(c?o<=l:l===o))){var h=2==(2&u),f=n instanceof ii?new Ji(n,t[5],h?1:2):null,p=f?n.value:n,d=Mi(t,a),y=!1,m=f?d:0;if(Ni(t,f,d)){var g=Pi(t,f,d);m=f?g:0,y=!0}if((y||l!==o)&&Ri(t,a,m,o),l!==o){var v=Bi(t,a),_=eo(t,o);!function(t,e,n){_&&_(v)?t[e]|=4:t[e]&=-5}(t,a)}ki(t,a,p);var b=Oi(u),w=Vi(t,b);if(!w||Yi(u,w,p)){var C=!1,E=!0;!Ki(p,h)&&Ki(w,h)&&(C=!0,E=!1),wi(t,b,C),wi(t,a,E),no(t,o,!0),qi(t,!0)}y&&zi(t,!0)}}function _i(t,e,n,r,i,o,a){n=i&&n?i(e,n):n,o||a?(o&&o.setValue(e,n),a&&a.setValue(e,n)):n?(n=n.toString(),Er(r)?r.setStyle(t,e,n,Cr.DashCase):t.style.setProperty(e,n)):Er(r)?r.removeStyle(t,e,Cr.DashCase):t.style.removeProperty(e)}function bi(t,e,n,r,i,o){i||o?(i&&i.setValue(e,n),o&&o.setValue(e,n)):n?Er(r)?r.addClass(t,e):t.classList.add(e):Er(r)?r.removeClass(t,e):t.classList.remove(e)}function wi(t,e,n){var r=e>=9?e+0:e;n?t[r]|=1:t[r]&=-2}function Ci(t,e){return 1==(1&t[e>=9?e+0:e])}function Ei(t,e){return 2==(2&t[e>=9?e+0:e])}function Si(t,e){return 4==(4&t[e>=9?e+0:e])}function Ti(t,e,n){return 63&t|e<<6|n<<20}function Di(t,e){var n=Ii(e);return(2&e?t[3]:t[2])[n]}function Ii(t){return t>>6&16383}function Oi(t){var e=t>>20&16383;return e>=9?e:-1}function Ai(t){return Oi(t[0])}function xi(t,e,n){t[e+1]=n}function ki(t,e,n){t[e+2]=n}function Ni(t,e,n){var r=t[8];if(e){if(!r||0===n)return!0}else if(!r)return!1;return r[n]!==e}function Pi(t,e,n){var r=t[8]||fi(t);return n>0?r[n]=e:(r.splice(n=r[0],0,e,null),r[0]+=2),n}function Ri(t,e,n,r){var i=function(t,e){return n<<16|t}(r);t[e+3]=i}function Mi(t,e){return t[e+3]>>16&65535}function Fi(t,e){var n=Mi(t,e);if(n){var r=t[8];if(r)return r[n]}return null}function Li(t,e,n){t[0===e?e:e+0]=n}function ji(t,e){return t[0===e?e:e+0]}function Vi(t,e){return t[e+2]}function Bi(t,e){return t[e+1]}function Ui(t){return 16&t[0]}function qi(t,e){wi(t,0,e)}function zi(t,e){e?t[0]|=8:t[0]&=-9}function Qi(t,e,n){for(var r=(n||0)+1;r<t.length;r+=4)if(t[r]==e)return r-1;return-1}function Hi(t,e,n){var r=Vi(t,e),i=Bi(t,e),o=ji(t,e),a=Mi(t,e),s=o,u=ji(t,n),l=Oi(s);l>=0&&Li(t,l,Ti(c=ji(t,l),Ii(c),n));var c,h=Oi(u);h>=0&&Li(t,h,Ti(c=ji(t,h),Ii(c),e)),ki(t,e,Vi(t,n)),xi(t,e,Bi(t,n)),Li(t,e,ji(t,n)),Ri(t,e,Mi(t,n),0),ki(t,n,r),xi(t,n,i),Li(t,n,o),Ri(t,n,a,0)}function Wi(t,e,n,r,i,o,a,s){var u=e<t.length;t.splice(e,0,1|i|(n?2:0),r,o,0),Ri(t,e,s,a),u&&function(t,n){for(var r=e+4;r<t.length;r+=4){var i=Oi(ji(t,r));if(i>0){var o=Ii(ji(t,i));Li(t,i,Ti((Ci(t,i)?1:0)|(Ei(t,i)?2:0)|(Si(t,i)?4:0),o,r))}}}(t)}function Ki(t,e){return e?!!t:null!==t}function Gi(t,e,n,r){var i,o=r&&r(e)?4:0;return n?(o|=2,i=to(t[3],e)):i=to(t[2],e),Ti(o,i=i>0?i+1:0,0)}function Yi(t,e,n){return!(2&t)&&e&&n&&4&t?e.toString()!==n.toString():e!==n}var Ji=function(){function t(t,e,n){this._element=e,this._type=n,this._values={},this._dirty=!1,this._factory=t}return t.prototype.setValue=function(t,e){this._values[t]!==e&&(this._values[t]=e,this._dirty=!0)},t.prototype.buildPlayer=function(t,e){if(this._dirty){var n=this._factory.fn(this._element,this._type,this._values,e,t||null);return this._values={},this._dirty=!1,n}},t}();function Zi(t,e){return 65535&t[e+3]}function Xi(t,e){var n=$i(t[1],e);return n>0?n/4:0}function $i(t,e){for(var n=0;n<t.length;n+=4)if(t[n]===e)return n;return-1}function to(t,e){for(var n=1;n<t.length;n+=2)if(t[n]===e)return n;return-1}function eo(t,e){var n=t[1];return n[4*e+3]||n[3]||null}function no(t,e,n){t[1][4*e+2]=n}function ro(t){var e=t[6];if(null==e){e="";for(var n=t[3],r=1;r<n.length;r+=2)n[r+1]&&(e+=(e.length?" ":"")+n[r]);t[6]=e}return e}var io=Promise.resolve(null);function oo(t){var e=t[_t];if(e.firstTemplatePass=!1,fn(!1),!on(t)){var n=un();Be(t,e,n),function(t){for(var e=Lr(t);null!==e;e=e[Ct])if(e.length<Lt&&-1===e[jt])for(var n=e,r=0;r<n[Vt].length;r++){var i=n[Vt][r];co(i,i[_t],i[Ot])}}(t),function(t){if(null!=t.contentQueries)for(var e=0;e<t.contentQueries.length;e+=2){var n=t.contentQueries[e];t.data[n].contentQueriesRefresh(n-Lt,t.contentQueries[e+1])}}(e),Ue(t,e.contentHooks,e.contentCheckHooks,n),function(t,e){if(t.expandoInstructions){var n=e[Dt]=t.expandoStartIndex;yn(n);for(var r=-1,i=-1,o=0;o<t.expandoInstructions.length;o++){var a=t.expandoInstructions[o];if("number"==typeof a){if(a<=0){i=-a;var s=t.expandoInstructions[++o];r=n+=Wt+s}else n+=a;yn(n)}else null!==a&&(e[Dt]=n,a(2,Xt(e[r]),i)),r++}}}(e,t)}!function(t){if(null!=t)for(var e=0;e<t.length;e++)void 0,void 0,16==(16&(n=ne(t[e],Ze()))[bt])&&12&n[bt]&&(function(t){for(var e=t[_t],n=t.length;n<e.blueprint.length;n++)t[n]=e.blueprint[n]}(n),_a(n,n[Ot]));var n}(e.components)}function ao(t,e,n,r,i,o,a,s){var u=e.blueprint.slice();return u[bt]=51|r,u[wt]=u[Ft]=t,u[Ot]=n,u[xt]=i||t&&t[xt],u[kt]=o||t&&t[kt],u[Nt]=a||t&&t[Nt]||null,u[At]=s||t&&t[At]||null,u}function so(t,e,n,r,i){var o=Ze(),a=o[_t],s=t+Lt;o[s]=n;var u=a.data[s];null==u&&(u=a.data[s]=Fo(o,e,s,r,i,null));var l=$e(),c=nn();return l&&(!c||null!=l.child||null===u.parent&&2!==l.type?c||(l.next=u):l.child=u),null==a.firstChild&&(a.firstChild=u),tn(u),rn(!0),u}function uo(t,e){return null==e[_t].node&&(e[_t].node=Fo(e,2,t,null,null,null)),e[Tt]=e[_t].node}function lo(t){var e=t[_t];e.firstTemplatePass&&(e.expandoStartIndex++,e.blueprint.push(null),e.data.push(null),t.push(null))}function co(t,e,n){var r,i=nn(),o=$e();if(rn(!0),tn(null),128&t[bt])ya(le(t));else try{rn(!0),tn(null),r=mn(t,t[Tt]),vo(),e.template(po(t),n),t[_t].firstTemplatePass=!1,fn(!1),oo(t)}finally{vn(r),rn(i),tn(o)}}function ho(t){return void 0===t&&(t=1),gn(t)}function fo(t,e,n){var r=t[xt],i=mn(t,t[Tt]),o=!un();try{o&&r.begin&&r.begin(),on(t)&&(n&&(vo(),n(1,e)),oo(t),t[bt]&=-2),n&&n(2,e),oo(t)}finally{o&&r.end&&r.end(),vn(i)}}function po(t){return on(t)?1:2}var yo=null;function mo(){yo="http://www.w3.org/2000/svg"}function go(){yo="http://www.w3.org/1998/MathML/"}function vo(){yo=null}function _o(t,e,n,r){Co(t,e,n,r),xo()}function bo(t,e,n){var r=Ze(),i=r[_t],o=r[kt].createComment("");Hr(o,so(t,4,o,"ng-container",e||null),r),So(i,r,n),qn(o,r)}function wo(){var t=$e(),e=Ze(),n=e[_t];nn()?rn(!1):tn(t=t.parent);var r=e[Et];r&&(e[Et]=r.addNode(t)),Fe(n,t)}function Co(t,e,n,r){var i,o,a,s=Ze(),u=s[_t],l=Eo(e),c=so(t,3,l,e,n||null);if(n&&(u.firstTemplatePass&&!c.stylingTemplate&&function(t){for(var e=0;e<t.length;e++){var n=t[e];if(1==n||2==n)return!0}return!1}(n)&&(c.stylingTemplate=di(n)),Io(l,n)),Hr(l,c,s),So(u,s,r),0===we&&qn(l,s),we++,u.firstTemplatePass){var h=Ba(c);h&&h.hasOwnProperty("class")&&(c.flags|=8)}c.stylingTemplate&&0==(8&c.flags)&&(mi(i=l,a=s[kt],(o=c.stylingTemplate)[3],!0),mi(i,a,o[2],!1))}function Eo(t,e){var n=e||Ze()[kt];return Er(n)?n.createElement(t,yo):null===yo?n.createElement(t):n.createElementNS(yo,t)}function So(t,e,n,r){if(void 0===r&&(r=te),ze){var i=$e();hn()&&function(t,e,n,r,i){var o=i?{"":-1}:null;if(n){Xo(r,t.data.length,n.length);for(var a=0;a<n.length;a++)(s=n[a]).providersResolver&&s.providersResolver(s);for(Ko(t,r,n.length),a=0;a<n.length;a++){var s,u=t.data.length;$o(t,e,s=n[a],s.factory),Zo(t.data.length-1,s,o),Me(u,s.onInit,s.doCheck,t)}}o&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '"+e[i+1]+"' not found!");r.push(e[i],o)}}(r,i,o)}(t,e,function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];ei(n,a.selectors,!1)&&(i||(i=[]),In(En($e(),e),e,a.type),oe(a)?(1&n.flags&&pr(n),n.flags=1,i.unshift(a)):i.push(a))}return i}(t,e,i),i,n||null),function(t,e,n){var r=n.directiveStart,i=n.directiveEnd;!hn()&&r<i&&En(n,e);for(var o=r;o<i;o++){var a=t.data[o];oe(a)&&ta(e,n,a),Go(e,Pn(t.data,e,o,n),a,o)}}(t,e,i),function(t,e,n){for(var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=hn(),s=r;s<i;s++){var u=t.data[s],l=e[s];if(u.hostBindings){var c=o.length;Ge(u),u.hostBindings(1,l,n.index-Lt),Ge(null),c===o.length&&a&&o.push(u.hostBindings)}else a&&o.push(null)}}(t,e,i),function(t,e,n){var r=e.localNames;if(r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}(e,i,r)}}function To(t,e,n,r,i,o){return t.ngPrivateData||(t.ngPrivateData=Do(-1,t,e,n,r,i,o))}function Do(t,e,n,r,i,o,a){var s=Lt+n,u=s+r,l=function(t,e){var n=new Array(e).fill(null,0,t).fill(dr,t);return n[Rt]=-1,n[Dt]=t,n}(s,u);return l[_t]={id:t,blueprint:l,template:e,viewQuery:a,node:null,data:l.slice(),childIndex:-1,bindingStartIndex:s,expandoStartIndex:u,expandoInstructions:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null}}function Io(t,e){for(var n=Ze()[kt],r=Er(n),i=0;i<e.length;){var o=e[i++];if("number"==typeof o){if(0!==o)break;var a=e[i++],s=e[i++],u=e[i++];r?n.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else u=e[i++],o!==wr&&(li(o)?r&&n.setProperty(t,o,u):r?n.setAttribute(t,o,u):t.setAttribute(o,u))}}function Oo(t,e){var n=t.createRenderer(null,null);return"string"==typeof e?Er(n)?n.selectRootElement(e):n.querySelector(e):e}function Ao(t,e,n){void 0===n&&(n=!1);var r=Ze(),i=$e(),o=r[_t],a=o.firstTemplatePass&&(o.cleanup||(o.cleanup=[]));if(3===i.type){var s=te(i,r),u=r[kt],l=(m=qa(r)).length,c=n;if(Er(u)){var h=u.listen(s,t,e);m.push(e,h),c=l+1}else{var f=function(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}(e);s.addEventListener(t,f,n),m.push(f)}a&&a.push(t,i.index,l,c)}void 0===i.outputs&&(i.outputs=jo(i,1));var p,d=i.outputs;if(d&&(p=d[t])){var y=p.length;if(y)for(var m=qa(r),g=0;g<y;g+=2){var v=r[p[g]][p[g+1]].subscribe(e),_=m.length;m.push(e,v),a&&a.push(t,i.index,_,-(_+1))}}}function xo(){var t=$e();nn()?rn(!1):tn(t=t.parent);var e=Ze(),n=e[Et];if(n&&(e[Et]=n.addNode(t)),Fe(Ze()[_t],t),we--,pi(t)){var r=ui(t.index,e);Lo(e,t.inputs.class,ro(r))}}function ko(t,e,n,r){if(n!==dr){var i=Ze(),o=i[kt],a=$t(t,i);if(null==n)Er(o)?o.removeAttribute(a,e):a.removeAttribute(e);else{var s=null==r?Jt(n):r(n);Er(o)?o.setAttribute(a,e,s):a.setAttribute(e,s)}}}function No(t,e,n,r,i){Mo(t,e,n,r,i)}function Po(t,e,n,r,i){Mo(t,e,n,r,i,Ro)}function Ro(t,e){return e[t.index][kt]}function Mo(t,e,n,r,i,o){if(n!==dr){var a,s,u=Ze(),l=$t(t,u),c=ee(t,u);if(!i&&(a=Ba(c))&&(s=a[e]))Lo(u,s,n),ie(c)&&function(e,n){var r=ne(t+Lt,e);4&r[bt]||(r[bt]|=8)}(u);else if(3===c.type){var h=o?o(c,u):u[kt];n=null!=r?r(n):n,Er(h)?h.setProperty(l,e,n):li(e)||(l.setProperty?l.setProperty(e,n):l[e]=n)}}}function Fo(t,e,n,r,i,o){var a=$e(),s=nn()?a:a&&a.parent,u=s&&t&&s!==t[Tt]?s:null;return{type:e,index:n,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,flags:0,providerIndexes:0,tagName:r,attrs:i,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:o,next:null,child:null,parent:u,detached:null,stylingTemplate:null,projection:null}}function Lo(t,e,n){for(var r=0;r<e.length;r+=2)t[e[r]][e[r+1]]=n}function jo(t,e){var n=Ze()[_t],r=null,i=t.directiveStart,o=t.directiveEnd;if(o>i)for(var a=0===e,s=n.data,u=i;u<o;u++){var l=s[u],c=a?l.inputs:l.outputs;for(var h in c)if(c.hasOwnProperty(h)){var f=c[h];(r=r||{}).hasOwnProperty(h)?r[h].push(u,f):r[h]=[u,f]}}return r}function Vo(t,e,n,r){var i=$e();i.stylingTemplate||(i.stylingTemplate=si()),function(t,e,n,r,i,o){if(!(32&t[0])){var a=function(t,e,n){var r,i=t[1],o=t[4].length,a=$i(i,e);if(-1===a)r=i.length/4,i.push(e,o,!1,n||null);else{if(i[a+1]>=0)return-1;r=a/4,i[a+1]=o,i[a+3]=n||null}return r}(t,e,i);if(-1!==a){var s=t[4],u=s[1],l=s[0],c=4*l,h=9+c,f=h+4*u,p=f+c,d=s.length;s.push(r?r.length:0,n?n.length:0);var y=0,m=[];if(r&&r.length)for(var g=0;g<r.length;g++){var v=r[g];-1==(w=gi(t,v,9,h))&&(w=h+y,y+=4,m.push(v)),s.push(w)}var _=[];if(n&&n.length)for(var b=0;b<n.length;b++){var w,C=n[b];-1==(w=gi(t,C,h,f))?(w=f+y,y+=4,_.push(C)):w+=4*m.length,s.push(w)}var E=2;if(m.length)for(;E<d;){var S=s[E+0],T=s[E+1];if(T)for(var D=E+2+S,I=D;I<D+T;I++)s[I]+=4*m.length;E+=2+(S+T)}for(var O=_.length+m.length,A=9;A<t.length;A+=4){var x=A>=f,k=A>=(x?p:h),N=ji(t,A),P=Ii(N),R=Oi(N);Li(t,A,Ti(N,P,R+=x?k?4*m.length:0:4*O+4*(k?m.length:0)))}for(var M=0;M<4*m.length;M++)t.splice(p,0,null),t.splice(h,0,null),h++,f++,p+=2;for(var F=0;F<4*_.length;F++)t.splice(f,0,null),t.push(null),f++,p++;for(var L=t[3],j=t[2],V=0;V<O;V++){var B=V>=m.length,U=B?V-m.length:V,q=B?_[U]:m[U],z=void 0,Q=void 0;B?(z=p+4*(u+U),Q=h+4*(u+U)):(z=f+4*(l+U),Q=9+4*(l+U));var H=B?L:j,W=to(H,q);-1===W?(W=H.length+1,H.push(q,!B&&null)):W+=1;var K=Gi(t,q,B,i||null);Li(t,Q,Ti(K,W,z)),xi(t,Q,q),ki(t,Q,null),Ri(t,Q,0,a),Li(t,z,Ti(K,W,Q)),xi(t,z,q),ki(t,z,null),Ri(t,z,0,a)}s[1]=u+_.length,s[0]=l+m.length,Li(t,0,Ti(0,0,f)|(o?16:0))}}}(i.stylingTemplate,r||null,t,e,n,pi(i))}function Bo(t,e){var n=$e();n.stylingTemplate||(n.stylingTemplate=di(e)),function(t,e,n){var r=t[1];if(-1==$i(r,n)){r.push(n,-1,!1,null);for(var i=null,o=null,a=-1,s=0;s<e.length;s++){var u=e[s];"number"==typeof u?a=u:1==a?yi(i=i||t[3],u,!0):2==a&&yi(o=o||t[2],u,e[++s])}}}(n.stylingTemplate,e,t)}function Uo(t,e){var n=Ze(),r=0!=(2&n[bt]);(function(t,n,r,i,o,a,s){var u=0,l=Xi(t,e||null);if(function(t){return Ci(t,0)}(t)&&function(t,e){return t[1][4*l+2]}(t)){for(var c=8&t[0],h=t[5],f=Ai(t),p=Ui(t),d=!1,y=9;y<t.length;y+=4)if(Ci(t,y)){var m=ji(t,y),g=Zi(t,y);if(l!==g){d=!0;continue}var v=Bi(t,y),_=Vi(t,y),b=4&m?eo(t,g):null,w=Fi(t,y),C=!!(2&m),E=!C||!p,S=_;y<f&&!Ki(S,C)&&(S=Vi(t,Oi(m))),C||Ki(S,C)||!E||(S=Di(t,m)),(!i||S)&&(C?bi(h,v,!!S,n,null,w):_i(h,v,S,n,b,null,w)),wi(t,y,!1)}if(c){var T=Array.isArray(r)?le(r):r,D=hi(t),I=D[0];for(y=1;y<I;y+=2){var O=D[y],A=y+1,x=D[A];if(O){var k=O.buildPlayer(x,i);void 0!==k&&(null!=k&&ci(D,T,h,k,A)&&u++,x&&x.destroy())}else x&&x.destroy()}zi(t,!1)}no(t,l,!1),qi(t,d)}return u})(ui(t+Lt,n),n[kt],n,r)>0&&da(le(n),2)}function qo(t,e,n,r,i){var o=null;null!==n&&(o=r?Jt(n)+r:n),vi(ui(t+Lt,Ze()),e,o,!1,i)}function zo(t,e,n,r){var i=n instanceof ii?n:!!n;vi(ui(t+Lt,Ze()),e,i,!0,r)}function Qo(t,e,n,r){if(null!=r)return function(t,e,n,r){throw new Error("unimplemented. Should not be needed by ViewEngine compatibility")}();var i=Ze(),o=ee(t,i),a=ui(t+Lt,i);if(pi(o)&&e!==dr){var s=ro(a);Lo(i,o.inputs.class,(s.length?s+" ":"")+e)}else!function(t,e,n,r){n=n||null;var i=Xi(t,null),o=t[5],a=e instanceof ii?new Ji(e,o,1):null,s=n instanceof ii?new Ji(n,o,2):null,u=a?e.value:e,l=s?n.value:n,c=Ui(t)||u===dr||u===t[6],h=l===dr||l===t[7];if(!c||!h){t[6]=u,t[7]=l;var f=ot,p=!1,d=!1,y=a?1:0;Ni(t,a,1)&&(Pi(t,a,1),d=!0);var m=s?3:0;Ni(t,s,3)&&(Pi(t,s,3),d=!0),c||("string"==typeof u?(f=u.split(/\s+/),p=!0):f=u?Object.keys(u):ot);for(var g=u||it,v=l?Object.keys(l):ot,_=l||it,b=v.length,w=!1,C=Ai(t),E=0,S=v.length+f.length;C<t.length&&E<S;){if(!(F=E>=b)&&!h||F&&!c){var T=F?E-b:E,D=F?f[T]:v[T],I=F?!!p||g[D]:_[D],O=F?y:m;if((L=Bi(t,C))===D){var A=Vi(t,C),x=ji(t,C);if(Ri(t,C,O,i),Yi(x,A,I)){ki(t,C,I),d=d||!!O;var k=Di(t,x);(null!=A||Yi(x,k,I))&&(wi(t,C,!0),w=!0)}}else{var N=Qi(t,D,C);if(N>0){var P=Vi(t,N),R=ji(t,N);Hi(t,C,N),Yi(R,P,I)&&(k=Di(t,R),ki(t,C,I),(null!=P||Yi(R,k,I))&&(wi(t,C,!0),d=d||!!O,w=!0))}else d=d||!!O,Wi(t,C,F,D,Gi(t,D,F,eo(t,i)),I,i,O),w=!0}}C+=4,E++}for(;C<t.length;)(!(F=2==(2&(x=ji(t,C))))&&!h||F&&!c)&&Ki(A=Vi(t,C),F)&&(wi(t,C,!0),ki(t,C,null),Ri(t,C,O=F?y:m,i),w=!0),C+=4;for(var M=eo(t,i);E<S;){var F;if(!(F=E>=b)&&!h||F&&!c){T=F?E-b:E;var L=F?f[T]:v[T],j=(A=F?!!p||g[L]:_[L],x=1|Gi(t,L,F,M),O=F?y:m,t.length);t.push(x,L,A,0),Ri(t,j,O,i),w=!0}E++}w&&(qi(t,!0),no(t,i,!0)),d&&zi(t,!0)}}(a,e,n)}function Ho(t,e){var n=Ze(),r=Nr(e,n[kt]),i=so(t,3,r,null,null);rn(!1),Hr(r,i,n)}function Wo(t,e){if(e!==dr){var n=Ze(),r=$t(t,n),i=n[kt];Er(i)?i.setValue(r,Jt(e)):r.textContent=Jt(e)}}function Ko(t,e,n){var r=-(e.index-Lt),i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Go(t,e,n,r){var i=$e();Yo(t,i,e,n),i&&i.attrs&&function(t,e,r,o){var a=i.initialInputs;(void 0===a||t>=a.length)&&(a=function(t,e,n){var r=n.initialInputs||(n.initialInputs=[]);r[t]=null;for(var i=n.attrs,o=0;o<i.length;){var a=i[o];if(3===a)break;if(0!==a){var s=e[a],u=i[o+1];void 0!==s&&(r[t]||(r[t]=[])).push(s,u),o+=2}else o+=4}return r}(t,n.inputs,i));var s=a[t];if(s)for(var u=0;u<s.length;u+=2)e[s[u]]=s[u+1]}(r,e),n.contentQueries&&n.contentQueries(r),oe(n)&&(ne(i.index,t)[Ot]=e)}function Yo(t,e,n,r){var i=te(e,t);qn(n,t),i&&qn(i,t),null!=r.attributes&&3==e.type&&Io(i,r.attributes)}function Jo(t){var e=Ze()[_t];(e.components||(e.components=[])).push(t.index)}function Zo(t,e,n){n&&(e.exportAs&&(n[e.exportAs]=t),e.template&&(n[""]=t))}function Xo(t,e,n){t.flags=1&t.flags,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $o(t,e,n,r){t.data.push(n);var i=new Gt(r,oe(n),null);t.blueprint.push(i),e.push(i)}function ta(t,e,n){var r=te(e,t),i=To(n.template,n.consts,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery),o=fa(t,e.index,ao(t,i,null,n.onPush?8:4,t[xt],t[xt].createRenderer(r,n)));o[Tt]=e,o[St]=t[e.index],t[e.index]=o,hn()&&Jo(e)}function ea(t,e,n,r,i){return[i?-1:0,[],n,null,null,t,r,Ur(e,n)]}function na(t,e,n,r,i,o,a,s){var u=Ze(),l=u[_t],c=ia(t,i||null,o||null);hn()&&(c.tViews=Do(-1,e,n,r,l.directiveRegistry,l.pipeRegistry,null)),So(l,u,a,s);var h=u[Et],f=$e();qn(te(f,u),u),h&&(u[Et]=h.addNode(f)),Fe(l,c),rn(!1)}function ra(t){var e=ia(t,null,null);hn()&&(e.tViews=[]),rn(!1)}function ia(t,e,n){var r=Ze(),i=t+Lt,o=r[kt].createComment(""),a=so(t,0,o,e,n),s=r[i]=ea(r[i],a,r,o);Hr(o,a,r),fa(r,t+Lt,s);var u=r[Et];return u&&(s[Et]=u.container()),a}function oa(t){var e=Ze(),n=e[_t];tn(Zt(n.data,t)),rn(!0),e[t+Lt][jt]=0,Be(e,n,un())}function aa(){var t=$e();nn()?rn(!1):tn(t=t.parent);for(var e=Ze()[t.index],n=e[jt];n<e[Vt].length;)Fr(e,t,n)}function sa(t,e,n){var r=Ze(),i=$e(),o=2===i.type?i.parent:i,a=r[o.index],s=function(t,e,n,r){for(var i=t[Vt],o=n;o<i.length;o++){var a=i[o][_t].id;if(a===r)return i[o];if(!(a<r))break;Fr(t,e,o)}return null}(a,o,a[jt],t);return s?(rn(!0),mn(s,s[_t].node)):(s=ao(r,function(t,e,n,r){var i=Ze()[_t],o=r.tViews;return(t>=o.length||null==o[t])&&(o[t]=Do(t,null,e,n,i.directiveRegistry,i.pipeRegistry,null)),o[t]}(t,e,n,o),null,4),a[Et]&&(s[Et]=a[Et].createView()),uo(t,s),mn(s,s[_t].node)),a&&(on(s)&&Rr(s,a,r,a[jt],-1),a[jt]++),on(s)?3:2}function ua(){var t=Ze(),e=t[Tt];on(t)&&(oo(t),t[bt]&=-2),oo(t),vn(t[wt]),tn(e),rn(!1)}function la(t,e){var n=ve(Ze())[Tt];if(!n.projection)for(var r=n.projection=new Array(t?t.length+1:1).fill(null),i=r.slice(),o=n.child;null!==o;){var a=t?ni(o,t,e):0,s=o.next;i[a]?i[a].next=o:(r[a]=o,o.next=null),i[a]=o,o=s}}var ca=[];function ha(t,e,n){void 0===e&&(e=0);var r=Ze(),i=so(t,1,null,null,n||null);null===i.projection&&(i.projection=e),rn(!1);for(var o=ve(r),a=o[Tt].projection[e],s=o[wt],u=-1;a;){if(1===a.type){var l=ve(s),c=l[Tt].projection[a.projection];if(c){ca[++u]=a,ca[++u]=s,a=c,s=l[wt];continue}}else a.flags|=2,Yr(a,i,r,s);null===a.next&&s!==o[wt]&&(s=ca[u--],a=ca[u--]),a=a.next}}function fa(t,e,n){var r=t[_t],i=hn();return t[Pt]?t[Pt][Ct]=n:i&&(r.childIndex=e),t[Pt]=n,n}function pa(t){for(;t&&!(128&t[bt]);)t[bt]|=8,t=t[wt];t[bt]|=8,da(t[Ot],1)}function da(t,e){var n,r=0===t.flags;t.flags|=e,r&&t.clean==io&&(t.clean=new Promise(function(t){return n=t}),t.scheduler(function(){if(1&t.flags&&(t.flags&=-2,ya(t)),2&t.flags){t.flags&=-3;var e=t.playerHandler;e&&e.flushPlayers()}t.clean=io,n(null)}))}function ya(t){for(var e=0;e<t.components.length;e++){var n=t.components[e];fo(he(n),n)}}function ma(t){ga(Un(t),t)}function ga(t,e){var n=t[xt];n.begin&&n.begin(),on(t)&&_a(t,e),_a(t,e),n.end&&n.end()}function va(t){ya(t[Ot])}function _a(t,e){var n=t[_t],r=mn(t,t[Tt]),i=n.template,o=n.viewQuery;try{vo(),function(e,n,r){e&&on(t)&&e(1,r)}(o,0,e),i(po(t),e),oo(t),function(e,n,r){e&&!on(t)&&e(2,r)}(o,0,e)}finally{vn(r)}}function ba(t){pa(Un(t))}function wa(t){var e=Ze();return gr(e,e[Dt]++,t)?t:dr}function Ca(t){if(hn()){var e=Ze(),n=e[_t];!function(t,e,n){var r=t.expandoInstructions,i=r.length;i>=2&&r[i-2]===e.hostBindings?r[i-1]=r[i-1]+n:r.push(e.hostBindings,n)}(n,Ke,t),function(t,e,n){for(var r=0;r<n;r++)e.push(dr),t.blueprint.push(dr),t.data.push(null)}(n,e,t)}}function Ea(t){for(var e=!1,n=Ze(),r=n[Dt],i=1;i<t.length;i+=2)gr(n,r++,t[i])&&(e=!0);if(n[Dt]=r,!e)return dr;var o=t[0];for(i=1;i<t.length;i+=2)o+=Jt(t[i])+t[i+1];return o}function Sa(t,e,n){var r=Ze(),i=gr(r,r[Dt],e);return r[Dt]+=1,i?t+Jt(e)+n:dr}function Ta(t,e,n,r,i){var o=Ze(),a=vr(o,o[Dt],e,r);return o[Dt]+=2,a?t+Jt(e)+n+Jt(r)+i:dr}function Da(t,e,n,r,i,o,a){var s=Ze(),u=_r(s,s[Dt],e,r,o);return s[Dt]+=3,u?t+Jt(e)+n+Jt(r)+i+Jt(o)+a:dr}function Ia(t,e,n,r,i,o,a,s,u){var l=Ze(),c=br(l,l[Dt],e,r,o,s);return l[Dt]+=4,c?t+Jt(e)+n+Jt(r)+i+Jt(o)+a+Jt(s)+u:dr}function Oa(t,e,n,r,i,o,a,s,u,l,c){var h=Ze(),f=h[Dt],p=br(h,f,e,r,o,s);return p=gr(h,f+4,l)||p,h[Dt]+=5,p?t+Jt(e)+n+Jt(r)+i+Jt(o)+a+Jt(s)+u+Jt(l)+c:dr}function Aa(t,e,n,r,i,o,a,s,u,l,c,h,f){var p=Ze(),d=p[Dt],y=br(p,d,e,r,o,s);return y=vr(p,d+4,l,h)||y,p[Dt]+=6,y?t+Jt(e)+n+Jt(r)+i+Jt(o)+a+Jt(s)+u+Jt(l)+c+Jt(h)+f:dr}function xa(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d){var y=Ze(),m=y[Dt],g=br(y,m,e,r,o,s);return g=_r(y,m+4,l,h,p)||g,y[Dt]+=7,g?t+Jt(e)+n+Jt(r)+i+Jt(o)+a+Jt(s)+u+Jt(l)+c+Jt(h)+f+Jt(p)+d:dr}function ka(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,y,m){var g=Ze(),v=g[Dt],_=br(g,v,e,r,o,s);return _=br(g,v+4,l,h,p,y)||_,g[Dt]+=8,_?t+Jt(e)+n+Jt(r)+i+Jt(o)+a+Jt(s)+u+Jt(l)+c+Jt(h)+f+Jt(p)+d+Jt(y)+m:dr}function Na(t,e){var n=Ze(),r=n[_t],i=t+Lt;i>=r.data.length&&(r.data[i]=null),n[i]=e}function Pa(t){return Zt(an,t)}function Ra(t){return Ze()[Mt][t]}function Ma(t){return Zt(Ze(),t)}function Fa(t,e){return void 0===e&&(e=Ie.Default),t=X(t),An($e(),Ze(),t,e)}function La(t){return On($e(),t)}function ja(t,e){var n=Ze(),r=n[_t],i=(n[Mt]||(n[Mt]=[])).push(t);if(hn()){var o=r.contentQueries||(r.contentQueries=[]);e!==(r.contentQueries.length?r.contentQueries[r.contentQueries.length-2]:-1)&&o.push(e,i-1)}}var Va=io;function Ba(t){return t?(void 0===t.inputs&&(t.inputs=jo(t,0)),t.inputs):null}function Ua(){return Ze()}function qa(t){return t[It]||(t[It]=[])}function za(t){return t[_t].cleanup||(t[_t].cleanup=[])}function Qa(t,e){var n=Vn(t);if(n){var r=n.native,i=n.lView,o=function(t,e){if(!(e=e||Vn(r)))return null;var n=ui(e.nodeIndex,e.lView);return hi(n)||fi(n)}(0,n),a=Jn(i);ci(o,a,r,e,0,t),da(a,2)}}function Ha(t){var e=Vn(t);if(!e)return[];var n=ui(e.nodeIndex,e.lView),r=n?hi(n):null;return r?function(t){for(var e=[],n=t[0],r=2;r<n;r+=2){var i=t[r];i&&e.push(i)}for(r=n;r<t.length;r++)e.push(t[r]);return e}(r):[]}var Wa="ng",Ka=!1;function Ga(){Ka||(Ka=!0,Ya("getComponent",Kn),Ya("getContext",Gn),Ya("getListeners",ir),Ya("getViewComponent",Yn),Ya("getHostElement",er),Ya("getInjector",Xn),Ya("getRootComponents",Zn),Ya("getDirectives",$n),Ya("getPlayers",Ha),Ya("markDirty",ba))}function Ya(t,e){if(z){var n=z[Wa];n||(n=z[Wa]={}),n[t]=e}}function Ja(t,e){void 0===e&&(e={});var n=e.rendererFactory||Sr,r=e.sanitizer||null,i=yt(t);i.type!=t&&(i.type=t);var o,a=Oo(n,e.host||i.selectors[0][0]),s=i.onPush?136:132,u=$a(e.scheduler,e.playerHandler),l=n.createRenderer(a,i),c=ao(null,Do(-1,null,1,0,null,null,null),u,s,n,l,void 0,e.injector||null),h=mn(c,null);try{n.begin&&n.begin(),o=Xa(Za(a,i,c,n,l,r),i,c,u,e.hostFeatures||null),oo(c),c[bt]&=-2,oo(c)}finally{vn(h),n.end&&n.end()}return o}function Za(t,e,n,r,i,o){He=!1,Qe=null,we=0,ze=!0;var a=n[_t],s=ao(n,To(e.template,e.consts,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery),null,e.onPush?8:4,r,i,o),u=so(0,3,t,null,null);return a.firstTemplatePass&&(In(En(u,n),n,e.type),u.flags=1,Xo(u,n.length,1),Jo(u)),s[St]=n[Lt],s[Tt]=u,n[Lt]=s}function Xa(t,e,n,r,i){var o=n[_t],a=function(t,e,n){var r=$e();t.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),Ko(t,r,1),$o(t,e,n,n.factory));var i=Pn(t.data,e,e.length-1,r);return Yo(e,r,i,n),i}(o,n,e);if(r.components.push(a),t[Ot]=a,i&&i.forEach(function(t){return t(a,e)}),o.firstTemplatePass&&e.hostBindings){var s=$e();Ge(e),e.hostBindings(1,a,s.index-Lt),Ge(null)}return a}function $a(t,e){return{components:[],scheduler:t||me,clean:Va,playerHandler:e||null,flags:0}}function ts(t,e){var n=he(t)[_t],r=n.data.length-1;Me(r,e.onInit,e.doCheck,n),Fe(n,{directiveStart:r,directiveEnd:r+1})}function es(t){return function(t){return ue(t)[Ot]}(t).clean}function ns(t){return"function"==typeof t.template}function rs(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=function(){var n,i,o=void 0;if(ns(t))o=e.ngComponentDef||e.ngDirectiveDef;else{if(e.ngComponentDef)throw new Error("Directives cannot inherit Components");o=e.ngDirectiveDef}var a=e.ngBaseDef;if(a||o){var s=t;s.inputs=is(t.inputs),s.declaredInputs=is(t.declaredInputs),s.outputs=is(t.outputs)}if(a&&(c(t.inputs,a.inputs),c(t.declaredInputs,a.declaredInputs),c(t.outputs,a.outputs)),o){var u=t.hostBindings,l=o.hostBindings;if(l&&(t.hostBindings=u?function(t,e,n){l(t,e,n),u(t,e,n)}:l),ns(t)&&ns(o)){var h=t.viewQuery,f=o.viewQuery;f&&(t.viewQuery=h?function(t,e){f(t,e),h(t,e)}:f)}var p=t.contentQueries,d=o.contentQueries;d&&(t.contentQueries=p?function(t){d(t),p(t)}:d);var y=t.contentQueriesRefresh,m=o.contentQueriesRefresh;m&&(t.contentQueriesRefresh=y?function(t,e){m(t,e),y(t,e)}:m),c(t.inputs,o.inputs),c(t.declaredInputs,o.declaredInputs),c(t.outputs,o.outputs),t.afterContentChecked=t.afterContentChecked||o.afterContentChecked,t.afterContentInit=t.afterContentInit||o.afterContentInit,t.afterViewChecked=t.afterViewChecked||o.afterViewChecked,t.afterViewInit=t.afterViewInit||o.afterViewInit,t.doCheck=t.doCheck||o.doCheck,t.onDestroy=t.onDestroy||o.onDestroy,t.onInit=t.onInit||o.onInit;var g=o.features;if(g)try{for(var v=Object(r.__values)(g),_=v.next();!_.done;_=v.next()){var b=_.value;b&&b.ngInherit&&b(t)}}catch(C){n={error:C}}finally{try{_&&!_.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}return"break"}var w=e.prototype;w&&(t.afterContentChecked=t.afterContentChecked||w.afterContentChecked,t.afterContentInit=t.afterContentInit||w.afterContentInit,t.afterViewChecked=t.afterViewChecked||w.afterViewChecked,t.afterViewInit=t.afterViewInit||w.afterViewInit,t.doCheck=t.doCheck||w.doCheck,t.onDestroy=t.onDestroy||w.onDestroy,t.onInit=t.onInit||w.onInit),e=Object.getPrototypeOf(e)};e&&"break"!==n(););}function is(t){return t===it?{}:t===ot?[]:t}var os="__ngOnChanges_";function as(t){var e=t.declaredInputs,n=t.inputs,r=t.type.prototype,i=function(t){if(e.hasOwnProperty(t)){for(var i=n[t],o=e[t],a=os+i,s=void 0,u=r;!s&&u&&Object.getPrototypeOf(u)!==Object.getPrototypeOf(Object.prototype);)s=Object.getOwnPropertyDescriptor(u,i),u=Object.getPrototypeOf(u);var l=s&&s.set;Object.defineProperty(r,i,{get:s&&s.get||(l?void 0:function(){return this[a]}),set:function(t){var e=this[os];e||(e={},Object.defineProperty(this,os,{value:e,writable:!0}));var n=!this.hasOwnProperty(a),r=e[o];r?r.currentValue=t:e[o]=new cr(this[a],t,n),n?Object.defineProperty(this,a,{value:t,writable:!0}):this[a]=t,l&&l.call(this,t)},configurable:!1})}};for(var o in e)i(o);null!=t.onInit&&(t.onInit=ss(t.onInit)),t.doCheck=ss(t.doCheck)}function ss(t){return function(){var e=this[os];null!=e&&(this.ngOnChanges(e),this[os]=null),t&&t.apply(this)}}function us(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}as.ngInherit=!0;var ls="__source",cs=new Object,hs=cs,fs=new E("INJECTOR"),ps=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=cs),e===cs)throw new Error("NullInjectorError: No provider for "+Y(t)+"!");return e},t}(),ds=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new Ts(t,e):new Ts(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=cs,t.NULL=new ps,t.ngInjectableDef=_({providedIn:"any",factory:function(){return Ne(fs)}}),t.__NG_ELEMENT_ID__=function(){return ms()},t}(),ys=function(){return t=$e(),new Fn(t,Ze());var t},ms=us,gs=function(t){return t},vs=[],_s=gs,bs=function(){return Array.prototype.slice.call(arguments)},ws=l({provide:String,useValue:l}),Cs=ds.NULL,Es=/\n/gm,Ss="\u0275",Ts=function(){function t(t,e,n){void 0===e&&(e=Cs),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(ds,{token:ds,fn:gs,deps:vs,value:this,useNew:!1}),r.set(fs,{token:fs,fn:gs,deps:vs,value:this,useNew:!1}),function t(e,n){if(n)if((n=X(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Os("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Os("Unexpected provider",n);var i=X(n.provide),o=function(t){var e=function(t){var e=vs,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((u=X(n[r]))instanceof Array)for(var o=0,a=u;o<a.length;o++){var s=a[o];s instanceof Ee||s==Ee?i|=1:s instanceof Te||s==Te?i&=-3:s instanceof Se||s==Se?i&=-5:u=s instanceof Ce?s.token:X(s)}e.push({token:u,options:i})}}else if(t.useExisting){var u;e=[{token:u=X(t.useExisting),options:6}]}else if(!(n||ws in t))throw Os("'deps' required",t);return e}(t),n=gs,r=vs,i=!1,o=X(t.provide);if(ws in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=X(t.useClass);else{if("function"!=typeof o)throw Os("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==bs)throw Ds(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:bs,value:vs});a.deps.push({token:i=n,options:6})}var s=e.get(i);if(s&&s.fn==bs)throw Ds(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=Ie.Default);var i=this._records.get(t);try{return function t(e,n,i,o,a,s){try{return function(e,n,i,o,a,s){var u,l;if(!n||s&Ie.SkipSelf)s&Ie.Self||(l=o.get(e,a,Ie.Default));else{if((l=n.value)==_s)throw Error(Ss+"Circular dependency");if(l===vs){n.value=_s;var c=n.useNew,h=n.fn,f=n.deps,p=vs;if(f.length){p=[];for(var d=0;d<f.length;d++){var y=f[d],m=y.options,g=2&m?i.get(y.token):void 0;p.push(t(y.token,g,i,g||4&m?o:Cs,1&m?null:ds.THROW_IF_NOT_FOUND,Ie.Default))}}n.value=l=c?new((u=h).bind.apply(u,Object(r.__spread)([void 0],p))):h.apply(void 0,p)}}return l}(e,n,i,o,a,s)}catch(u){throw u instanceof Error||(u=new Error(u)),(u.ngTempTokenPath=u.ngTempTokenPath||[]).unshift(e),n&&n.value==_s&&(n.value=vs),u}}(t,i,this._records,this.parent,e,n)}catch(a){var o=a.ngTempTokenPath;throw t[ls]&&o.unshift(t[ls]),a.message=Is("\n"+a.message,o,this.source),a.ngTokenPath=o,a.ngTempTokenPath=null,a}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(Y(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function Ds(t){return Os("Cannot mix multi providers and regular providers",t)}function Is(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Ss?t.substr(2):t;var r=Y(e);if(e instanceof Array)r=e.map(Y).join(" -> ");else if("object"==typeof e){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):Y(a)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(Es,"\n  ")}function Os(t,e){return new Error(Is(t,e))}var As=new E("The presence of this token marks an injector as being the root injector."),xs={},ks={},Ns=[],Ps=void 0;function Rs(){return void 0===Ps&&(Ps=new ps),Ps}function Ms(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),e=e||Rs(),new Fs(t,n,e)}var Fs=function(){function t(t,e,n){var r=this;this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1;var i=[];Bs([t],function(t){return r.processInjectorType(t,[],i)}),e&&Bs(e,function(n){return r.processProvider(n,t,e)}),this.records.set(fs,Vs(void 0,this)),this.isRootInjector=this.records.has(As),this.injectorDefTypes.forEach(function(t){return r.get(t)})}return t.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},t.prototype.get=function(t,e,n){void 0===e&&(e=hs),void 0===n&&(n=Ie.Default),this.assertNotDestroyed();var r,i=Ae(this);try{if(!(n&Ie.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof E)&&w(t);a&&this.injectableDefInScope(a)&&(o=Vs(Ls(t),xs),this.records.set(t,o))}if(void 0!==o)return this.hydrate(t,o)}return(n&Ie.Self?Rs():this.parent).get(t,e)}finally{Ae(i)}},t.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},t.prototype.processInjectorType=function(t,e,n){var r=this;if(t=X(t)){var i=C(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a),u=void 0!==o&&t.providers||Ns;if(void 0!==o&&(i=C(o)),null!=i){if(this.injectorDefTypes.add(a),this.records.set(a,Vs(i.factory,xs)),null!=i.imports&&!s){n.push(a);try{Bs(i.imports,function(t){return r.processInjectorType(t,e,n)})}finally{}}var l=i.providers;if(null!=l&&!s){var c=t;Bs(l,function(t){return r.processProvider(t,c,l)})}var h=t.ngModule;Bs(u,function(t){return r.processProvider(t,h,u)})}}},t.prototype.processProvider=function(t,e,n){var r=qs(t=X(t))?t:X(t&&t.provide),i=function(t,e,n){var r=js(t,e,n);return Us(t)?Vs(void 0,t.useValue):Vs(r,xs)}(t,e,n);if(qs(t)||!0!==t.multi){var o=this.records.get(r);if(o&&void 0!==o.multi)throw new Error("Mixed multi-provider for "+Y(r))}else{var a=this.records.get(r);if(a){if(void 0===a.multi)throw new Error("Mixed multi-provider for "+r+".")}else(a=Vs(void 0,xs,!0)).factory=function(){return Re(a.multi)},this.records.set(r,a);r=t,a.multi.push(t)}this.records.set(r,i)},t.prototype.hydrate=function(t,e){if(e.value===ks)throw new Error("Cannot instantiate cyclic dependency! "+Y(t));var n;return e.value===xs&&(e.value=ks,e.value=e.factory()),"object"==typeof e.value&&e.value&&"object"==typeof(n=e.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value},t.prototype.injectableDefInScope=function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||"root"===t.providedIn&&this.isRootInjector:this.injectorDefTypes.has(t.providedIn))},t}();function Ls(t){var e=w(t);if(null===e){var n=C(t);if(null!==n)return n.factory;if(t instanceof E)throw new Error("Token "+Y(t)+" is missing an ngInjectableDef definition.");if(t instanceof Function){var r=t.length;if(r>0){var i=new Array(r).fill("?");throw new Error("Can't resolve all parameters for "+Y(t)+": ("+i.join(", ")+").")}return function(){return new t}}throw new Error("unreachable")}return e.factory}function js(t,e,n){var i,o=void 0;if(qs(t))return Ls(X(t));if(Us(t))o=function(){return X(t.useValue)};else if((i=t)&&i.useExisting)o=function(){return Ne(X(t.useExisting))};else if(t&&t.useFactory)o=function(){return t.useFactory.apply(t,Object(r.__spread)(Re(t.deps||[])))};else{var a=X(t&&(t.useClass||t.provide));if(!a){var s="";throw e&&n&&(s=" - only instances of Provider and Type are allowed, got: ["+n.map(function(e){return e==t?"?"+t+"?":"..."}).join(", ")+"]"),new Error("Invalid provider for the NgModule '"+Y(e)+"'"+s)}if(!t.deps)return Ls(a);o=function(){return new(a.bind.apply(a,Object(r.__spread)([void 0],Re(t.deps))))}}return o}function Vs(t,e,n){return void 0===n&&(n=!1),{factory:t,value:e,multi:n?[]:void 0}}function Bs(t,e){t.forEach(function(t){return Array.isArray(t)?Bs(t,e):e(t)})}function Us(t){return t&&"object"==typeof t&&ws in t}function qs(t){return"function"==typeof t}function zs(t,e,n,r,i){if(t=X(t),Array.isArray(t))for(var o=0;o<t.length;o++)zs(t[o],e,n,r,i);else{var a=Ze(),s=qs(t)?t:X(t.provide),u=js(t),l=$e(),c=65535&l.providerIndexes,h=l.directiveStart,f=l.providerIndexes>>16;if(qs(t)||!t.multi){var p=new Gt(u,i,Fa),d=Hs(s,e,i?c:c+f,h);-1==d?(In(En(l,a),a,s),e.push(s),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),a.push(p)):(n[d]=p,a[d]=p)}else{var y=Hs(s,e,c+f,h),m=Hs(s,e,c,c+f),g=m>=0&&n[m];i&&!g||!i&&!(y>=0&&n[y])?(In(En(l,a),a,s),p=function(t,e,n,r,i){var o=new Gt(t,n,Fa);return o.multi=[],o.index=e,o.componentProviders=0,Qs(o,i,r&&!n),o}(i?Ks:Ws,n.length,i,r,u),!i&&g&&(n[m].providerFactory=p),e.push(s),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),a.push(p)):Qs(n[i?m:y],u,!i&&r),!i&&r&&g&&n[m].componentProviders++}}}function Qs(t,e,n){t.multi.push(e),n&&t.componentProviders++}function Hs(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ws(t,e,n,r){return Gs(this.multi,[])}function Ks(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=Pn(e,n,this.providerFactory.index,r);Gs(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Gs(o,i=[]);return i}function Gs(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ys(t,e){return void 0===e&&(e=[]),function(n){n.providersResolver=function(n){return function(t,e,n){var r=Ze()[_t];if(r.firstTemplatePass){var i=oe(t);zs(n,r.data,r.blueprint,i,!0),zs(e,r.data,r.blueprint,i,!1)}}(n,t,e)}}}var Js=function(){return function(){}}(),Zs=function(){return function(){}}();function Xs(t){var e=Error("No component factory found for "+Y(t)+". Did you add it to @NgModule.entryComponents?");return e[nu]=t,e}var $s,tu,eu,nu="ngComponent",ru=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw Xs(t)},t}(),iu=function(){function t(){}return t.NULL=new ru,t}(),ou=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Xs(t);return new au(e,this._ngModule)},t}(),au=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(r.__extends)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(Zs),su=function(){return function(){}}(),uu=function(){return function(){}}(),lu=function(){function t(t,e,n){this._context=e,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=t}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return null==this._lView[St]?function t(e,n,r){for(var i=n.child;i;)r.push(te(i,e)),4===i.type&&t(e,i,r),i=i.next;return r}(this._lView,this._lView[Tt],[]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context?this._context:this._lookUpContext()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 64==(64&this._lView[bt])},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}jr(this._lView)},t.prototype.onDestroy=function(t){var e,n;n=t,qa(e=this._lView).push(n),e[_t].firstTemplatePass&&za(e).push(e[It].length-1,null)},t.prototype.markForCheck=function(){pa(this._lView)},t.prototype.detach=function(){this._lView[bt]&=-17},t.prototype.reattach=function(){this._lView[bt]|=16},t.prototype.detectChanges=function(){ga(this._lView,this.context)},t.prototype.checkNoChanges=function(){!function(t){ln(!0);try{ma(t)}finally{ln(!1)}}(this.context)},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t.prototype.detachFromAppRef=function(){this._appRef=null},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype._lookUpContext=function(){return this._context=this._lView[wt][this._componentIndex]},t}(),cu=function(t){function e(e){var n=t.call(this,e,null,-1)||this;return n._view=e,n}return Object(r.__extends)(e,t),e.prototype.detectChanges=function(){va(this._view)},e.prototype.checkNoChanges=function(){!function(t){ln(!0);try{va(t)}finally{ln(!1)}}(this._view)},Object.defineProperty(e.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),e}(lu);function hu(t,e,n){return $s||($s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(t)),new $s(te(e,n))}function fu(t,e,n,i){if(tu||(tu=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s._declarationParentView=e,s.elementRef=n,s._tView=r,s._renderer=i,s._queries=o,s._injectorIndex=a,s}return Object(r.__extends)(e,t),e.prototype.createEmbeddedView=function(t,e,n,r,i){var o=function(t,e,n,r,i,o){var a=nn(),s=$e();rn(!0),tn(null);var u=ao(n,t,e,4);return u[Ft]=n,i&&(u[Et]=i.createView()),uo(-1,u),t.firstTemplatePass&&(t.node.injectorIndex=o),rn(a),tn(s),u}(this._tView,t,this._declarationParentView,0,this._queries,this._injectorIndex);e&&Rr(o,e,r,i,n.index),co(o,this._tView,t);var a=new lu(o,t,-1);return a._tViewNode=o[Tt],a},e}(t)),0===n.type){var o=i[n.index];return new tu(i,hu(e,n,i),n.tViews,Ze()[kt],o[Et],n.injectorIndex)}return null}function pu(t,e,n){if(ie(t)){var r=t.directiveStart,i=ne(t.index,e);return new lu(i,n,r)}if(3===t.type){var o=ve(e);return new lu(o,o[Ot],-1)}return null}var du=function(){function t(t){this.nativeElement=t}return t.__NG_ELEMENT_ID__=function(){return mu(t)},t}(),yu=function(t){return hu(t,$e(),Ze())},mu=us,gu=function(){return function(t,e,n,r,i,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=i,this.animations=o}}(),vu=function(){return function(){}}(),_u=function(){return function(){}}(),bu=function(){return function(){}}(),wu=function(){return function(){}}(),Cu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),Eu=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Tu()},t}(),Su=function(){return function(t){var e=Ze()[kt];if(Er(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}()},Tu=us,Du=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),Iu=function(){return function(){}}(),Ou=function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}(),Au=new Ou("7.2.11"),xu=function(t){function e(e){var n=t.call(this)||this;return n.ngModule=e,n}return Object(r.__extends)(e,t),e.prototype.resolveComponentFactory=function(t){var e=yt(t);return new Mu(e,this.ngModule)},e}(iu);function ku(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Nu=new E("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return $a(Ne(Pu))}}),Pu=new E("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return me}}),Ru={},Mu=function(t){function e(e,n){var r=t.call(this)||this;return r.componentDef=e,r.ngModule=n,r.componentType=e.type,r.selector=e.selectors[0][0],r.ngContentSelectors=[],r}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){return ku(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return ku(this.componentDef.outputs)},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){var i=void 0===n,o=(r=r||this.ngModule)?function(t,e){return{get:function(n,r){var i=t.get(n,Ru);return i!==Ru||r===Ru?i:e.get(n,r)}}}(t,r.injector):t,a=o.get(wu,Sr),s=o.get(Iu,null),u=i?Eo(this.selector,a.createRenderer(null,this.componentDef)):Oo(a,n),l=this.componentDef.onPush?136:132,c=i?$a():o.get(Nu),h=a.createRenderer(u,this.componentDef);n&&u&&(Er(h)?h.setAttribute(u,"ng-version",Au.full):u.setAttribute("ng-version",Au.full));var f,p,d=ao(null,Do(-1,null,1,0,null,null,null),c,l,a,h,s,o),y=mn(d,null);try{a.begin&&a.begin();var m=Za(u,this.componentDef,d,a,h);if(p=ee(0,d),e)for(var g=0,v=d[_t],_=p.projection=[],b=0;b<e.length;b++){for(var w=e[b],C=null,E=null,S=0;S<w.length;S++){v.firstTemplatePass&&(v.expandoStartIndex++,v.blueprint.splice(++g+Lt,0,null),v.data.splice(g+Lt,0,null),d.splice(g+Lt,0,null));var T=so(g,3,w[S],null,null);E?E.next=T:C=T,E=T}_.push(C)}f=Xa(m,this.componentDef,d,c,[ts]),fa(d,Lt,m),oo(d)}finally{vn(y),a.end&&a.end()}var D=new Fu(this.componentType,f,hu(du,p,d),d,p);return i&&(D.hostView._tViewNode.child=p),D},e}(Zs),Fu=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a.location=r,a._rootLView=i,a._tNode=o,a.destroyCbs=[],a.instance=n,a.hostView=a.changeDetectorRef=new cu(i),a.hostView._tViewNode=uo(-1,i),a.componentType=e,a}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"injector",{get:function(){return new Fn(this._tNode,this._rootLView)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null,this.hostView.destroy()},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(Js),Lu=!0,ju=!1;function Vu(){return ju=!0,Lu}function Bu(){if(ju)throw new Error("Cannot enable prod mode after platform setup.");Lu=!1}var Uu=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}(),qu=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,zu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qu(t){return(t=String(t)).match(qu)||t.match(zu)?t:(Vu()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function Hu(t){return(t=String(t)).split(",").map(function(t){return Qu(t.trim())}).join(", ")}function Wu(t){var e,n,i={};try{for(var o=Object(r.__values)(t.split(",")),a=o.next();!a.done;a=o.next())i[a.value]=!0}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}function Ku(){for(var t,e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={};try{for(var a=Object(r.__values)(n),s=a.next();!s.done;s=a.next()){var u=s.value;for(var l in u)u.hasOwnProperty(l)&&(o[l]=!0)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return o}var Gu,Yu=Wu("area,br,col,hr,img,wbr"),Ju=Wu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zu=Wu("rp,rt"),Xu=Ku(Zu,Ju),$u=Ku(Yu,Ku(Ju,Wu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ku(Zu,Wu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xu),tl=Wu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),el=Wu("srcset"),nl=Ku(tl,el,Wu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),rl=Wu("script,style,template"),il=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e=t.nodeName.toLowerCase();if(!$u.hasOwnProperty(e))return this.sanitizedSomething=!0,!rl.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,a=o.toLowerCase();if(nl.hasOwnProperty(a)){var s=i.value;tl[a]&&(s=Qu(s)),el[a]&&(s=Hu(s)),this.buf.push(" ",o,'="',sl(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();$u.hasOwnProperty(e)&&!Yu.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(sl(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),ol=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,al=/([^\#-~ |!])/g;function sl(t){return t.replace(/&/g,"&amp;").replace(ol,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(al,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ul(t,e){var n=null;try{Gu=Gu||new Uu(t);var r=e?String(e):"";n=Gu.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Gu.getInertBodyElement(r)}while(r!==o);var a=new il,s=a.sanitizeChildren(ll(n)||n);return Vu()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=ll(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function ll(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var cl={marker:"element"},hl={marker:"comment"},fl="\ufffd",pl=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,dl=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,yl=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ml=/\ufffd(\d+):?\d*\ufffd/gi,gl=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,vl=/\[(\ufffd.+?\ufffd?)\]/g,_l=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,bl=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g;function wl(t){if(!t)return[];var e,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;e=o.exec(t);){var a=e.index;if("}"==e[0]){if(r.pop(),0==r.length){var s=t.substring(n,a);pl.test(s)?i.push(Cl(s)):s&&i.push(s),n=a+1}}else{if(0==r.length){var u=t.substring(n,a);i.push(u),n=a+1}r.push("{")}}var l=t.substring(n);return""!=l&&i.push(l),i}function Cl(t){for(var e=[],n=[],r=1,i=0,o=wl(t=t.replace(pl,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})),a=0;a<o.length;){var s=o[a++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&e.push(s);var u=wl(o[a++]);u.length&&n.push(u)}return l=e.indexOf("other"),c='Missing key "other" in ICU statement.',l<=-1&&function(t){throw new Error("ASSERTION ERROR: "+t)}(c),{type:r,mainBinding:i,cases:e,values:n};var l,c}function El(t){for(var e,n,r="",i=0,o=!1;null!==(e=dl.exec(t));)o?e[0]===fl+"/*"+n+fl&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+t.substr(i)}function Sl(t,e,n,r){void 0===r&&(r=null);for(var i=[null,null],o=t.split(ml),a=0,s=0;s<o.length;s++){var u=o[s];if(1&s){var l=parseInt(u,10);i.push(-1-l),a|=Ol(l)}else""!==u&&i.push(u)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=a,i[1]=i.length-2,i}function Tl(t,e){var n;void 0===e&&(e=0),e|=Ol(t.mainBinding);for(var r=0;r<t.values.length;r++)for(var i=t.values[r],o=0;o<i.length;o++){var a=i[o];if("string"==typeof a)for(;n=ml.exec(a);)e|=Ol(parseInt(n[1],10));else e=Tl(a,e)}return e}var Dl=[],Il=-1;function Ol(t){return 1<<Math.min(t,31)}var Al=[];function xl(t,e,n){var r=Ze()[_t];Dl[++Il]=t,r.firstTemplatePass&&null===r.data[t+Lt]&&function(t,e,n,r){var i=Ze(),o=t.blueprint.length-Lt,a=$e(),s=nn()?$e():a&&a.parent,u=s&&s!==i[Tt]?s.index-Lt:e,l=0;Al[l]=u;var c=[];e>0&&a!==s&&c.push(a.index<<3|0);for(var h=[],f=[],p=function(t,e){if("number"!=typeof e)return El(t);var n=t.indexOf(":"+e+fl)+2+e.toString().length,r=t.search(new RegExp(fl+"\\/\\*\\d+:"+e+fl));return El(t.substring(n,r))}(n,r).split(yl),d=0;d<p.length;d++){var y=p[d];if(1&d)if("/"===y.charAt(0)){if("#"===y.charAt(1)){var m=parseInt(y.substr(2),10);u=Al[--l],c.push(m<<3|5)}}else m=parseInt(y.substr(1),10),c.push(m<<3|0,u<<17|1),"#"===y.charAt(0)&&(Al[++l]=u=m);else for(var g=y.split(gl),v=0;v<g.length;v++)if(y=g[v],1&v){lo(i);var _=t.blueprint.length-1-Lt;c.push(hl,"",u<<17|1);var b=Cl(y.substr(1,y.length-2)),w=Tl(b);Ql(f,b,_,_);var C=f.length-1;h.push(Ol(b.mainBinding),3,-1-b.mainBinding,_<<2|2,C,w,2,_<<2|3,C)}else if(""!==y){var E=y.match(ml);lo(i),c.push(E?"":y,u<<17|1),E&&ge(Sl(y,t.blueprint.length-1-Lt),h)}}t.data[e+Lt]={vars:t.blueprint.length-Lt-o,expandoStartIndex:o,create:c,update:h,icus:f.length?f:null}}(r,t,e,n)}function kl(t,e,n){var r=Ze();n||(n=e),n===e&&t!==e.child?(t.next=e.child,e.child=t):n!==e&&t!==n.next?(t.next=n.next,n.next=t):t.next=null,e!==r[Tt]&&(t.parent=e),Hr(te(t,r),t,r);var i=r[t.index];return 0!==t.type&&ae(i)&&Hr(i[Bt],t,r),t}function Nl(t,e){var n={},r=t.replace(vl,function(t,e){if(n[e]||(n[e]=e.split("|")),!n[e].length)throw new Error("i18n postprocess: unmatched placeholder - "+e);return n[e].shift()});if(Object.keys(n).some(function(t){return!!n[t].length}))throw new Error("i18n postprocess: unmatched values - "+JSON.stringify(n));return Object.keys(e).length?r=(r=r.replace(_l,function(t,n,r,i,o,a){return e.hasOwnProperty(r)?""+n+e[r]+a:t})).replace(bl,function(t,n){if(e.hasOwnProperty(n)){var r=e[n];if(!r.length)throw new Error("i18n postprocess: unmatched ICU - "+t+" with key: "+n);return r.shift()}return t}):r}function Pl(){!function(t){for(var e=Ze(),n=Dl[Il--],r=t.data[n+Lt],i=$e(),o=Rl(n,r.create,r.expandoStartIndex,e),a=n+1;a<=i.index-Lt;a++)-1===o.indexOf(a)&&Ml(a,e)}(Ze()[_t])}function Rl(t,e,n,r){for(var i=Ze()[kt],o=null,a=null,s=[],u=0;u<e.length;u++){var l=e[u];if("string"==typeof l)a=o,o=so(n++,3,Nr(l,i),null,null),rn(!1);else if("number"==typeof l)switch(7&l){case 1:var c=l>>>17,h=void 0;a=kl(o,h=c===t?r[Tt]:ee(c,r),a),h.next=null;break;case 0:var f=l>>>3;s.push(f),a=o,(o=ee(f,r))&&(tn(o),3===o.type&&rn(!0));break;case 5:a=o=ee(l>>>3,r),tn(o),rn(!1);break;case 4:ko(l>>>3,e[++u],e[++u]);break;default:throw new Error('Unable to determine the type of mutate operation for "'+l+'"')}else switch(l){case hl:var p=e[++u],d=i.createComment(p);a=o,o=so(n++,5,d,null,null),qn(d,r),o.activeCaseIndex=null,rn(!1);break;case cl:var y=e[++u];a=o,o=so(n++,3,i.createElement(y),y,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'+l+'"')}}return rn(!1),s}function Ml(t,e){var n=ee(t,e);Gr(n,$t(t,e)||null,e),n.detached=!0;var r=Ma(t);if(ae(r)){var i=r;0!==n.type&&Gr(n,i[Bt]||null,e),i[Ut]=null}}function Fl(t,e,n){xl(t,e,n),Pl()}function Ll(t,e){var n=Ze()[_t];n.firstTemplatePass&&null===n.data[t+Lt]&&function(t,e,n){for(var r=$e().index-Lt,i=[],o=0;o<n.length;o+=2)for(var a=n[o],s=n[o+1].split(gl),u=0;u<s.length;u++){var l=s[u];1&u||""!==l&&(l.match(ml)?ge(Sl(l,r,a),i):ko(r,a,l))}t.data[e+Lt]=i}(n,t,e)}var jl=0,Vl=0;function Bl(t){t!==dr&&(jl|=1<<Vl),Vl++}function Ul(t){if(Vl){var e=Ze(),n=e[_t].data[t+Lt],r=void 0,i=null;Array.isArray(n)?r=n:(r=n.update,i=n.icus),function t(e,n,r,i,o,a){void 0===a&&(a=!1);for(var s=!1,u=0;u<e.length;u++){var l=e[u],c=e[++u];if(a||l&i)for(var h="",f=u+1;f<=u+c;f++){var p=e[f];if("string"==typeof p)h+=p;else if("number"==typeof p)if(p<0)h+=Jt(o[r-p]);else{var d=p>>>2,y=void 0,m=void 0;switch(3&p){case 1:ko(d,e[++f],h,e[++f]);break;case 0:Wo(d,h);break;case 2:if(y=n[e[++f]],null!==(m=ee(d,o)).activeCaseIndex)for(var g=y.remove[m.activeCaseIndex],v=0;v<g.length;v++){var _=g[v];switch(7&_){case 3:Ml(_>>>3,o);break;case 6:var b=ee(g[v+1]>>>3,o).activeCaseIndex;null!==b&&ge(n[_>>>3].remove[b],g)}}var w=zl(y,h);m.activeCaseIndex=-1!==w?w:null,Rl(-1,y.create[w],y.expandoStartIndex,o),s=!0;break;case 3:y=n[e[++f]],m=ee(d,o),t(y.update[m.activeCaseIndex],n,r,i,o,s)}}}u+=c}}(r,i,e[Dt]-Vl-1,jl,e),jl=0,Vl=0}}var ql=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});function zl(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var r=function(t,n){switch(function(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,a=parseInt(r,10),s=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?ql.One:ql.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?ql.One:ql.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?ql.One:ql.Other;case"ar":return 0===n?ql.Zero:1===n?ql.One:2===n?ql.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?ql.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?ql.Many:ql.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?ql.One:ql.Other;case"be":return n%10==1&&n%100!=11?ql.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?ql.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?ql.Many:ql.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?ql.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?ql.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?ql.Few:0!==n&&n%1e6==0?ql.Many:ql.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||a%10==1&&a%100!=11?ql.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||a%10===Math.floor(a%10)&&a%10>=2&&a%10<=4&&!(a%100>=12&&a%100<=14)?ql.Few:ql.Other;case"cs":case"sk":return 1===i&&0===o?ql.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?ql.Few:0!==o?ql.Many:ql.Other;case"cy":return 0===n?ql.Zero:1===n?ql.One:2===n?ql.Two:3===n?ql.Few:6===n?ql.Many:ql.Other;case"da":return 1===n||0!==s&&(0===i||1===i)?ql.One:ql.Other;case"dsb":case"hsb":return 0===o&&i%100==1||a%100==1?ql.One:0===o&&i%100==2||a%100==2?ql.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||a%100===Math.floor(a%100)&&a%100>=3&&a%100<=4?ql.Few:ql.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?ql.One:ql.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&a%10!=4&&a%10!=6&&a%10!=9?ql.One:ql.Other;case"ga":return 1===n?ql.One:2===n?ql.Two:n===Math.floor(n)&&n>=3&&n<=6?ql.Few:n===Math.floor(n)&&n>=7&&n<=10?ql.Many:ql.Other;case"gd":return 1===n||11===n?ql.One:2===n||12===n?ql.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?ql.Few:ql.Other;case"gv":return 0===o&&i%10==1?ql.One:0===o&&i%10==2?ql.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?ql.Many:ql.Other:ql.Few;case"he":return 1===i&&0===o?ql.One:2===i&&0===o?ql.Two:0!==o||n>=0&&n<=10||n%10!=0?ql.Other:ql.Many;case"is":return 0===s&&i%10==1&&i%100!=11||0!==s?ql.One:ql.Other;case"ksh":return 0===n?ql.Zero:1===n?ql.One:ql.Other;case"kw":case"naq":case"se":case"smn":return 1===n?ql.One:2===n?ql.Two:ql.Other;case"lag":return 0===n?ql.Zero:0!==i&&1!==i||0===n?ql.Other:ql.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?ql.Few:0!==a?ql.Many:ql.Other:ql.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&a%100===Math.floor(a%100)&&a%100>=11&&a%100<=19?ql.Zero:n%10==1&&n%100!=11||2===o&&a%10==1&&a%100!=11||2!==o&&a%10==1?ql.One:ql.Other;case"mk":return 0===o&&i%10==1||a%10==1?ql.One:ql.Other;case"mt":return 1===n?ql.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?ql.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?ql.Many:ql.Other;case"pl":return 1===i&&0===o?ql.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?ql.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?ql.Many:ql.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?ql.One:ql.Other;case"ro":return 1===i&&0===o?ql.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?ql.Few:ql.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?ql.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?ql.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?ql.Many:ql.Other;case"shi":return 0===i||1===n?ql.One:n===Math.floor(n)&&n>=2&&n<=10?ql.Few:ql.Other;case"si":return 0===n||1===n||0===i&&1===a?ql.One:ql.Other;case"sl":return 0===o&&i%100==1?ql.One:0===o&&i%100==2?ql.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?ql.Few:ql.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?ql.One:ql.Other;default:return ql.Other}}("en-US",e)){case ql.Zero:return"zero";case ql.One:return"one";case ql.Two:return"two";case ql.Few:return"few";case ql.Many:return"many";default:return"other"}}();-1===(n=t.cases.indexOf(r))&&"other"!==r&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return n}function Ql(t,e,n,i){for(var o=[],a=[],s=[],u=[],l=[],c=0;c<e.values.length;c++){for(var h=e.values[c],f=[],p=0;p<h.length;p++){var d=h[p];if("string"!=typeof d){var y=f.push(d)-1;h[p]="\x3c!--\ufffd"+y+"\ufffd--\x3e"}}var m=Hl(h.join(""),n,f,t,i);o.push(m.create),a.push(m.remove),s.push(m.update),u.push(m.vars),l.push(m.childIcus)}t.push({type:e.type,vars:u,expandoStartIndex:i+1,childIcus:l,cases:e.cases,create:o,remove:a,update:s});var g=Ze(),v=Math.max.apply(Math,Object(r.__spread)(u));for(c=0;c<v;c++)lo(g)}function Hl(t,e,n,i,o){var a=new Uu(document).getInertBodyElement(t);if(!a)throw new Error("Unable to generate inert body element");var s={vars:0,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,i,o,a,s){if(e){for(var u=[];e;){var l=e.nextSibling,c=s+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:var h=e,f=h.tagName.toLowerCase();if($u.hasOwnProperty(f)){n.create.push(cl,f,i<<17|1);for(var p=h.attributes,d=0;d<p.length;d++){var y=p.item(d),m=y.name.toLowerCase();y.value.match(ml)?nl.hasOwnProperty(m)&&ge(tl[m]?Sl(y.value,c,y.name,Qu):el[m]?Sl(y.value,c,y.name,Hu):Sl(y.value,c,y.name),n.update):n.create.push(c<<3|4,y.name,y.value)}t(e.firstChild,n,c,o,a,s),n.remove.push(c<<3|3)}else n.vars--;break;case Node.TEXT_NODE:var g=e.textContent||"",v=g.match(ml);n.create.push(v?"":g,i<<17|1),n.remove.push(c<<3|3),v&&ge(Sl(g,c),n.update);break;case Node.COMMENT_NODE:var _=Wl.exec(e.textContent||"");if(_){var b=parseInt(_[1],10);n.create.push(hl,"",i<<17|1),u.push([w=o[b],c])}else n.vars--;break;default:n.vars--}e=l}for(d=0;d<u.length;d++){var w,C=u[d][1];Ql(a,w=u[d][0],C,s+n.vars);var E=a.length-1;n.vars+=Math.max.apply(Math,Object(r.__spread)(a[E].vars)),n.childIcus.push(E);var S=Tl(w);n.update.push(Ol(w.mainBinding),3,-1-w.mainBinding,C<<2|2,E,S,2,C<<2|3,E),n.remove.push(E<<3|6,C<<3|3)}}}((ll(a)||a).firstChild,s,e,n,i,o),s}var Wl=/\ufffd(\d+)\ufffd/,Kl={provide:iu,useClass:xu,deps:[su]},Gl=function(t){function e(e,n){var r=t.call(this)||this;r._parent=n,r._bootstrapComponents=[],r.injector=r,r.destroyCbs=[];var i=vt(e);return r._bootstrapComponents=i.bootstrap,r._r3Injector=Ms(e,n,[{provide:su,useValue:r},Kl]),r.instance=r.get(e),r}return Object(r.__extends)(e,t),e.prototype.get=function(t,e,n){return void 0===e&&(e=ds.THROW_IF_NOT_FOUND),void 0===n&&(n=Ie.Default),t===ds||t===su||t===fs?this:this._r3Injector.get(t,e,n)},Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this.get(iu)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(su),Yl=function(t){function e(e){var n=t.call(this)||this;return n.moduleType=e,n}return Object(r.__extends)(e,t),e.prototype.create=function(t){return new Gl(this.moduleType,t)},e}(uu);function Jl(t,e,n,i){var o,a=t;null!==e&&(void 0!==a.decorators?(o=a.decorators).push.apply(o,Object(r.__spread)(e)):a.decorators=e),null!==n&&(a.ctorParameters=n),null!==i&&(a.propDecorators=void 0!==a.propDecorators?Object(r.__assign)({},a.propDecorators,i):i)}function Zl(t,e,n){var r=dn()+t,i=Ze();return on()?yr(i,r,n?e.call(n):e()):mr(i,r)}function Xl(t,e,n,r){var i=Ze(),o=dn()+t;return gr(i,o,n)?yr(i,o+1,r?e.call(r,n):e(n)):mr(i,o+1)}function $l(t,e,n,r,i){var o=dn()+t,a=Ze();return vr(a,o,n,r)?yr(a,o+2,i?e.call(i,n,r):e(n,r)):mr(a,o+2)}function tc(t,e,n,r,i,o){var a=dn()+t,s=Ze();return _r(s,a,n,r,i)?yr(s,a+3,o?e.call(o,n,r,i):e(n,r,i)):mr(s,a+3)}function ec(t,e,n,r,i,o,a){var s=dn()+t,u=Ze();return br(u,s,n,r,i,o)?yr(u,s+4,a?e.call(a,n,r,i,o):e(n,r,i,o)):mr(u,s+4)}function nc(t,e,n,r,i,o,a,s){var u=dn()+t,l=Ze(),c=br(l,u,n,r,i,o);return gr(l,u+4,a)||c?yr(l,u+5,s?e.call(s,n,r,i,o,a):e(n,r,i,o,a)):mr(l,u+5)}function rc(t,e,n,r,i,o,a,s,u){var l=dn()+t,c=Ze(),h=br(c,l,n,r,i,o);return vr(c,l+4,a,s)||h?yr(c,l+6,u?e.call(u,n,r,i,o,a,s):e(n,r,i,o,a,s)):mr(c,l+6)}function ic(t,e,n,r,i,o,a,s,u,l){var c=dn()+t,h=Ze(),f=br(h,c,n,r,i,o);return _r(h,c+4,a,s,u)||f?yr(h,c+7,l?e.call(l,n,r,i,o,a,s,u):e(n,r,i,o,a,s,u)):mr(h,c+7)}function oc(t,e,n,r,i,o,a,s,u,l,c){var h=dn()+t,f=Ze(),p=br(f,h,n,r,i,o);return br(f,h+4,a,s,u,l)||p?yr(f,h+8,c?e.call(c,n,r,i,o,a,s,u,l):e(n,r,i,o,a,s,u,l)):mr(f,h+8)}function ac(t,e,n,r){for(var i=dn()+t,o=!1,a=Ze(),s=0;s<n.length;s++)gr(a,i++,n[s])&&(o=!0);return o?yr(a,i,e.apply(r,n)):mr(a,i)}function sc(t,e){var n,r=Ze()[_t],i=t+Lt;r.firstTemplatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '"+t+"' could not be found!")}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.pipeDestroyHooks||(r.pipeDestroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory(null);return Na(t,o),o}function uc(t,e,n){var r=Ma(t);return dc(pc(t)?Xl(e,r.transform,n,r):r.transform(n))}function lc(t,e,n,r){var i=Ma(t);return dc(pc(t)?$l(e,i.transform,n,r,i):i.transform(n,r))}function cc(t,e,n,r,i){var o=Ma(t);return dc(pc(t)?tc(e,o.transform,n,r,i,o):o.transform(n,r,i))}function hc(t,e,n,r,i,o){var a=Ma(t);return dc(pc(t)?ec(e,a.transform,n,r,i,o,a):a.transform(n,r,i,o))}function fc(t,e,n){var r=Ma(t);return dc(pc(t)?ac(e,r.transform,n,r):r.transform.apply(r,n))}function pc(t){return Ze()[_t].data[t+Lt].pure}function dc(t){return lr.isWrapped(t)&&(t=lr.unwrap(t),Ze()[dn()]=dr),t}var yc=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(r.__extends)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var o,a=function(t){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(a=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var u=t.prototype.subscribe.call(this,o,a,s);return e instanceof i.a&&e.add(u),u},e}(o.a),mc=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return vc(t,du)},t}(),gc=function(t,e){return fu(t,e,$e(),Ze())},vc=us,_c=function(){function t(t,e,n){this.parent=t,this.shallow=e,this.deep=n}return t.prototype.track=function(t,e,n,r){n?this.deep=kc(this.deep,t,e,null!=r?r:null):this.shallow=kc(this.shallow,t,e,null!=r?r:null)},t.prototype.clone=function(){return new t(this,null,this.deep)},t.prototype.container=function(){var e=bc(this.shallow),n=bc(this.deep);return e||n?new t(this,e,n):null},t.prototype.createView=function(){var e=wc(this.shallow),n=wc(this.deep);return e||n?new t(this,e,n):null},t.prototype.insertView=function(t){Cc(t,this.shallow),Cc(t,this.deep)},t.prototype.addNode=function(t){return Oc(this.deep,t),re(t)?(Oc(this.shallow,t),t.parent&&re(t.parent)&&Oc(this.parent.shallow,t),this.parent):(function(t){return null===t.parent||re(t.parent)}(t)&&Oc(this.shallow,t),this)},t.prototype.removeView=function(){Ec(this.shallow),Ec(this.deep)},t}();function bc(t){for(var e=null;t;){var n=[];t.values.push(n),e={next:e,list:t.list,predicate:t.predicate,values:n,containerValues:null},t=t.next}return e}function wc(t){for(var e=null;t;)e={next:e,list:t.list,predicate:t.predicate,values:[],containerValues:t.values},t=t.next;return e}function Cc(t,e){for(;e;)e.containerValues.splice(t,0,e.values),e=e.next}function Ec(t){for(;t;){var e=t.containerValues,n=e.indexOf(t.values);e.splice(n,1)[0].length&&t.list.setDirty(),t=t.next}}function Sc(t,e){var n=t.localNames;if(n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Tc(t,e,n){var r=t[v];if("function"==typeof r)return r();var i=Nn(e,n,t,!1,!1);return null!==i?Pn(n[_t].data,n,i,e):null}function Dc(t,e,n,r){var i=t[v]();return r?i?Tc(r,e,n):null:i}function Ic(t,e,n,r){return n?Tc(n,t,e):r>-1?Pn(e[_t].data,e,r,t):function(t,e){return 3===t.type||4===t.type?hu(du,t,e):0===t.type?fu(mc,du,t,e):null}(t,e)}function Oc(t,e){for(var n=Ze();t;){var r=t.predicate,i=r.type;if(i){var o=null;i===mc?o=Dc(i,e,n,r.read):null!==(u=Nn(e,n,i,!1,!1))&&(o=Ic(e,n,r.read,u)),null!==o&&Ac(t,o)}else for(var a=r.selector,s=0;s<a.length;s++){var u;null!==(u=Sc(e,a[s]))&&null!==(o=Ic(e,n,r.read,u))&&Ac(t,o)}t=t.next}}function Ac(t,e){t.values.push(e),t.list.setDirty()}function xc(t,e){var n=Array.isArray(t);return{type:n?null:t,selector:n?t:null,read:e}}function kc(t,e,n,r){return{next:t,list:e,predicate:xc(n,r),values:e._valuesTree,containerValues:null}}var Nc=function(){function t(){this.dirty=!0,this.changes=new yc,this._values=[],this._valuesTree=[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){var t=this._values;return t.length?t[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){var t=this._values;return t.length?t[t.length-1]:null},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._values.map(t)},t.prototype.filter=function(t){return this._values.filter(t)},t.prototype.find=function(t){return this._values.find(t)},t.prototype.reduce=function(t,e){return this._values.reduce(t,e)},t.prototype.forEach=function(t){this._values.forEach(t)},t.prototype.some=function(t){return this._values.some(t)},t.prototype.toArray=function(){return this._values.slice(0)},t.prototype[W()]=function(){return this._values[W()]()},t.prototype.toString=function(){return this._values.toString()},t.prototype.reset=function(t){this._values=function(t){for(var e=[],n=0;n<t.length;){var r=t[n];Array.isArray(r)?r.length>0?(t=r.concat(t.slice(n+1)),n=0):n++:(e.push(r),n++)}return e}(t),this.dirty=!1},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}();function Pc(t,e,n,r){var i,o,a,s=new Nc;return(i=_c,o=Ze(),a=o[Et],Qe&&Qe!==o[Tt]&&!re(Qe)&&(a&&(a=o[Et]=a.clone()),Qe.flags|=4),a||(o[Et]=new i(null,null,null))).track(s,e,n,r),function(t,e,n){var r=qa(t);r.push(e),t[_t].firstTemplatePass&&za(t).push(n,r.length-1)}(Ze(),s,s.destroy),null!=t&&Na(t,s),s}function Rc(t){return!!t.dirty&&(t.reset(t._valuesTree),t.notifyOnChanges(),!0)}function Mc(t,e){return fu(mc,du,t,e)}var Fc="__SANITIZER_TRUSTED_BRAND__";function Lc(t,e){return t instanceof String&&t[Fc]===e}function jc(t){return zc(t,"Html")}function Vc(t){return zc(t,"Style")}function Bc(t){return zc(t,"Script")}function Uc(t){return zc(t,"Url")}function qc(t){return zc(t,"ResourceUrl")}function zc(t,e){var n=new String(t);return n[Fc]=e,n}var Qc=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Hc=/^url\(([^)]+)\)$/;function Wc(t){if(!(t=String(t).trim()))return"";var e=t.match(Hc);return e&&Qu(e[1])===e[1]||t.match(Qc)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Vu()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}function Kc(t){var e=$c();return e?e.sanitize(Du.HTML,t)||"":Lc(t,"Html")?t.toString():ul(document,Jt(t))}function Gc(t){var e=$c();return e?e.sanitize(Du.STYLE,t)||"":Lc(t,"Style")?t.toString():Wc(Jt(t))}function Yc(t){var e=$c();return e?e.sanitize(Du.URL,t)||"":Lc(t,"Url")?t.toString():Qu(Jt(t))}function Jc(t){var e=$c();if(e)return e.sanitize(Du.RESOURCE_URL,t)||"";if(Lc(t,"ResourceUrl"))return t.toString();throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function Zc(t){var e=$c();if(e)return e.sanitize(Du.SCRIPT,t)||"";if(Lc(t,"Script"))return t.toString();throw new Error("unsafe value used in a script context")}var Xc=function(t,e){return void 0===e?"background-image"===t||"background"===t||"border-image"===t||"filter"===t||"list-style"===t||"list-style-image"===t:Gc(e)};function $c(){var t=Ze();return t&&t[Nt]}var th={"\u0275defineBase":ft,"\u0275defineComponent":st,"\u0275defineDirective":pt,defineInjectable:_,defineInjector:b,"\u0275defineNgModule":ct,"\u0275definePipe":dt,"\u0275directiveInject":Fa,"\u0275getFactoryOf":Ln,"\u0275getInheritedFactory":jn,inject:Ne,"\u0275injectAttribute":La,"\u0275templateRefExtractor":Mc,"\u0275NgOnChangesFeature":as,"\u0275ProvidersFeature":Ys,"\u0275InheritDefinitionFeature":rs,"\u0275elementAttribute":ko,"\u0275bind":wa,"\u0275container":ra,"\u0275nextContext":ho,"\u0275containerRefreshStart":oa,"\u0275containerRefreshEnd":aa,"\u0275loadQueryList":Ra,"\u0275namespaceHTML":vo,"\u0275namespaceMathML":go,"\u0275namespaceSVG":mo,"\u0275enableBindings":Ye,"\u0275disableBindings":Je,"\u0275allocHostVars":Ca,"\u0275elementStart":Co,"\u0275elementEnd":xo,"\u0275element":_o,"\u0275elementContainerStart":bo,"\u0275elementContainerEnd":wo,"\u0275pureFunction0":Zl,"\u0275pureFunction1":Xl,"\u0275pureFunction2":$l,"\u0275pureFunction3":tc,"\u0275pureFunction4":ec,"\u0275pureFunction5":nc,"\u0275pureFunction6":rc,"\u0275pureFunction7":ic,"\u0275pureFunction8":oc,"\u0275pureFunctionV":ac,"\u0275getCurrentView":Ua,"\u0275restoreView":Xe,"\u0275interpolation1":Sa,"\u0275interpolation2":Ta,"\u0275interpolation3":Da,"\u0275interpolation4":Ia,"\u0275interpolation5":Oa,"\u0275interpolation6":Aa,"\u0275interpolation7":xa,"\u0275interpolation8":ka,"\u0275interpolationV":Ea,"\u0275elementClassProp":zo,"\u0275listener":Ao,"\u0275load":Ma,"\u0275projection":ha,"\u0275elementProperty":No,"\u0275componentHostSyntheticProperty":Po,"\u0275pipeBind1":uc,"\u0275pipeBind2":lc,"\u0275pipeBind3":cc,"\u0275pipeBind4":hc,"\u0275pipeBindV":fc,"\u0275projectionDef":la,"\u0275pipe":sc,"\u0275query":Pc,"\u0275queryRefresh":Rc,"\u0275registerContentQuery":ja,"\u0275reference":Pa,"\u0275elementStyling":Vo,"\u0275elementHostAttrs":Bo,"\u0275elementStylingMap":Qo,"\u0275elementStyleProp":qo,"\u0275elementStylingApply":Uo,"\u0275template":na,"\u0275text":Ho,"\u0275textBinding":Wo,"\u0275embeddedViewStart":sa,"\u0275embeddedViewEnd":ua,"\u0275i18n":Fl,"\u0275i18nAttributes":Ll,"\u0275i18nExp":Bl,"\u0275i18nStart":xl,"\u0275i18nEnd":Pl,"\u0275i18nApply":Ul,"\u0275i18nPostprocess":Nl,"\u0275sanitizeHtml":Kc,"\u0275sanitizeStyle":Gc,"\u0275defaultStyleSanitizer":Xc,"\u0275sanitizeResourceUrl":Jc,"\u0275sanitizeScript":Zc,"\u0275sanitizeUrl":Yc},eh=function(){return function(){}}(),nh=new Map;function rh(t,e){var n=nh.get(t);ih(t,n&&n.moduleType),nh.set(t,e)}function ih(t,e){if(e)throw new Error("Duplicate module registered for "+t+" - "+Y(e)+" vs "+Y(e.name))}function oh(t){var e=nh.get(t);if(!e)throw uh(t);return e}function ah(t){var e=nh.get(t);if(!e)throw uh(t);return new Yl(e)}var sh=oh;function uh(t){return new Error("No module with ID "+t+" loaded")}var lh=Function;function ch(t){return"function"==typeof t}var hh=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,fh=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,ph=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,dh=function(){function t(t){this._reflect=t||z.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,Object(r.__spread)([void 0],e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){var n=t.toString();if(hh.exec(n)||fh.exec(n)&&!ph.exec(n))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var r=t.ctorParameters;if(r&&r!==e.ctorParameters){var i="function"==typeof r?r():r,o=i.map(function(t){return t&&t.type}),a=i.map(function(t){return t&&yh(t.decorators)});return this._zipTypesAndAnnotations(o,a)}var s=t.hasOwnProperty(T)&&t[T],u=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return u||s?this._zipTypesAndAnnotations(u,s):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!ch(t))return[];var e=mh(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?yh(t.decorators):t.hasOwnProperty(S)?t[S]:null},t.prototype.annotations=function(t){if(!ch(t))return[];var e=mh(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,i={};return Object.keys(r).forEach(function(t){i[t]=yh(r[t])}),i}return t.hasOwnProperty(D)?t[D]:null},t.prototype.propMetadata=function(t){if(!ch(t))return{};var e=mh(t),n={};if(e!==Object){var i=this.propMetadata(e);Object.keys(i).forEach(function(t){n[t]=i[t]})}var o=this._ownPropMetadata(t,e);return o&&Object.keys(o).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,Object(r.__spread)(n[t])),e.push.apply(e,Object(r.__spread)(o[t])),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof lh&&e in t.prototype},t.prototype.guards=function(t){return{}},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){return new Function("o","args","if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);")},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+Y(t)},t.prototype.resourceUri=function(t){return"./"+Y(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}();function yh(t){return t?t.map(function(t){var e=t.type.annotationCls,n=t.args?t.args:[];return new(e.bind.apply(e,Object(r.__spread)([void 0],n)))}):[]}function mh(t){var e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}var gh=null;function vh(){return gh=gh||new dh}function _h(t){return bh(vh().parameters(t))}function bh(t){var e=_e();return t.map(function(t){return function(t,e){var n={token:null,host:!1,optional:!1,resolved:t.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(e){n.resolved=t.R3ResolvedDependencyType.Token,n.token=e}if(Array.isArray(e)){if(0===e.length)throw new Error("Dependency array must have arguments.");for(var i=0;i<e.length;i++){var o=e[i];if(void 0!==o)if(o instanceof Ee||"Optional"===o.__proto__.ngMetadataName)n.optional=!0;else if(o instanceof Te||"SkipSelf"===o.__proto__.ngMetadataName)n.skipSelf=!0;else if(o instanceof Se||"Self"===o.__proto__.ngMetadataName)n.self=!0;else if(o instanceof De||"Host"===o.__proto__.ngMetadataName)n.host=!0;else if(o instanceof Ce)n.token=o.token;else if(o instanceof N){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=t.R3ResolvedDependencyType.Attribute}else r(o)}}else r(e);return n}(e,t)})}var wh=[],Ch=[],Eh=!1;function Sh(t){return Array.isArray(t)?t.every(Sh):!!X(t)}function Th(t,e){void 0===e&&(e={}),Dh(t,e),function(t,e){Ch.push({moduleType:t,ngModule:e})}(t,e)}function Dh(t,e){var n,r,i=kh(e.declarations||wh),o=null;Object.defineProperty(t,m,{configurable:!0,get:function(){return null===o&&(o=_e().compileNgModule(th,"ng://"+t.name+"/ngModuleDef.js",{type:t,bootstrap:kh(e.bootstrap||wh,X),declarations:i.map(X),imports:kh(e.imports||wh,X).map(Nh),exports:kh(e.exports||wh,X).map(Nh),emitInline:!0})),o}}),e.id&&(r=t,ih(n=e.id,nh.get(n)),nh.set(n,r));var a=null;Object.defineProperty(t,d,{get:function(){if(null===a){var n={name:t.name,type:t,deps:_h(t),providers:e.providers||wh,imports:[(e.imports||wh).map(X),(e.exports||wh).map(X)]};a=_e().compileInjector(th,"ng://"+t.name+"/ngInjectorDef.js",n)}return a},configurable:!1})}function Ih(){new Map,new Map,Ch.length=0}function Oh(t,e){var n=kh(e.declarations||wh),r=xh(t);n.forEach(function(e){e.hasOwnProperty(h)?Ah(yt(e),r):e.hasOwnProperty(f)||e.hasOwnProperty(y)||(e.ngSelectorScope=t)})}function Ah(t,e){t.directiveDefs=function(){return Array.from(e.compilation.directives).map(function(t){return mt(t)||yt(t)}).filter(function(t){return!!t})},t.pipeDefs=function(){return Array.from(e.compilation.pipes).map(function(t){return gt(t)})}}function xh(t){if(!Ph(t))throw new Error(t.name+" does not have an ngModuleDef");var e=vt(t);if(null!==e.transitiveCompileScopes)return e.transitiveCompileScopes;var n={compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return e.declarations.forEach(function(t){gt(t)?n.compilation.pipes.add(t):n.compilation.directives.add(t)}),e.imports.forEach(function(t){var e=t;if(!Ph(e))throw new Error("Importing "+e.name+" which does not have an ngModuleDef");var r=xh(e);r.exported.directives.forEach(function(t){return n.compilation.directives.add(t)}),r.exported.pipes.forEach(function(t){return n.compilation.pipes.add(t)})}),e.exports.forEach(function(t){var e=t;if(Ph(e)){var r=xh(e);r.exported.directives.forEach(function(t){n.compilation.directives.add(t),n.exported.directives.add(t)}),r.exported.pipes.forEach(function(t){n.compilation.pipes.add(t),n.exported.pipes.add(t)})}else gt(e)?n.exported.pipes.add(e):n.exported.directives.add(e)}),e.transitiveCompileScopes=n,n}function kh(t,e){var n=[];return t.forEach(function(t){Array.isArray(t)?n.push.apply(n,Object(r.__spread)(kh(t,e))):n.push(e?e(t):t)}),n}function Nh(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function Ph(t){return!!vt(t)}function Rh(t,e){var n=null;!function(t){et(t)&&tt.add(t)}(e),Object.defineProperty(t,h,{get:function(){var i=_e();if(null===n){if(et(e)){var o=["Component '"+Jt(t)+"' is not resolved:"];throw e.templateUrl&&o.push(" - templateUrl: "+Jt(e.templateUrl)),e.styleUrls&&e.styleUrls.length&&o.push(" - styleUrls: "+JSON.stringify(e.styleUrls)),o.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(o.join("\n"))}var a=Object(r.__assign)({},Lh(t,e),{template:e.template||"",preserveWhitespaces:e.preserveWhitespaces||!1,styles:e.styles||ot,animations:e.animations,viewQueries:jh(t,vh().propMetadata(t),Bh),directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:e.encapsulation||rt.Emulated,interpolation:e.interpolation,viewProviders:e.viewProviders||null});if(n=i.compileComponent(th,"ng://"+Jt(t)+"/template.html",a),function(){if(!Eh){Eh=!0;try{for(var t=Ch.length-1;t>=0;t--){var e=Ch[t],n=e.moduleType,r=e.ngModule;r.declarations&&r.declarations.every(Sh)&&(Ch.splice(t,1),Oh(n,r))}}finally{Eh=!1}}}(),void 0!==t.ngSelectorScope){var s=xh(t.ngSelectorScope);Ah(n,s)}}return n},configurable:!1})}function Mh(t,e){var n=null;Object.defineProperty(t,f,{get:function(){if(null===n){var r=Lh(t,e);n=_e().compileDirective(th,"ng://"+(t&&t.name)+"/ngDirectiveDef.js",r)}return n},configurable:!1})}function Fh(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function Lh(t,e){var n=vh().propMetadata(t);return{name:t.name,type:t,typeArgumentCount:0,selector:e.selector,deps:_h(t),host:e.host||it,propMetadata:n,inputs:e.inputs||ot,outputs:e.outputs||ot,queries:jh(t,n,Vh),lifecycle:{usesOnChanges:void 0!==t.prototype.ngOnChanges},typeSourceSpan:null,usesInheritance:!Fh(t),exportAs:e.exportAs||null,providers:e.providers||null}}function jh(t,e,n){var r=[],i=function(i){e.hasOwnProperty(i)&&e[i].forEach(function(e){if(n(e)){if(!e.selector)throw new Error("Can't construct a query for the property \""+i+'" of "'+Jt(t)+"\" since the query selector wasn't defined.");r.push(function(t,e){return{propertyName:i,predicate:(n=e.selector,"string"==typeof n?n.split(",").map(function(t){return t.trim()}):X(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null};var n}(0,e))}})};for(var o in e)i(o);return r}function Vh(t){var e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function Bh(t){var e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function Uh(t,e){var n=null;Object.defineProperty(t,y,{get:function(){return null===n&&(n=_e().compilePipe(th,"ng://"+Jt(t)+"/ngPipeDef.js",{type:t,name:t.name,deps:_h(t),pipeName:e.name,pure:void 0===e.pure||e.pure})),n},configurable:!1})}var qh=I("Directive",function(t){return void 0===t&&(t={}),t},void 0,void 0,function(t,e){return tf(t,e)}),zh=I("Component",function(t){return void 0===t&&(t={}),Object(r.__assign)({changeDetection:j.Default},t)},qh,void 0,function(t,e){return $h(t,e)}),Qh=I("Pipe",function(t){return Object(r.__assign)({pure:!0},t)},void 0,void 0,function(t,e){return ef(t,e)}),Hh=function(t){return function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=e.constructor;o.hasOwnProperty(g)||function(t){var e=t.constructor,n=e.ngBaseDef,r=e.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};n&&(c(r.inputs,n.inputs),c(r.outputs,n.outputs),c(r.declaredInputs,n.declaredInputs))}(e),t(o.ngBaseDef)[n]=r[0]}},Wh=x("Input",function(t){return{bindingPropertyName:t}},void 0,Hh(function(t){return t.inputs||{}})),Kh=x("Output",function(t){return{bindingPropertyName:t}},void 0,Hh(function(t){return t.outputs||{}})),Gh=x("HostBinding",function(t){return{hostPropertyName:t}}),Yh=x("HostListener",function(t,e){return{eventName:t,args:e}}),Jh=Rh,Zh=Mh,Xh=Uh,$h=us,tf=us,ef=us,nf=l({provide:String,useValue:l}),rf=[];function of(t,e){if(!e){var n=(l=new dh).parameters(t);return function(){return new(t.bind.apply(t,Object(r.__spread)([void 0],Re(n))))}}if(nf in e){var i=e;return function(){return i.useValue}}if(e.useExisting){var o=e;return function(){return Ne(o.useExisting)}}if(e.useFactory){var a=e;return function(){return a.useFactory.apply(a,Object(r.__spread)(Re(a.deps||rf)))}}if(e.useClass){var s=e,u=e.deps;if(!u){var l=new dh;u=l.parameters(t)}return function(){var t;return new((t=s.useClass).bind.apply(t,Object(r.__spread)([void 0],Re(u))))}}var c=e.deps;return c||(l=new dh,c=l.parameters(t)),function(){return new(t.bind.apply(t,Object(r.__spread)([void 0],Re(c))))}}var af={name:"custom-elements"},sf={name:"no-errors-schema"},uf=I("NgModule",function(t){return t},void 0,void 0,function(t,e){return cf(t,e)}),lf=Th,cf=function(t,e){var n=e&&e.imports||[];e&&e.exports&&(n=Object(r.__spread)(n,[e.exports])),t.ngInjectorDef=b({factory:of(t,{useClass:t}),providers:e&&e.providers,imports:n})},hf=l({provide:String,useValue:l});function ff(t){return void 0!==t.useClass}function pf(t){return hf in t}function df(t){return void 0!==t.useFactory}function yf(t){return void 0!==t.useExisting}var mf=I("Injectable",void 0,void 0,void 0,function(t,e){return vf(t,e)}),gf=function(t,e){var n=null;t.hasOwnProperty(p)||Object.defineProperty(t,p,{get:function(){if(null===n){var r=e||{providedIn:null},i=ff(r)||df(r)||pf(r)||yf(r),o={name:t.name,type:t,typeArgumentCount:0,providedIn:r.providedIn,ctorDeps:_h(t),userDeps:void 0};if((ff(r)||df(r))&&void 0!==r.deps&&(o.userDeps=bh(r.deps)),i)if(ff(r))o.useClass=r.useClass;else if(pf(r))o.useValue=r.useValue;else if(df(r))o.useFactory=r.useFactory;else{if(!yf(r))throw new Error("Unreachable state.");o.useExisting=r.useExisting}else o.useClass=t;n=_e().compileInjectable(th,"ng://"+t.name+"/ngInjectableDef.js",o)}return n}})},vf=function(t,e){e&&void 0!==e.providedIn&&!w(t)&&(t.ngInjectableDef=_({providedIn:e.providedIn,factory:of(t,e)}))},_f="ngDebugContext",bf="ngOriginalError",wf="ngErrorLogger";function Cf(t){return t[_f]}function Ef(t){return t[bf]}function Sf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,Object(r.__spread)(e))}var Tf=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[wf]||Sf}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?Cf(t)?Cf(t):this._findContext(Ef(t)):null},t.prototype._findOriginalError=function(t){for(var e=Ef(t);e&&Ef(e);)e=Ef(e);return e},t}();function Df(t){return t.length>1?" ("+function(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(function(t){return Y(t.token)}).join(" -> ")+")":""}function If(t,e,n,r){var i=[e],o=n(i),a=r?function(t,e){var n=o+" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[bf]=e,r}(0,r):Error(o);return a.addKey=Of,a.keys=i,a.injectors=[t],a.constructResolvingMessage=n,a[bf]=r,a}function Of(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function Af(t,e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];n.push(o&&0!=o.length?o.map(Y).join(" "):"?")}return Error("Cannot resolve all parameters for '"+Y(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+Y(t)+"' is decorated with Injectable.")}var xf=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=Y(this.token)}return t.get=function(t){return kf.get(X(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return kf.numberOfKeys},enumerable:!0,configurable:!0}),t}(),kf=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof xf)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new xf(t,xf.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}()),Nf=new(function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}())(new dh),Pf=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),Rf=[],Mf=function(){return function(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}(),Ff=function(){return function(t,e){this.factory=t,this.dependencies=e}}();function Lf(t){var e,n;if(t.useClass){var r=X(t.useClass);e=Nf.factory(r),n=Bf(r)}else t.useExisting?(e=function(t){return t},n=[Pf.fromKey(xf.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return Uf(t,e,n)})}return Bf(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=Rf);return new Ff(e,n)}function jf(t){return new Mf(xf.get(t.provide),[Lf(t)],t.multi||!1)}function Vf(t){var e=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+i+" "+r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else e.set(r.key.id,r)}else{var a;a=r.multiProvider?new Mf(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,a)}}return e}(function t(e,n){return e.forEach(function(e){if(e instanceof lh)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,n)}}),n}(t,[]).map(jf),new Map);return Array.from(e.values())}function Bf(t){var e=Nf.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw Af(t,e);return e.map(function(n){return Uf(t,n,e)})}function Uf(t,e,n){var r=null,i=!1;if(!Array.isArray(e))return qf(e instanceof Ce?e.token:e,i,null);for(var o=null,a=0;a<e.length;++a){var s=e[a];s instanceof lh?r=s:s instanceof Ce?r=s.token:s instanceof Ee?i=!0:s instanceof Se||s instanceof Te?o=s:s instanceof E&&(r=s)}if(null!=(r=X(r)))return qf(r,i,o);throw Af(t,n)}function qf(t,e,n){return new Pf(xf.get(t),e,n)}var zf=new Object,Qf=function(){function t(){}return t.resolve=function(t){return Vf(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new Hf(t,e)},t}(),Hf=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=zf}return t.prototype.get=function(t,e){return void 0===e&&(e=hs),this._getByKey(xf.get(t),null,e)},t.prototype.resolveAndCreateChild=function(t){var e=Qf.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n.parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(Qf.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(t){return Error("Index "+t+" is out-of-bounds.")}(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw If(this,t.key,function(t){return"Cannot instantiate cyclic dependency!"+Df(t)});return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,i,o,a=this,s=e.factory;try{n=e.dependencies.map(function(t){return a._getByReflectiveDependency(t)})}catch(u){throw u.addKey&&u.addKey(this,t.key),u}try{i=s.apply(void 0,Object(r.__spread)(n))}catch(u){throw If(this,t.key,function(t){var e=Y(t[0].token);return o.message+": Error during instantiation of "+e+"!"+Df(t)+"."},o=u)}return i},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:hs)},t.prototype._getByKey=function(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof Se?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===zf&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return zf},t.prototype._throwOrNull=function(t,e){if(e!==hs)return e;throw function(t,e){return If(t,e,function(t){return"No provider for "+Y(t[0].token)+"!"+Df(t)})}(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==zf?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var i;for(i=r instanceof Te?this.parent:this;i instanceof t;){var o=i,a=o._getObjByKeyId(e.id);if(a!==zf)return a;i=o.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=' "'+t.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t.INJECTOR_KEY=xf.get(ds),t}();function Wf(t){return!!t&&"function"==typeof t.then}function Kf(t){return!!t&&"function"==typeof t.subscribe}var Gf=new E("Application Initializer"),Yf=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Wf(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),Jf=new E("AppId");function Zf(){return""+$f()+$f()+$f()}var Xf={provide:Jf,useFactory:Zf,deps:[]};function $f(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var tp=new E("Platform Initializer"),ep=new E("Platform ID"),np=new E("appBootstrapListener"),rp=new E("Application Packages Root URL"),ip=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}(),op=function(){return function(t,e){this.ngModuleFactory=t,this.componentFactories=e}}();function ap(){throw new Error("Runtime compiler is not loaded")}var sp,up,lp=function(t){return new Yl(t)},cp=ap,hp=function(t){return Promise.resolve(lp(t))},fp=ap,pp=function(t){return new op(lp(t),[])},dp=ap,yp=function(t){return Promise.resolve(pp(t))},mp=ap,gp=function(){function t(){this.compileModuleSync=cp,this.compileModuleAsync=fp,this.compileModuleAndAllComponentsSync=dp,this.compileModuleAndAllComponentsAsync=mp}return t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),vp=new E("compilerOptions"),_p=function(){return function(){}}();function bp(){var t=z.wtf;return!(!t||!(sp=t.trace)||(up=sp.events,0))}function wp(t,e){return void 0===e&&(e=null),up.createScope(t,e)}function Cp(t,e){return sp.leaveScope(t,e),e}function Ep(t,e){return sp.beginTimeRange(t,e)}function Sp(t){sp.endTimeRange(t)}var Tp=bp();function Dp(t,e){return null}var Ip=Tp?wp:function(t,e){return Dp},Op=Tp?Cp:function(t,e){return e},Ap=Tp?Ep:function(t,e){return null},xp=Tp?Sp:function(t){return null},kp=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yc(!1),this.onMicrotaskEmpty=new yc(!1),this.onStable=new yc(!1),this.onError=new yc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,a){try{return Mp(e),t.invokeTask(r,i,o,a)}finally{Fp(e)}},onInvoke:function(t,n,r,i,o,a,s){try{return Mp(e),t.invoke(r,i,o,a,s)}finally{Fp(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Rp(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Pp,Np,Np);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function Np(){}var Pp={};function Rp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Mp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Fp(t){t._nesting--,Rp(t)}var Lp=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yc,this.onMicrotaskEmpty=new yc,this.onStable=new yc,this.onError=new yc}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),jp=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){kp.assertNotInAngularZone(),K(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())K(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Vp=function(){function t(){this._applications=new Map,qp.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),qp.findTestabilityInTree(this,t,e)},Object(r.__decorate)([Object(r.__metadata)("design:paramtypes",[])],t)}();function Bp(t){qp=t}var Up,qp=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}());function zp(t,e,n){return Promise.resolve(new Yl(n))}var Qp=new E("AllowMultipleToken"),Hp=function(){return function(t,e){this.name=t,this.token=e}}();function Wp(t){if(Up&&!Up.destroyed&&!Up.injector.get(Qp,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Up=t.get(Zp);var e=t.get(tp,null);return e&&e.forEach(function(t){return t()}),Up}function Kp(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new E(r);return function(e){void 0===e&&(e=[]);var o=Jp();if(!o||o.injector.get(Qp,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});Wp(ds.create({providers:a,name:r}))}return Gp(i)}}function Gp(t){var e=Jp();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function Yp(){Up&&!Up.destroyed&&Up.destroy()}function Jp(){return Up&&!Up.destroyed?Up:null}var Zp=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new Lp:("zone.js"===n?void 0:n)||new kp({enableLongStackTrace:Vu()}),o=[{provide:kp,useValue:i}];return i.run(function(){var e=ds.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(Tf,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return td(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,i){try{var o=((a=n.injector.get(Yf)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return Wf(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(a,i)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=Xp({},e);return function(t,e,n){return t.get(_p).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then(function(t){return n.bootstrapModuleFactory(t,r)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get($p);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+Y(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function Xp(t,e){return Array.isArray(e)?e.reduce(Xp,t):Object(r.__assign)({},t,e)}var $p=function(){function t(t,e,n,r,i,o){var l=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Vu(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run(function(){l.tick()})}});var c=new a.a(function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular(function(){t.next(l._stable),t.complete()})}),h=new a.a(function(t){var e;l._zone.runOutsideAngular(function(){e=l._zone.onStable.subscribe(function(){kp.assertNotInAngularZone(),K(function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))})})});var n=l._zone.onUnstable.subscribe(function(){kp.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,h.pipe(Object(u.a)()))}var e;return e=t,t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Zs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof au?null:this._injector.get(su),o=n.create(ds.NULL,[],e||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var a=o.injector.get(jp,null);return a&&o.injector.get(Vp).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Vu()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(r){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(r)})}finally{this._runningTick=!1,Op(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;td(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(np,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),td(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=Ip("ApplicationRef#tick()"),t}();function td(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var ed=function(){function t(){this.dirty=!0,this._results=[],this.changes=new yc,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[W()]=function(){return this._results[W()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),nd=function(){return function(){}}(),rd={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},id=function(){function t(t,e){this._compiler=t,this._config=e||rd}return t.prototype.load=function(t){return this._compiler instanceof gp?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,i=Object(r.__read)(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),n("crnd")(o).then(function(t){return t[a]}).then(function(t){return od(t,o,a)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=Object(r.__read)(t.split("#"),2),i=e[0],o=e[1],a="NgFactory";return void 0===o&&(o="default",a=""),n("crnd")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return od(t,i,o)})},t}();function od(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var ad=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return ud(t,du)},t}(),sd=function(t,e){return function(t,e,n,i){var o;eu||(eu=function(t){function n(e,n,r){var i=t.call(this)||this;return i._lContainer=e,i._hostTNode=n,i._hostView=r,i._viewRefs=[],i}return Object(r.__extends)(n,t),Object.defineProperty(n.prototype,"element",{get:function(){return hu(e,this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injector",{get:function(){return new Fn(this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentInjector",{get:function(){var t=Dn(this._hostTNode,this._hostView),e=ye(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.injectorIndex;)i=i.parent;return i}for(var o=de(t),a=e,s=e[Tt];o>1;)s=(a=a[Ft])[Tt],o--;return s}(t,this._hostView,this._hostTNode);return fe(t)&&null!=n?new Fn(n,e):new Fn(null,this._hostView)},enumerable:!0,configurable:!0}),n.prototype.clear=function(){for(;this._lContainer[Vt].length;)this.remove(0)},n.prototype.get=function(t){return this._viewRefs[t]||null},Object.defineProperty(n.prototype,"length",{get:function(){return this._lContainer[Vt].length},enumerable:!0,configurable:!0}),n.prototype.createEmbeddedView=function(t,e,n){var r=this._adjustIndex(n),i=t.createEmbeddedView(e||{},this._lContainer,this._hostTNode,this._hostView,r);return i.attachToViewContainerRef(this),this._viewRefs.splice(r,0,i),i},n.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;!i&&null==t.ngModule&&o&&(i=o.get(su,null));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},n.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=t._lView,r=this._adjustIndex(e);return Rr(n,this._lContainer,this._hostView,r,this._hostTNode.index),Pr(n,!0,Kr(r,this._lContainer[Vt],this._lContainer[Bt])),t.attachToViewContainerRef(this),this._viewRefs.splice(r,0,t),t},n.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n=this.indexOf(t);return this.detach(n),this.insert(t,this._adjustIndex(e)),t},n.prototype.indexOf=function(t){return this._viewRefs.indexOf(t)},n.prototype.remove=function(t){var e=this._adjustIndex(t,-1);Fr(this._lContainer,this._hostTNode,e),this._viewRefs.splice(e,1)},n.prototype.detach=function(t){var e=this._adjustIndex(t,-1),n=Mr(this._lContainer,e,!!this._hostTNode.detached);return null!=this._viewRefs.splice(e,1)[0]?new lu(n,n[Ot],n[Rt]):null},n.prototype._adjustIndex=function(t,e){return void 0===e&&(e=0),null==t?this._lContainer[Vt].length+e:t},n}(t));var a=i[n.index];if(ae(a))(o=a)[jt]=-1;else{var s=i[kt].createComment("");if(se(i)){var u=i[kt],l=te(n,i);zr(u,Qr(u,l),s,function(t,e){return Er(t)?t.nextSibling(e):e.nextSibling}(u,l))}else Hr(s,n,i);i[n.index]=o=ea(a,n,i,s,!0),fa(i,n.index,o)}return new eu(o,n,i)}(t,e,$e(),Ze())},ud=us,ld=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return hd()},t}(),cd=function(){return pu($e(),Ze(),null)},hd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},fd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(ld),pd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(fd),dd=function(){return function(t,e){this.name=t,this.callback=e}}(),yd=function(){function t(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof md&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),md=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(r.__extends)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,i=this,o=this.childNodes.indexOf(t);-1!==o&&((n=this.childNodes).splice.apply(n,Object(r.__spread)([o+1,0],e)),e.forEach(function(e){e.parent&&e.parent.removeChild(e),t.parent=i}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return vd(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return _d(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(yd);function gd(t){return t.map(function(t){return t.nativeElement})}function vd(t,e,n){t.childNodes.forEach(function(t){t instanceof md&&(e(t)&&n.push(t),vd(t,e,n))})}function _d(t,e,n){t instanceof md&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof md&&_d(t,e,n)})}var bd=function(){function t(t){this.nativeNode=t}return Object.defineProperty(t.prototype,"parent",{get:function(){var t=this.nativeNode.parentNode;return t?new wd(t):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Xn(this.nativeNode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){var t=this.nativeNode;return t&&Kn(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return Gn(this.nativeNode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listeners",{get:function(){return ir(this.nativeNode).filter(rr)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return void 0===(t=tr(this.nativeNode)).localRefs&&(t.localRefs=function(e,n){var r=e[_t].data[t.nodeIndex];if(r&&r.localNames){for(var i={},o=0;o<r.localNames.length;o+=2){var a=r.localNames[o+1];i[r.localNames[o]]=-1===a?te(r,e):e[a]}return i}return null}(t.lView)),t.localRefs||{};var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return function(t){var e=tr(t,!1);if(!e)return[];for(var n,r=e.lView[_t],i=r.data[e.nodeIndex],o=[],a=i.directiveEnd,s=65535&i.providerIndexes;s<a;s++){var u=r.data[s];void 0!==(n=u).type&&void 0!==n.template&&void 0!==n.declaredInputs&&(u=u.type),o.push(u)}return o}(this.nativeNode)},enumerable:!0,configurable:!0}),t}(),wd=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.nativeElement.nodeName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"properties",{get:function(){return tr(this.nativeNode),{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var t={},e=this.nativeElement;if(e)for(var n=e.attributes,r=0;r<n.length;r++){var i=n[r];t[i.name]=i.value}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classes",{get:function(){var t={},e=this.nativeElement;if(e){var n=nr(e),r=n.lView[n.nodeIndex];if(ui(n.nodeIndex,n.lView)){for(var i=9;i<r.length;i+=4)if(Ei(r,i)){var o=Bi(r,i),a=Vi(r,i);"boolean"==typeof a&&(t[o]=a)}}else{var s=e.classList;for(i=0;i<s.length;i++)t[s[i]]=!0}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styles",{get:function(){var t={},e=this.nativeElement;if(e){var n=nr(e),r=n.lView[n.nodeIndex];if(ui(n.nodeIndex,n.lView)){for(var i=9;i<r.length;i+=4)if(!Ei(r,i)){var o=Bi(r,i),a=Vi(r,i);null!==a&&(t[o]=a)}}else{var s=e.style;for(i=0;i<s.length;i++){var u=s.item(i);t[u]=s.getPropertyValue(u)}}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){for(var t=this.nativeNode.childNodes,e=[],n=0;n<t.length;n++)e.push(Sd(t[n]));return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){var t=this.nativeElement;if(!t)return[];for(var e=t.children,n=[],r=0;r<e.length;r++)n.push(Sd(e[r]));return n},enumerable:!0,configurable:!0}),e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return Cd(this,t,e,!0),e},e.prototype.queryAllNodes=function(t){var e=[];return Cd(this,t,e,!1),e},e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name===t&&n.callback(e)})},e}(bd);function Cd(t,e,n,r){t instanceof wd&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof wd&&(r&&!t.nativeElement||Cd(t,e,n,r))})}var Ed=new Map;function Sd(t){return t instanceof Node?t.nodeType==Node.ELEMENT_NODE?new wd(t):new bd(t):null}var Td=function(t){return Ed.get(t)||null};function Dd(t){Ed.set(t.nativeNode,t)}var Id=yd,Od=md,Ad=function(){function t(){}return t.prototype.supports=function(t){return hr(t)},t.prototype.create=function(t){return new kd(t)},t}(),xd=function(t,e){return e},kd=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||xd}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Md(n,r,i)?e:n,a=Md(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;l<=f&&f<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!hr(t))throw new Error("Error trying to diff '"+Y(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&G(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),G(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[W()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&G(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),G(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(G(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(G(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Nd(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Rd),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rd),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),Nd=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),Pd=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&G(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Rd=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Pd,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function Md(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Fd=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||fr(t)},t.prototype.create=function(){return new Ld},t}(),Ld=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||fr(t)))throw new Error("Error trying to diff '"+Y(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new jd(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){G(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),jd=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),Vd=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Te,new Ee]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=_({providedIn:"root",factory:function(){return new t([new Ad])}}),t}(),Bd=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Te,new Ee]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t.ngInjectableDef=_({providedIn:"root",factory:function(){return new t([new Fd])}}),t}(),Ud=[new Fd],qd=new Vd([new Ad]),zd=new Bd(Ud),Qd=Kp(null,"core",[{provide:ep,useValue:"unknown"},{provide:Zp,deps:[ds]},{provide:Vp,deps:[]},{provide:ip,deps:[]}]),Hd=new E("LocaleId"),Wd=new E("Translations"),Kd=new E("TranslationsFormat"),Gd=function(t){return t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore",t}({});function Yd(){return qd}function Jd(){return zd}function Zd(t){return t||"en-US"}var Xd=[{provide:$p,useClass:$p,deps:[kp,ip,ds,Tf,iu,Yf]},{provide:Yf,useClass:Yf,deps:[[new Ee,Gf]]},{provide:gp,useClass:gp,deps:[]},Xf,{provide:Vd,useFactory:Yd,deps:[]},{provide:Bd,useFactory:Jd,deps:[]},{provide:Hd,useFactory:Zd,deps:[[new Ce(Hd),new Ee,new Te]]}],$d=function(){return function(t){}}(),ty=!0,ey=!1;function ny(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function ry(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function iy(t,e){return t.nodes[e]}function oy(t,e){return t.nodes[e]}function ay(t,e){return t.nodes[e]}function sy(t,e){return t.nodes[e]}function uy(t,e){return t.nodes[e]}var ly=function(){return function(){}}(),cy={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function hy(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return fy(n,e),n}(i,t)}function fy(t,e){t[_f]=e,t[wf]=e.logError.bind(e)}function py(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var dy=function(){},yy=new Map;function my(t){var e=yy.get(t);return e||(e=Y(t)+"_"+yy.size,yy.set(t,e)),e}function gy(t,e,n,r){if(lr.isWrapped(r)){r=lr.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=lr.unwrap(t.oldValues[i]);t.oldValues[i]=new lr(o)}return r}var vy="$$undefined",_y="$$empty";function by(t){return{id:vy,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var wy=0;function Cy(t,e,n,r){return!(!(2&t.state)&&G(t.oldValues[e.bindingIndex+n],r))}function Ey(t,e,n,r){return!!Cy(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Sy(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!ur(i,r)){var o=e.bindings[n].name;throw hy(cy.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function Ty(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Dy(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Iy(t,e,n,r){try{return Ty(33554432&t.def.nodes[e].flags?oy(t,e).componentView:t),cy.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Oy(t){return t.parent?oy(t.parent,t.parentNodeDef.nodeIndex):null}function Ay(t){return t.parent?t.parentNodeDef.parent:null}function xy(t,e){switch(201347067&e.flags){case 1:return oy(t,e.nodeIndex).renderElement;case 2:return iy(t,e.nodeIndex).renderText}}function ky(t,e){return t?t+":"+e:e}function Ny(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Py(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Ry(t){return 1<<t%32}function My(t){var e={},n=0,i={};return t&&t.forEach(function(t){var o=Object(r.__read)(t,2),a=o[0],s=o[1];"number"==typeof a?(e[a]=s,n|=Ry(a)):i[a]=s}),{matchedQueries:e,references:i,matchedQueryIds:n}}function Fy(t,e){return t.map(function(t){var n,i,o;return Array.isArray(t)?(o=(n=Object(r.__read)(t,2))[0],i=n[1]):(o=0,i=t),i&&("function"==typeof i||"object"==typeof i)&&e&&Object.defineProperty(i,ls,{value:e,configurable:!0}),{flags:o,token:i,tokenKey:my(i)}})}function Ly(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===rt.Native?oy(t,n.renderParent.nodeIndex).renderElement:void 0:e}var jy=new WeakMap;function Vy(t){var e=jy.get(t);return e||((e=t(function(){return dy})).factory=t,jy.set(t,e)),e}function By(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(xy(t,t.def.lastRenderRootNode))),Uy(t,e,0,t.def.nodes.length-1,n,r,i)}function Uy(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&zy(t,u,e,i,o,a),s+=u.childCount}}function qy(t,e,n,r,i,o){for(var a=t;a&&!Ny(a);)a=a.parent;for(var s=a.parent,u=Ay(a),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=s.def.nodes[c];h.ngContentIndex===e&&zy(s,h,n,r,i,o),c+=h.childCount}if(!s.parent){var f=t.root.projectableNodes[e];if(f)for(c=0;c<f.length;c++)Qy(t,f[c],n,r,i,o)}}function zy(t,e,n,r,i,o){if(8&e.flags)qy(t,e.ngContent.index,n,r,i,o);else{var a=xy(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Qy(t,a,n,r,i,o),32&e.bindingFlags&&Qy(oy(t,e.nodeIndex).componentView,a,n,r,i,o)):Qy(t,a,n,r,i,o),16777216&e.flags)for(var s=oy(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)By(s[u],n,r,i,o);1&e.flags&&!e.element.name&&Uy(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Qy(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var Hy=/^:([^:]+):(.+)$/;function Wy(t){if(":"===t[0]){var e=t.match(Hy);return[e[1],e[2]]}return["",t]}function Ky(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function Gy(t,e){for(var n="",r=0;r<2*t;r+=2)n=n+e[r]+Jy(e[r+1]);return n+e[2*t]}function Yy(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,y,m,g,v,_){switch(t){case 1:return e+Jy(n)+r;case 2:return e+Jy(n)+r+Jy(i)+o;case 3:return e+Jy(n)+r+Jy(i)+o+Jy(a)+s;case 4:return e+Jy(n)+r+Jy(i)+o+Jy(a)+s+Jy(u)+l;case 5:return e+Jy(n)+r+Jy(i)+o+Jy(a)+s+Jy(u)+l+Jy(c)+h;case 6:return e+Jy(n)+r+Jy(i)+o+Jy(a)+s+Jy(u)+l+Jy(c)+h+Jy(f)+p;case 7:return e+Jy(n)+r+Jy(i)+o+Jy(a)+s+Jy(u)+l+Jy(c)+h+Jy(f)+p+Jy(d)+y;case 8:return e+Jy(n)+r+Jy(i)+o+Jy(a)+s+Jy(u)+l+Jy(c)+h+Jy(f)+p+Jy(d)+y+Jy(m)+g;case 9:return e+Jy(n)+r+Jy(i)+o+Jy(a)+s+Jy(u)+l+Jy(c)+h+Jy(f)+p+Jy(d)+y+Jy(m)+g+Jy(v)+_;default:throw new Error("Does not support more than 9 expressions")}}function Jy(t){return null!=t?t.toString():""}var Zy=[],Xy={};function $y(t,e,n,r,i,o){t|=1;var a=My(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Vy(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||dy},provider:null,text:null,query:null,ngContent:null}}function tm(t,e,n,i,o,a,s,u,l,c,h,f){var p;void 0===s&&(s=[]),c||(c=dy);var d=My(n),y=d.matchedQueries,m=d.references,g=d.matchedQueryIds,v=null,_=null;a&&(v=(p=Object(r.__read)(Wy(a),2))[0],_=p[1]),u=u||[];for(var b=new Array(u.length),w=0;w<u.length;w++){var C=Object(r.__read)(u[w],3),E=C[0],S=C[1],T=C[2],D=Object(r.__read)(Wy(S),2),I=D[0],O=D[1],A=void 0,x=void 0;switch(15&E){case 4:x=T;break;case 1:case 8:A=T}b[w]={flags:E,ns:I,name:O,nonMinifiedName:O,securityContext:A,suffix:x}}l=l||[];var k=new Array(l.length);for(w=0;w<l.length;w++){var N=Object(r.__read)(l[w],2);k[w]={type:0,target:N[0],eventName:N[1],propName:null}}var P=(s=s||[]).map(function(t){var e=Object(r.__read)(t,2),n=e[0],i=e[1],o=Object(r.__read)(Wy(n),2);return[o[0],o[1],i]});return f=function(t){if(t&&t.id===vy){var e=null!=t.encapsulation&&t.encapsulation!==rt.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+wy++:_y}return t&&t.id===_y&&(t=null),t||null}(f),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:y,matchedQueryIds:g,references:m,ngContentIndex:i,childCount:o,bindings:b,bindingFlags:Ky(b),outputs:k,element:{ns:v,name:_,attrs:P,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||dy},provider:null,text:null,query:null,ngContent:null}}function em(t,e,n){var i,o=n.element,a=t.root.selectorOrNode,s=t.renderer;if(t.parent||!a){i=o.name?s.createElement(o.name,o.ns):s.createComment("");var u=Ly(t,e,n);u&&s.appendChild(u,i)}else i=s.selectRootElement(a,!!o.componentRendererType&&o.componentRendererType.encapsulation===rt.ShadowDom);if(o.attrs)for(var l=0;l<o.attrs.length;l++){var c=Object(r.__read)(o.attrs[l],3);s.setAttribute(i,c[1],c[2],c[0])}return i}function nm(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=rm(t,n.nodeIndex,ky(o.target,o.eventName)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var l=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=l}}function rm(t,e,n){return function(r){return Iy(t,e,n,r)}}function im(t,e,n,r){if(!Ey(t,e,n,r))return!1;var i=e.bindings[n],o=oy(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(Du.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}var om=new Object,am=my(ds),sm=my(fs),um=my(su);function lm(t,e,n,r){return n=X(n),{index:-1,deps:Fy(r,Y(e)),flags:t,token:e,value:n}}function cm(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===As&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[my(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function hm(t,e,n){void 0===n&&(n=ds.THROW_IF_NOT_FOUND);var r,i,o=Ae(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case am:case sm:case um:return t}var s,u=t._def.providersByKey[a];if(u){var l=t._providers[u.index];return void 0===l&&(l=t._providers[u.index]=fm(t,u)),l===om?void 0:l}if((s=w(e.token))&&(r=t,null!=(i=s).providedIn&&(function(t,e){return t._def.modules.indexOf(i.providedIn)>-1}(r)||"root"===i.providedIn&&r._def.isRoot))){var c=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:s.factory,deps:[],index:c,token:e.token},t._providers[c]=om,t._providers[c]=fm(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Ae(o)}}function fm(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(hm(t,n[0]));case 2:return new e(hm(t,n[0]),hm(t,n[1]));case 3:return new e(hm(t,n[0]),hm(t,n[1]),hm(t,n[2]));default:for(var o=new Array(i),a=0;a<i;a++)o[a]=hm(t,n[a]);return new(e.bind.apply(e,Object(r.__spread)([void 0],o)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(hm(t,n[0]));case 2:return e(hm(t,n[0]),hm(t,n[1]));case 3:return e(hm(t,n[0]),hm(t,n[1]),hm(t,n[2]));default:for(var o=Array(i),a=0;a<i;a++)o[a]=hm(t,n[a]);return e.apply(void 0,Object(r.__spread)(o))}}(t,e.value,e.deps);break;case 2048:n=hm(t,e.deps[0]);break;case 256:n=e.value}return n===om||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?om:n}function pm(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,gm(n,e),cy.dirtyParentQueries(r),ym(r),r}function dm(t,e,n){var r=e?xy(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);By(n,2,i,o,void 0)}function ym(t){By(t,3,null,null,void 0)}function mm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gm(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var vm=new Object;function _m(t,e,n,r,i,o){return new wm(t,e,n,r,i,o)}function bm(t){return t.viewDefFactory}var wm=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=Vy(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=cy.createRootView(t,e||[],n,i,r,vm),s=ay(a,o).instance;return n&&a.renderer.setAttribute(oy(a,0).renderElement,"ng-version",Au.full),new Cm(a,new Dm(a),s)},e}(Zs),Cm=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new du(oy(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new xm(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Js);function Em(t,e,n){return new Sm(t,e,n)}var Sm=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new du(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new xm(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Ay(t),t=t.parent;return t?new xm(t,e):new xm(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=pm(this._data,t);cy.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Dm(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof au||(i=o.get(su));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a=t;return o=(n=this._data).viewContainer._embeddedViews,null==(r=e)&&(r=o.length),(i=a._view).viewContainerParent=this._view,mm(o,r,i),function(t,e){var n=Oy(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,i),cy.dirtyParentQueries(i),dm(n,r>0?o[r-1]:null,i),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(t._view);return i=e,a=(o=(n=this._data).viewContainer._embeddedViews)[r=s],gm(o,r),null==i&&(i=o.length),mm(o,i,a),cy.dirtyParentQueries(a),ym(a),dm(n,i>0?o[i-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=pm(this._data,t);e&&cy.destroyView(e)},t.prototype.detach=function(t){var e=pm(this._data,t);return e?new Dm(e):null},t}();function Tm(t){return new Dm(t)}var Dm=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return By(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Ty(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{cy.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){cy.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),cy.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,ym(this._view),cy.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function Im(t,e){return new Om(t,e)}var Om=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(r.__extends)(e,t),e.prototype.createEmbeddedView=function(t){return new Dm(cy.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new du(oy(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(mc);function Am(t,e){return new xm(t,e)}var xm=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=ds.THROW_IF_NOT_FOUND),cy.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:my(t)},e)},t}();function km(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=oy(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return iy(t,n.nodeIndex).renderText;if(20240&n.flags)return ay(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function Nm(t){return new Pm(t.renderer)}var Pm=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Object(r.__read)(Wy(e),2),i=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,i),i},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var i=Object(r.__read)(Wy(e),2),o=i[0],a=i[1];null!=n?this.delegate.setAttribute(t,a,n,o):this.delegate.removeAttribute(t,a,o)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function Rm(t,e,n,r){return new Mm(t,e,n,r)}var Mm=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=fm(t,i))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=ds.THROW_IF_NOT_FOUND),void 0===n&&(n=Ie.Default);var r=0;return n&Ie.SkipSelf?r|=1:n&Ie.Self&&(r|=4),hm(this,{token:t,tokenKey:my(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(iu)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+Y(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==om){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),Fm=my(_u),Lm=my(Eu),jm=my(du),Vm=my(ad),Bm=my(mc),Um=my(ld),qm=my(ds),zm=my(fs);function Qm(t,e,n,i,o,a,s,u){var l=[];if(s)for(var c in s){var h=Object(r.__read)(s[c],2);l[h[0]]={flags:8,name:c,nonMinifiedName:h[1],ns:null,securityContext:null,suffix:null}}var f=[];if(u)for(var p in u)f.push({type:1,propName:p,target:null,eventName:u[p]});return Km(t,e|=16384,n,i,o,o,a,l,f)}function Hm(t,e,n){return Km(-1,t|=16,null,0,e,e,n)}function Wm(t,e,n,r,i){return Km(-1,t,e,0,n,r,i)}function Km(t,e,n,r,i,o,a,s,u){var l=My(n),c=l.matchedQueries,h=l.references,f=l.matchedQueryIds;u||(u=[]),s||(s=[]),o=X(o);var p=Fy(a,Y(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Ky(s),outputs:u,element:null,provider:{token:i,value:o,deps:p},text:null,query:null,ngContent:null}}function Gm(t,e){return Xm(t,e)}function Ym(t,e){for(var n=t;n.parent&&!Ny(n);)n=n.parent;return $m(n.parent,Ay(n),!0,e.provider.value,e.provider.deps)}function Jm(t,e){var n=$m(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName];if(!Kf(o))throw new Error("@Output "+i.propName+" not initialized in '"+n.constructor.name+"'.");var a=o.subscribe(Zm(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=a.unsubscribe.bind(a)}return n}function Zm(t,e,n){return function(r){return Iy(t,e,n,r)}}function Xm(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return $m(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,o){var a=o.length;switch(a){case 0:return i();case 1:return i(eg(t,e,n,o[0]));case 2:return i(eg(t,e,n,o[0]),eg(t,e,n,o[1]));case 3:return i(eg(t,e,n,o[0]),eg(t,e,n,o[1]),eg(t,e,n,o[2]));default:for(var s=Array(a),u=0;u<a;u++)s[u]=eg(t,e,n,o[u]);return i.apply(void 0,Object(r.__spread)(s))}}(t,e.parent,n,i.value,i.deps);case 2048:return eg(t,e.parent,n,i.deps[0]);case 256:return i.value}}function $m(t,e,n,i,o){var a=o.length;switch(a){case 0:return new i;case 1:return new i(eg(t,e,n,o[0]));case 2:return new i(eg(t,e,n,o[0]),eg(t,e,n,o[1]));case 3:return new i(eg(t,e,n,o[0]),eg(t,e,n,o[1]),eg(t,e,n,o[2]));default:for(var s=new Array(a),u=0;u<a;u++)s[u]=eg(t,e,n,o[u]);return new(i.bind.apply(i,Object(r.__spread)([void 0],s)))}}var tg={};function eg(t,e,n,r,i){if(void 0===i&&(i=ds.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;a===Um&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case Fm:return Nm(ng(s,e,n));case Lm:return ng(s,e,n).renderer;case jm:return new du(oy(s,e.nodeIndex).renderElement);case Vm:return oy(s,e.nodeIndex).viewContainer;case Bm:if(e.element.template)return oy(s,e.nodeIndex).template;break;case Um:return Tm(ng(s,e,n));case qm:case zm:return Am(s,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var l=ay(s,u.nodeIndex);return l||(l={instance:Xm(s,u)},s.nodes[u.nodeIndex]=l),l.instance}}n=Ny(s),e=Ay(s),s=s.parent,4&r.flags&&(s=null)}var c=o.root.injector.get(r.token,tg);return c!==tg||i===tg?c:o.root.ngModule.injector.get(r.token,i)}function ng(t,e,n){var r;if(n)r=oy(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Ny(r);)r=r.parent;return r}function rg(t,e,n,r,i,o){if(32768&n.flags){var a=oy(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=lr.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new cr(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function ig(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&ag(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=og(t,a,e,r)),a=a.parent}}function og(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&ag(t,i,o.flags&n,r++),i+=o.childCount}return r}function ag(t,e,n,r){var i=ay(t,e);if(i){var o=i.instance;o&&(cy.setCurrentNode(t,e),1048576&n&&ry(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&ry(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function sg(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Ry(e),bindings:r},ngContent:null}}function ug(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Py(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&uy(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&uy(t,i).setDirty(),i+=o.childCount}}function lg(t,e){var n=uy(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=cg(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=ay(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=cg(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[l.propName]=c}s&&n.notifyOnChanges()}}function cg(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(hg(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=oy(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(cg(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],f=Oy(h);f&&f===u&&cg(h,0,h.def.nodes.length-1,r,i)}var p=u.template._projectedViews;if(p)for(c=0;c<p.length;c++){var d=p[c];cg(d,0,d.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function hg(t,e,n){if(null!=n)switch(n){case 1:return oy(t,e.nodeIndex).renderElement;case 0:return new du(oy(t,e.nodeIndex).renderElement);case 2:return oy(t,e.nodeIndex).template;case 3:return oy(t,e.nodeIndex).viewContainer;case 4:return ay(t,e.nodeIndex).instance}}function fg(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function pg(t,e,n){var r=Ly(t,e,n);r&&qy(t,n.ngContent.index,1,r,null,void 0)}function dg(t,e){return gg(128,t,new Array(e+1))}function yg(t,e){return gg(32,t,new Array(e))}function mg(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return gg(64,t,i)}function gg(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Ky(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function vg(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function _g(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=Ly(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function bg(t,e){return(null!=t?t.toString():"")+e.suffix}function wg(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,l=null,c=null,h=!1,f=!1,p=null,d=0;d<e.length;d++){var y=e[d];if(y.nodeIndex=d,y.parent=l,y.bindingIndex=i,y.outputIndex=o,y.renderParent=c,a|=y.flags,u|=y.matchedQueryIds,y.element){var m=y.element;m.publicProviders=l?l.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,h=!1,f=!1,y.element.template&&(u|=y.element.template.nodeMatchedQueries)}if(Eg(l,y,e.length),i+=y.bindings.length,o+=y.outputs.length,!c&&3&y.flags&&(p=y),20224&y.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var g=0!=(32768&y.flags);0==(8192&y.flags)||g?l.element.publicProviders[my(y.provider.token)]=y:(f||(f=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[my(y.provider.token)]=y),g&&(l.element.componentProvider=y)}if(l?(l.childFlags|=y.flags,l.directChildFlags|=y.flags,l.childMatchedQueries|=y.matchedQueryIds,y.element&&y.element.template&&(l.childMatchedQueries|=y.element.template.nodeMatchedQueries)):s|=y.flags,y.childCount>0)l=y,Cg(y)||(c=y);else for(;l&&d===l.nodeIndex+l.childCount;){var v=l.parent;v&&(v.childFlags|=l.childFlags,v.childMatchedQueries|=l.childMatchedQueries),c=(l=v)&&Cg(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||dy,updateRenderer:r||dy,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:p}}function Cg(t){return 0!=(1&t.flags)&&null===t.element.name}function Eg(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function Sg(t,e,n,r){var i=Ig(t.root,t.renderer,t,e,n);return Og(i,t.component,r),Ag(i),i}function Tg(t,e,n){var r=Ig(t,t.renderer,null,null,e);return Og(r,n,n),Ag(r),r}function Dg(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,Ig(t.root,i,t,e.element.componentProvider,n)}function Ig(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function Og(t,e,n){t.component=e,t.context=n}function Ag(t){var e;Ny(t)&&(e=oy(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];cy.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var s=em(t,e,o),u=void 0;if(33554432&o.flags){var l=Vy(o.element.componentView);u=cy.createComponentView(t,o,l,s)}nm(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?Im(t,o):void 0},16777216&o.flags&&(a.viewContainer=Em(t,o,a));break;case 2:a=_g(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:Gm(t,o)});break;case 16:a={instance:Ym(t,o)};break;case 16384:(a=r[i])||(a={instance:Jm(t,o)}),32768&o.flags&&Og(oy(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new ed;break;case 8:pg(t,e,o),a=void 0}r[i]=a}jg(t,Lg.CreateViewNodes),qg(t,201326592,268435456,0)}function xg(t){Pg(t),cy.updateDirectives(t,1),Vg(t,Lg.CheckNoChanges),cy.updateRenderer(t,1),jg(t,Lg.CheckNoChanges),t.state&=-97}function kg(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,ny(t,0,256),Pg(t),cy.updateDirectives(t,0),Vg(t,Lg.CheckAndUpdate),qg(t,67108864,536870912,0);var e=ny(t,256,512);ig(t,2097152|(e?1048576:0)),cy.updateRenderer(t,0),jg(t,Lg.CheckAndUpdate),qg(t,134217728,536870912,0),ig(t,8388608|((e=ny(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,ny(t,768,1024)}function Ng(t,e,n,i,o,a,s,u,l,c,h,f,p){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=e.bindings.length,p=!1;return f>0&&im(t,e,0,n)&&(p=!0),f>1&&im(t,e,1,r)&&(p=!0),f>2&&im(t,e,2,i)&&(p=!0),f>3&&im(t,e,3,o)&&(p=!0),f>4&&im(t,e,4,a)&&(p=!0),f>5&&im(t,e,5,s)&&(p=!0),f>6&&im(t,e,6,u)&&(p=!0),f>7&&im(t,e,7,l)&&(p=!0),f>8&&im(t,e,8,c)&&(p=!0),f>9&&im(t,e,9,h)&&(p=!0),p}(t,e,n,r,i,o,a,s,u,l,c,h);case 2:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=!1,p=e.bindings,d=p.length;if(d>0&&Ey(t,e,0,n)&&(f=!0),d>1&&Ey(t,e,1,r)&&(f=!0),d>2&&Ey(t,e,2,i)&&(f=!0),d>3&&Ey(t,e,3,o)&&(f=!0),d>4&&Ey(t,e,4,a)&&(f=!0),d>5&&Ey(t,e,5,s)&&(f=!0),d>6&&Ey(t,e,6,u)&&(f=!0),d>7&&Ey(t,e,7,l)&&(f=!0),d>8&&Ey(t,e,8,c)&&(f=!0),d>9&&Ey(t,e,9,h)&&(f=!0),f){var y=e.text.prefix;d>0&&(y+=bg(n,p[0])),d>1&&(y+=bg(r,p[1])),d>2&&(y+=bg(i,p[2])),d>3&&(y+=bg(o,p[3])),d>4&&(y+=bg(a,p[4])),d>5&&(y+=bg(s,p[5])),d>6&&(y+=bg(u,p[6])),d>7&&(y+=bg(l,p[7])),d>8&&(y+=bg(c,p[8])),d>9&&(y+=bg(h,p[9]));var m=iy(t,e.nodeIndex).renderText;t.renderer.setValue(m,y)}return f}(t,e,n,r,i,o,a,s,u,l,c,h);case 16384:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=ay(t,e.nodeIndex),p=f.instance,d=!1,y=void 0,m=e.bindings.length;return m>0&&Cy(t,e,0,n)&&(d=!0,y=rg(t,f,e,0,n,y)),m>1&&Cy(t,e,1,r)&&(d=!0,y=rg(t,f,e,1,r,y)),m>2&&Cy(t,e,2,i)&&(d=!0,y=rg(t,f,e,2,i,y)),m>3&&Cy(t,e,3,o)&&(d=!0,y=rg(t,f,e,3,o,y)),m>4&&Cy(t,e,4,a)&&(d=!0,y=rg(t,f,e,4,a,y)),m>5&&Cy(t,e,5,s)&&(d=!0,y=rg(t,f,e,5,s,y)),m>6&&Cy(t,e,6,u)&&(d=!0,y=rg(t,f,e,6,u,y)),m>7&&Cy(t,e,7,l)&&(d=!0,y=rg(t,f,e,7,l,y)),m>8&&Cy(t,e,8,c)&&(d=!0,y=rg(t,f,e,8,c,y)),m>9&&Cy(t,e,9,h)&&(d=!0,y=rg(t,f,e,9,h,y)),y&&p.ngOnChanges(y),65536&e.flags&&ry(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),d}(t,e,n,r,i,o,a,s,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=e.bindings,p=!1,d=f.length;if(d>0&&Ey(t,e,0,n)&&(p=!0),d>1&&Ey(t,e,1,r)&&(p=!0),d>2&&Ey(t,e,2,i)&&(p=!0),d>3&&Ey(t,e,3,o)&&(p=!0),d>4&&Ey(t,e,4,a)&&(p=!0),d>5&&Ey(t,e,5,s)&&(p=!0),d>6&&Ey(t,e,6,u)&&(p=!0),d>7&&Ey(t,e,7,l)&&(p=!0),d>8&&Ey(t,e,8,c)&&(p=!0),d>9&&Ey(t,e,9,h)&&(p=!0),p){var y=sy(t,e.nodeIndex),m=void 0;switch(201347067&e.flags){case 32:m=new Array(f.length),d>0&&(m[0]=n),d>1&&(m[1]=r),d>2&&(m[2]=i),d>3&&(m[3]=o),d>4&&(m[4]=a),d>5&&(m[5]=s),d>6&&(m[6]=u),d>7&&(m[7]=l),d>8&&(m[8]=c),d>9&&(m[9]=h);break;case 64:m={},d>0&&(m[f[0].name]=n),d>1&&(m[f[1].name]=r),d>2&&(m[f[2].name]=i),d>3&&(m[f[3].name]=o),d>4&&(m[f[4].name]=a),d>5&&(m[f[5].name]=s),d>6&&(m[f[6].name]=u),d>7&&(m[f[7].name]=l),d>8&&(m[f[8].name]=c),d>9&&(m[f[9].name]=h);break;case 128:var g=n;switch(d){case 1:m=g.transform(n);break;case 2:m=g.transform(r);break;case 3:m=g.transform(r,i);break;case 4:m=g.transform(r,i,o);break;case 5:m=g.transform(r,i,o,a);break;case 6:m=g.transform(r,i,o,a,s);break;case 7:m=g.transform(r,i,o,a,s,u);break;case 8:m=g.transform(r,i,o,a,s,u,l);break;case 9:m=g.transform(r,i,o,a,s,u,l,c);break;case 10:m=g.transform(r,i,o,a,s,u,l,c,h)}}y.value=m}return p}(t,e,n,r,i,o,a,s,u,l,c,h);default:throw"unreachable"}}(t,e,i,o,a,s,u,l,c,h,f,p):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)im(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Ey(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=bg(n[o],r[o]);a=e.text.prefix+a;var s=iy(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=ay(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)Cy(t,e,s,n[s])&&(o=!0,a=rg(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&ry(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var i=e.bindings,o=!1,a=0;a<n.length;a++)Ey(t,e,a,n[a])&&(o=!0);if(o){var s=sy(t,e.nodeIndex),u=void 0;switch(201347067&e.flags){case 32:u=n;break;case 64:for(u={},a=0;a<n.length;a++)u[i[a].name]=n[a];break;case 128:var l=n[0],c=n.slice(1);u=l.transform.apply(l,Object(r.__spread)(c))}s.value=u}return o}(t,e,n);default:throw"unreachable"}}(t,e,i)}function Pg(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=oy(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,Dy(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Rg(t,e,n,r,i,o,a,s,u,l,c,h,f){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){var f=e.bindings.length;f>0&&Sy(t,e,0,n),f>1&&Sy(t,e,1,r),f>2&&Sy(t,e,2,i),f>3&&Sy(t,e,3,o),f>4&&Sy(t,e,4,a),f>5&&Sy(t,e,5,s),f>6&&Sy(t,e,6,u),f>7&&Sy(t,e,7,l),f>8&&Sy(t,e,8,c),f>9&&Sy(t,e,9,h)}(t,e,r,i,o,a,s,u,l,c,h,f):function(t,e,n){for(var r=0;r<n.length;r++)Sy(t,e,r,n[r])}(t,e,r),!1}function Mg(t,e){if(uy(t,e.nodeIndex).dirty)throw hy(cy.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function Fg(t){if(!(128&t.state)){if(Vg(t,Lg.Destroy),jg(t,Lg.Destroy),ig(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Oy(t);if(e){var n=e.template._projectedViews;n&&(gm(n,n.indexOf(t)),cy.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(oy(t,n).renderElement):2&r.flags?t.renderer.destroyNode(iy(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&uy(t,n).destroy()}}(t),Ny(t)&&t.renderer.destroy(),t.state|=128}}var Lg=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function jg(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Bg(oy(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Vg(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=oy(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)Bg(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Bg(t,e){var n=t.state;switch(e){case Lg.CheckNoChanges:0==(128&n)&&(12==(12&n)?xg(t):64&n&&Ug(t,Lg.CheckNoChangesProjectedViews));break;case Lg.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?xg(t):64&n&&Ug(t,e));break;case Lg.CheckAndUpdate:0==(128&n)&&(12==(12&n)?kg(t):64&n&&Ug(t,Lg.CheckAndUpdateProjectedViews));break;case Lg.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?kg(t):64&n&&Ug(t,e));break;case Lg.Destroy:Fg(t);break;case Lg.CreateViewNodes:Ag(t)}}function Ug(t,e){Vg(t,e),jg(t,e)}function qg(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(cy.setCurrentNode(t,a.nodeIndex),r){case 0:lg(t,a);break;case 1:Mg(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var zg=!1;function Qg(){if(!zg){zg=!0;var t=Vu()?{setCurrentNode:pv,createRootView:Wg,createEmbeddedView:Gg,createComponentView:Yg,createNgModuleRef:Jg,overrideProvider:tv,overrideComponentView:ev,clearOverrides:nv,checkAndUpdateView:av,checkNoChangesView:sv,destroyView:uv,createDebugContext:function(t,e){return new wv(t,e)},handleEvent:dv,updateDirectives:yv,updateRenderer:mv}:{setCurrentNode:function(){},createRootView:Hg,createEmbeddedView:Sg,createComponentView:Dg,createNgModuleRef:Rm,overrideProvider:dy,overrideComponentView:dy,clearOverrides:dy,checkAndUpdateView:kg,checkNoChangesView:xg,destroyView:Fg,createDebugContext:function(t,e){return new wv(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?iv:ov,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?iv:ov,t)}};cy.setCurrentNode=t.setCurrentNode,cy.createRootView=t.createRootView,cy.createEmbeddedView=t.createEmbeddedView,cy.createComponentView=t.createComponentView,cy.createNgModuleRef=t.createNgModuleRef,cy.overrideProvider=t.overrideProvider,cy.overrideComponentView=t.overrideComponentView,cy.clearOverrides=t.clearOverrides,cy.checkAndUpdateView=t.checkAndUpdateView,cy.checkNoChangesView=t.checkNoChangesView,cy.destroyView=t.destroyView,cy.resolveDep=eg,cy.createDebugContext=t.createDebugContext,cy.handleEvent=t.handleEvent,cy.updateDirectives=t.updateDirectives,cy.updateRenderer=t.updateRenderer,cy.dirtyParentQueries=ug}}function Hg(t,e,n,r,i,o){var a=i.injector.get(wu);return Tg(Kg(t,i,a,e,n),r,o)}function Wg(t,e,n,r,i,o){var a=i.injector.get(wu),s=Kg(t,i,new Tv(a),e,n),u=rv(r);return Ev(fv.create,Tg,null,[s,u,o])}function Kg(t,e,n,r,i){var o=e.injector.get(Iu),a=e.injector.get(Tf),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function Gg(t,e,n,r){var i=rv(n);return Ev(fv.create,Sg,null,[t,e,i,r])}function Yg(t,e,n,r){return n=$g.get(e.element.componentProvider.provider.token)||rv(n),Ev(fv.create,Dg,null,[t,e,n,r])}function Jg(t,e,n,r){return Rm(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Zg.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=Zg.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){Xg.forEach(function(r,i){w(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=Zg.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Fy(i.deps),r.value=i.value)}if(Xg.size>0){var o=new Set(t.modules);Xg.forEach(function(e,r){if(o.has(w(r).providedIn)){var i={token:r,flags:e.flags|(n?4096:0),deps:Fy(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[my(r)]=i}})}}(t=t.factory(function(){return dy})),t):t}(r))}var Zg=new Map,Xg=new Map,$g=new Map;function tv(t){var e;Zg.set(t.token,t),"function"==typeof t.token&&(e=w(t.token))&&"function"==typeof e.providedIn&&Xg.set(t.token,t)}function ev(t,e){var n=Vy(bm(e)),r=Vy(n.nodes[0].element.componentView);$g.set(t,r)}function nv(){Zg.clear(),Xg.clear(),$g.clear()}function rv(t){if(0===Zg.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Zg.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return dy});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=Zg.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=Fy(o.deps),i.value=o.value)}}}}function iv(t,e,n,r,i,o,a,s,u,l,c,h,f){var p=t.def.nodes[e];return Ng(t,p,n,r,i,o,a,s,u,l,c,h,f),224&p.flags?sy(t,e).value:void 0}function ov(t,e,n,r,i,o,a,s,u,l,c,h,f){var p=t.def.nodes[e];return Rg(t,p,n,r,i,o,a,s,u,l,c,h,f),224&p.flags?sy(t,e).value:void 0}function av(t){return Ev(fv.detectChanges,kg,null,[t])}function sv(t){return Ev(fv.checkNoChanges,xg,null,[t])}function uv(t){return Ev(fv.destroy,Fg,null,[t])}var lv,cv,hv,fv=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function pv(t,e){cv=t,hv=e}function dv(t,e,n,r){return pv(t,e),Ev(fv.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function yv(t,e){if(128&t.state)throw py(fv[lv]);return pv(t,_v(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?gv(t,a,r,i):vv(t,a,r,i),16384&a.flags&&pv(t,_v(t,n)),224&a.flags?sy(t,a.nodeIndex).value:void 0},t)}function mv(t,e){if(128&t.state)throw py(fv[lv]);return pv(t,bv(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?gv(t,a,r,i):vv(t,a,r,i),3&a.flags&&pv(t,bv(t,n)),224&a.flags?sy(t,a.nodeIndex).value:void 0},t)}function gv(t,e,n,i){if(Ng.apply(void 0,Object(r.__spread)([t,e,n],i))){var o=1===n?i[0]:i;if(16384&e.flags){for(var a={},s=0;s<e.bindings.length;s++){var u=e.bindings[s],l=o[s];8&u.flags&&(a[(p=u.nonMinifiedName,"ng-reflect-"+p.replace(/[$@]/g,"_").replace(ar,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))]=sr(l))}var c=e.parent,h=oy(t,c.nodeIndex).renderElement;if(c.element.name)for(var f in a)null!=(l=a[f])?t.renderer.setAttribute(h,f,l):t.renderer.removeAttribute(h,f);else t.renderer.setValue(h,"bindings="+JSON.stringify(a,null,2))}}var p}function vv(t,e,n,i){Rg.apply(void 0,Object(r.__spread)([t,e,n],i))}function _v(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function bv(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var wv=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Ay(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return oy(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Am(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Cv(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Cv(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!Ny(t);)t=t.parent;return t.parent?oy(t.parent,Ay(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?xy(this.view,this.nodeDef):xy(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),s=-1;e.factory(function(){var e;return++s===a?(e=t.error).bind.apply(e,Object(r.__spread)([t],i)):dy}),s<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,Object(r.__spread)(i)))},t}();function Cv(t,e,n){for(var r in e.references)n[r]=hg(t,e,e.references[r])}function Ev(t,e,n,r){var i=lv,o=cv,a=hv;try{lv=t;var s=e.apply(n,r);return cv=o,hv=a,lv=i,s}catch(u){if(Cf(u)||!cv)throw u;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),fy(t,e),t}(u,Sv())}}function Sv(){return cv?new wv(cv,hv):null}var Tv=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Dv(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Dv=function(){function t(t){this.delegate=t,this.debugContextFactory=Sv,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){!function(t){Ed.delete(t.nativeNode)}(Td(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var i=new md(n,null,r);i.name=t,Dd(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Dd(new yd(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Dd(new yd(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=Td(t),r=Td(e);n&&r&&n instanceof md&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=Td(t),i=Td(e),o=Td(n);r&&i&&r instanceof md&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=Td(t),r=Td(e);n&&r&&n instanceof md&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var n=this.delegate.selectRootElement(t,e),r=Sv();return r&&Dd(new md(n,null,r)),n},t.prototype.setAttribute=function(t,e,n,r){var i=Td(t);i&&i instanceof md&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=Td(t);r&&r instanceof md&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=Td(t);n&&n instanceof md&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=Td(t);n&&n instanceof md&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=Td(t);i&&i instanceof md&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=Td(t);r&&r instanceof md&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=Td(t);r&&r instanceof md&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=Td(t);r&&r.listeners.push(new dd(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function Iv(t){return Qg(),cy.overrideProvider(t)}function Ov(t,e){return Qg(),cy.overrideComponentView(t,e)}function Av(){return Qg(),cy.clearOverrides()}function xv(t,e,n){return new kv(t,e,n)}var kv=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(r.__extends)(e,t),e.prototype.create=function(t){Qg();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Vy(this._ngModuleDefFactory));return cy.createNgModuleRef(this.moduleType,t||ds.NULL,this._bootstrapComponents,e)},e}(uu)},DKTb:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t})}n.d(e,"a",function(){return r})},"Dd/+":function(t,e,n){n("q94Q")("unscopables")},ELNm:function(t,e,n){var r;r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),o=n(3),a=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),i.initializer.load(this,n,e),this.begin()}return r(t,[{key:"toggle",value:function(){this.pause.status?this.start():this.stop()}},{key:"stop",value:function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))}},{key:"start",value:function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))}},{key:"destroy",value:function(){this.reset(!1),this.options.onDestroy(this)}},{key:"reset",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,t&&(this.insertCursor(),this.options.onReset(this),this.begin())}},{key:"begin",value:function(){var t=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){t.currentElContent&&0!==t.currentElContent.length?t.backspace(t.currentElContent,t.currentElContent.length):t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos)},this.startDelay)}},{key:"typewrite",value:function(t,e){var n=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var r=this.humanizer(this.typeSpeed),i=1;!0!==this.pause.status?this.timeout=setTimeout(function(){e=o.htmlParser.typeHtmlChars(t,e,n);var r=0,a=t.substr(e);if("^"===a.charAt(0)&&/^\^\d+/.test(a)){var s=1;s+=(a=/\d+/.exec(a)[0]).length,r=parseInt(a),n.temporaryPause=!0,n.options.onTypingPaused(n.arrayPos,n),t=t.substring(0,e)+t.substring(e+s),n.toggleBlinking(!0)}if("`"===a.charAt(0)){for(;"`"!==t.substr(e+i).charAt(0)&&!(e+ ++i>t.length););var u=t.substring(0,e),l=t.substring(u.length+1,e+i),c=t.substring(e+i+1);t=u+l+c,i--}n.timeout=setTimeout(function(){n.toggleBlinking(!1),e>=t.length?n.doneTyping(t,e):n.keepTyping(t,e,i),n.temporaryPause&&(n.temporaryPause=!1,n.options.onTypingResumed(n.arrayPos,n))},r)},r):this.setPauseStatus(t,e,!0)}},{key:"keepTyping",value:function(t,e,n){0===e&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var r=t.substr(0,e+=n);this.replaceText(r),this.typewrite(t,e)}},{key:"doneTyping",value:function(t,e){var n=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),!1===this.loop||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){n.backspace(t,e)},this.backDelay))}},{key:"backspace",value:function(t,e){var n=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var r=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){e=o.htmlParser.backSpaceHtmlChars(t,e,n);var r=t.substr(0,e);if(n.replaceText(r),n.smartBackspace){var i=n.strings[n.arrayPos+1];n.stopNum=i&&r===i.substr(0,e)?e:0}e>n.stopNum?n.backspace(t,--e):e<=n.stopNum&&(n.arrayPos++,n.arrayPos===n.strings.length?(n.arrayPos=0,n.options.onLastStringBackspaced(),n.shuffleStringsIfNeeded(),n.begin()):n.typewrite(n.strings[n.sequence[n.arrayPos]],e))},r)}else this.setPauseStatus(t,e,!0)}},{key:"complete",value:function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0}},{key:"setPauseStatus",value:function(t,e,n){this.pause.typewrite=n,this.pause.curString=t,this.pause.curStrPos=e}},{key:"toggleBlinking",value:function(t){this.cursor&&(this.pause.status||this.cursorBlinking!==t&&(this.cursorBlinking=t,t?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))}},{key:"humanizer",value:function(t){return Math.round(Math.random()*t/2)+t}},{key:"shuffleStringsIfNeeded",value:function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))}},{key:"initFadeOut",value:function(){var t=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){t.arrayPos++,t.replaceText(""),t.strings.length>t.arrayPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],0):(t.typewrite(t.strings[0],0),t.arrayPos=0)},this.fadeOutDelay)}},{key:"replaceText",value:function(t){this.attr?this.el.setAttribute(this.attr,t):this.isInput?this.el.value=t:"html"===this.contentType?this.el.innerHTML=t:this.el.textContent=t}},{key:"bindFocusEvents",value:function(){var t=this;this.isInput&&(this.el.addEventListener("focus",function(e){t.stop()}),this.el.addEventListener("blur",function(e){t.el.value&&0!==t.el.value.length||t.start()}))}},{key:"insertCursor",value:function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))}}]),t}();e.default=a,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=(r=n(2))&&r.__esModule?r:{default:r},s=function(){function t(){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this)}return o(t,[{key:"load",value:function(t,e,n){if(t.el="string"==typeof n?document.querySelector(n):n,t.options=i({},a.default,e),t.isInput="input"===t.el.tagName.toLowerCase(),t.attr=t.options.attr,t.bindInputFocusEvents=t.options.bindInputFocusEvents,t.showCursor=!t.isInput&&t.options.showCursor,t.cursorChar=t.options.cursorChar,t.cursorBlinking=!0,t.elContent=t.attr?t.el.getAttribute(t.attr):t.el.textContent,t.contentType=t.options.contentType,t.typeSpeed=t.options.typeSpeed,t.startDelay=t.options.startDelay,t.backSpeed=t.options.backSpeed,t.smartBackspace=t.options.smartBackspace,t.backDelay=t.options.backDelay,t.fadeOut=t.options.fadeOut,t.fadeOutClass=t.options.fadeOutClass,t.fadeOutDelay=t.options.fadeOutDelay,t.isPaused=!1,t.strings=t.options.strings.map(function(t){return t.trim()}),t.stringsElement="string"==typeof t.options.stringsElement?document.querySelector(t.options.stringsElement):t.options.stringsElement,t.stringsElement){t.strings=[],t.stringsElement.style.display="none";var r=Array.prototype.slice.apply(t.stringsElement.children),o=r.length;if(o)for(var s=0;s<o;s+=1)t.strings.push(r[s].innerHTML.trim())}for(var s in t.strPos=0,t.arrayPos=0,t.stopNum=0,t.loop=t.options.loop,t.loopCount=t.options.loopCount,t.curLoop=0,t.shuffle=t.options.shuffle,t.sequence=[],t.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},t.typingComplete=!1,t.strings)t.sequence[s]=s;t.currentElContent=this.getCurrentElContent(t),t.autoInsertCss=t.options.autoInsertCss,this.appendAnimationCss(t)}},{key:"getCurrentElContent",value:function(t){return t.attr?t.el.getAttribute(t.attr):t.isInput?t.el.value:"html"===t.contentType?t.el.innerHTML:t.el.textContent}},{key:"appendAnimationCss",value:function(t){if(t.autoInsertCss&&(t.showCursor||t.fadeOut)&&!document.querySelector("[data-typed-js-css]")){var e=document.createElement("style");e.type="text/css",e.setAttribute("data-typed-js-css",!0);var n="";t.showCursor&&(n+="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      "),t.fadeOut&&(n+="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      "),0!==e.length&&(e.innerHTML=n,document.body.appendChild(e))}}}]),t}();e.default=s;var u=new s;e.initializer=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(t){},onComplete:function(t){},preStringTyped:function(t,e){},onStringTyped:function(t,e){},onLastStringBackspaced:function(t){},onTypingPaused:function(t,e){},onTypingResumed:function(t,e){},onReset:function(t){},onStop:function(t,e){},onStart:function(t,e){},onDestroy:function(t){}},t.exports=e.default},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(){function t(){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this)}return n(t,[{key:"typeHtmlChars",value:function(t,e,n){if("html"!==n.contentType)return e;var r=t.substr(e).charAt(0);if("<"===r||"&"===r){var i;for(i="<"===r?">":";";t.substr(e+1).charAt(0)!==i&&!(++e+1>t.length););e++}return e}},{key:"backSpaceHtmlChars",value:function(t,e,n){if("html"!==n.contentType)return e;var r=t.substr(e).charAt(0);if(">"===r||";"===r){var i;for(i=">"===r?"<":"&";t.substr(e-1).charAt(0)!==i&&!(--e<0););e--}return e}}]),t}();e.default=r;var i=new r;e.htmlParser=i}])},t.exports=r()},Ehmk:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r,i=n("eihs");function o(){try{return r.apply(this,arguments)}catch(t){return i.a.e=t,i.a}}function a(t){return r=t,o}},"En8+":function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});var i=r()},"F/XL":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("nkY7"),i=n("IUTb"),o=n("G5J1"),a=n("PU8L");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(Object(r.a)(n)?t.pop():n=void 0,t.length){case 0:return Object(o.b)(n);case 1:return n?Object(i.a)(t,n):Object(a.a)(t[0]);default:return Object(i.a)(t,n)}}},FFOo:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("mrSG"),i=n("2Bdj"),o=n("6ahw"),a=n("pugT"),s=n("L/V9"),u=n("iLxQ"),l=n("DKTb"),c=function(t){function e(n,r,i){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,a._parentSubscription=null,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"==typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new h(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new h(a,n,r,i)}return a}return r.__extends(e,t),e.prototype[s.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this._parentSubscription=null,this},e}(a.a),h=function(t){function e(e,n,r,a){var s,u=t.call(this)||this;u._parentSubscriber=e;var l=u;return Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.a&&(l=Object.create(n),Object(i.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(u))),u._context=l,u._next=s,u._error=r,u._complete=a,u}return r.__extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(l.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(l.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(l.a)(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(l.a)(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(c)},FnXw:function(t,e,n){var r=n("kpns"),i=n("hdqJ"),o=n("aXXJ")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},FoKB:function(t,e,n){n("q94Q")("observable")},Fxb1:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("6blF"),i=n("+tJ4"),o=n("S5XQ"),a=n("u67D"),s=n("JcRv"),u=n("2ePl"),l=n("/WYv"),c=n("McSo"),h=n("En8+"),f=n("xTla"),p=function(t){if(t instanceof r.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[f.a])return Object(s.a)(t);if(Object(u.a)(t))return Object(i.a)(t);if(Object(l.a)(t))return Object(o.a)(t);if(t&&"function"==typeof t[h.a])return Object(a.a)(t);var e=Object(c.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},G5J1:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("6blF"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},GJzV:function(t,e,n){var r=n("JKJi"),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},Gp07:function(t,e,n){var r=n("JKJi"),i=n("9Nts");t.exports=function(t,e,n){var o,a,s=String(i(t)),u=r(e),l=s.length;return u<0||u>=l?n?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?n?s.charAt(u):o:n?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}},GrVo:function(t,e,n){"use strict";var r=n("Q2Kg"),i=n("fw2a"),o=n("iCuu"),a=n("SAp2"),s=n("t5mC"),u=Object.assign;t.exports=!u||n("0HDe")(function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||"abcdefghijklmnopqrst"!=r(u({},e)).join("")})?function(t,e){for(var n=a(t),u=arguments.length,l=1,c=i.f,h=o.f;u>l;)for(var f,p=s(arguments[l++]),d=c?r(p).concat(c(p)):r(p),y=d.length,m=0;y>m;)h.call(p,f=d[m++])&&(n[f]=p[f]);return n}:u},H6ty:function(t,e,n){var r=n("JKJi"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},HefZ:function(t,e,n){n("rZEa"),n("QvOV"),n("44fV"),n("2F3y"),n("qjh4"),n("b2LF"),n("uiB+"),n("q0E7"),n("+v3u"),n("dstF"),n("dYkh"),n("gIEr"),n("luCB"),n("MuAL"),n("uLJa"),n("Dd/+"),n("vb+c"),n("ZPxF"),t.exports=n("4Ea8").Symbol},IUTb:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("6blF"),i=n("pugT"),o=n("+tJ4");function a(t,e){return new r.a(e?function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}:Object(o.a)(t))}},Ip0R:function(t,e,n){"use strict";n.r(e),n.d(e,"\u0275angular_packages_common_common_e",function(){return Zt}),n.d(e,"\u0275angular_packages_common_common_d",function(){return H}),n.d(e,"\u0275angular_packages_common_common_a",function(){return At}),n.d(e,"\u0275angular_packages_common_common_b",function(){return Pt}),n.d(e,"\u0275angular_packages_common_common_g",function(){return we}),n.d(e,"\u0275angular_packages_common_common_f",function(){return ze}),n.d(e,"\u0275registerLocaleData",function(){return m}),n.d(e,"registerLocaleData",function(){return m}),n.d(e,"formatDate",function(){return et}),n.d(e,"formatCurrency",function(){return St}),n.d(e,"formatNumber",function(){return Dt}),n.d(e,"formatPercent",function(){return Tt}),n.d(e,"NgLocaleLocalization",function(){return Nt}),n.d(e,"NgLocalization",function(){return xt}),n.d(e,"Plural",function(){return _}),n.d(e,"NumberFormatStyle",function(){return v}),n.d(e,"FormStyle",function(){return b}),n.d(e,"TranslationWidth",function(){return w}),n.d(e,"FormatWidth",function(){return C}),n.d(e,"NumberSymbol",function(){return E}),n.d(e,"WeekDay",function(){return S}),n.d(e,"getNumberOfCurrencyDigits",function(){return G}),n.d(e,"getCurrencySymbol",function(){return W}),n.d(e,"getLocaleDayPeriods",function(){return D}),n.d(e,"getLocaleDayNames",function(){return I}),n.d(e,"getLocaleMonthNames",function(){return O}),n.d(e,"getLocaleId",function(){return T}),n.d(e,"getLocaleEraNames",function(){return A}),n.d(e,"getLocaleWeekEndRange",function(){return k}),n.d(e,"getLocaleFirstDayOfWeek",function(){return x}),n.d(e,"getLocaleDateFormat",function(){return N}),n.d(e,"getLocaleDateTimeFormat",function(){return R}),n.d(e,"getLocaleExtraDayPeriodRules",function(){return U}),n.d(e,"getLocaleExtraDayPeriods",function(){return q}),n.d(e,"getLocalePluralCase",function(){return V}),n.d(e,"getLocaleTimeFormat",function(){return P}),n.d(e,"getLocaleNumberSymbol",function(){return M}),n.d(e,"getLocaleNumberFormat",function(){return F}),n.d(e,"getLocaleCurrencyName",function(){return j}),n.d(e,"getLocaleCurrencySymbol",function(){return L}),n.d(e,"\u0275parseCookieValue",function(){return Rt}),n.d(e,"CommonModule",function(){return Qe}),n.d(e,"DeprecatedI18NPipesModule",function(){return He}),n.d(e,"NgClass",function(){return Mt}),n.d(e,"NgForOf",function(){return jt}),n.d(e,"NgForOfContext",function(){return Lt}),n.d(e,"NgIf",function(){return Bt}),n.d(e,"NgIfContext",function(){return Ut}),n.d(e,"NgPlural",function(){return Kt}),n.d(e,"NgPluralCase",function(){return Gt}),n.d(e,"NgStyle",function(){return Yt}),n.d(e,"NgSwitch",function(){return Qt}),n.d(e,"NgSwitchCase",function(){return Ht}),n.d(e,"NgSwitchDefault",function(){return Wt}),n.d(e,"NgTemplateOutlet",function(){return Jt}),n.d(e,"NgComponentOutlet",function(){return Ft}),n.d(e,"DOCUMENT",function(){return We}),n.d(e,"AsyncPipe",function(){return Te}),n.d(e,"DatePipe",function(){return xe}),n.d(e,"I18nPluralPipe",function(){return Ne}),n.d(e,"I18nSelectPipe",function(){return Pe}),n.d(e,"JsonPipe",function(){return Re}),n.d(e,"LowerCasePipe",function(){return De}),n.d(e,"CurrencyPipe",function(){return Ve}),n.d(e,"DecimalPipe",function(){return Le}),n.d(e,"PercentPipe",function(){return je}),n.d(e,"SlicePipe",function(){return qe}),n.d(e,"UpperCasePipe",function(){return Ae}),n.d(e,"TitleCasePipe",function(){return Oe}),n.d(e,"KeyValuePipe",function(){return Me}),n.d(e,"DeprecatedDatePipe",function(){return ye}),n.d(e,"DeprecatedCurrencyPipe",function(){return be}),n.d(e,"DeprecatedDecimalPipe",function(){return ve}),n.d(e,"DeprecatedPercentPipe",function(){return _e}),n.d(e,"\u0275PLATFORM_BROWSER_ID",function(){return Ke}),n.d(e,"\u0275PLATFORM_SERVER_ID",function(){return Ge}),n.d(e,"\u0275PLATFORM_WORKER_APP_ID",function(){return Ye}),n.d(e,"\u0275PLATFORM_WORKER_UI_ID",function(){return Je}),n.d(e,"isPlatformBrowser",function(){return Ze}),n.d(e,"isPlatformServer",function(){return Xe}),n.d(e,"isPlatformWorkerApp",function(){return $e}),n.d(e,"isPlatformWorkerUi",function(){return tn}),n.d(e,"VERSION",function(){return en}),n.d(e,"ViewportScroller",function(){return nn}),n.d(e,"\u0275NullViewportScroller",function(){return on}),n.d(e,"PlatformLocation",function(){return o}),n.d(e,"LOCATION_INITIALIZED",function(){return a}),n.d(e,"LocationStrategy",function(){return s}),n.d(e,"APP_BASE_HREF",function(){return u}),n.d(e,"HashLocationStrategy",function(){return h}),n.d(e,"PathLocationStrategy",function(){return f}),n.d(e,"Location",function(){return l});var r=n("CcnG"),i=n("mrSG"),o=function(){return function(){}}(),a=new r.InjectionToken("Location Initialized"),s=function(){return function(){}}(),u=new r.InjectionToken("appBaseHref"),l=function(){function t(t){var n=this;this._subject=new r.EventEmitter,this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(c(i)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})})}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(t,n){return void 0===n&&(n=""),this.path()==this.normalize(t+e.normalizeQueryParams(n))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,c(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,e)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function c(t){return t.replace(/\/index.html$/,"")}var h=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(i.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=l.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s),f=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(i.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return l.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+l.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s),p=void 0,d=["en",[["a","p"],["AM","PM"],p],[["AM","PM"],p,p],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],p,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],p,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",p,"{1} 'at' {0}",p],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],y={};function m(t,e,n){"string"!=typeof e&&(n=e,e=t[0]),e=e.toLowerCase().replace(/_/g,"-"),y[e]=t,n&&(y[e][19]=n)}var g={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,0],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",0],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",0],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",0],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",0],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",0],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",0],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,0],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UZS:[void 0,void 0,0],VEF:[void 0,"Bs"],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},v=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),_=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),b=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),w=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),C=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),E=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({}),S=function(t){return t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday",t}({});function T(t){return H(t)[0]}function D(t,e,n){var r=H(t),i=z([r[1],r[2]],e);return z(i,n)}function I(t,e,n){var r=H(t),i=z([r[3],r[4]],e);return z(i,n)}function O(t,e,n){var r=H(t),i=z([r[5],r[6]],e);return z(i,n)}function A(t,e){return z(H(t)[7],e)}function x(t){return H(t)[8]}function k(t){return H(t)[9]}function N(t,e){return z(H(t)[10],e)}function P(t,e){return z(H(t)[11],e)}function R(t,e){return z(H(t)[12],e)}function M(t,e){var n=H(t),r=n[13][e];if(void 0===r){if(e===E.CurrencyDecimal)return n[13][E.Decimal];if(e===E.CurrencyGroup)return n[13][E.Group]}return r}function F(t,e){return H(t)[14][e]}function L(t){return H(t)[15]||null}function j(t){return H(t)[16]||null}function V(t){return H(t)[18]}function B(t){if(!t[19])throw new Error('Missing extra locale data for the locale "'+t[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function U(t){var e=H(t);return B(e),(e[19][2]||[]).map(function(t){return"string"==typeof t?Q(t):[Q(t[0]),Q(t[1])]})}function q(t,e,n){var r=H(t);B(r);var i=z([r[19][0],r[19][1]],e)||[];return z(i,n)||[]}function z(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Q(t){var e=Object(i.__read)(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}function H(t){var e=t.toLowerCase().replace(/_/g,"-"),n=y[e];if(n)return n;var r=e.split("-")[0];if(n=y[r])return n;if("en"===r)return d;throw new Error('Missing locale data for the locale "'+t+'".')}function W(t,e,n){void 0===n&&(n="en");var r=function(t){return H(t)[17]}(n)[t]||g[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}var K=2;function G(t){var e,n=g[t];return n&&(e=n[2]),"number"==typeof e?e:K}var Y=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,J={},Z=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,X=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),$=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),tt=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function et(t,e,n,r){var o=function(t){if(pt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var r=Object(i.__read)(t.split("-").map(function(t){return+t}),3);return new Date(r[0],r[1]-1,r[2])}if(e=t.match(Y))return ft(e)}var o=new Date(t);if(!pt(o))throw new Error('Unable to convert "'+t+'" into a date');return o}(t);e=function t(e,n){var r=T(e);if(J[r]=J[r]||{},J[r][n])return J[r][n];var i="";switch(n){case"shortDate":i=N(e,C.Short);break;case"mediumDate":i=N(e,C.Medium);break;case"longDate":i=N(e,C.Long);break;case"fullDate":i=N(e,C.Full);break;case"shortTime":i=P(e,C.Short);break;case"mediumTime":i=P(e,C.Medium);break;case"longTime":i=P(e,C.Long);break;case"fullTime":i=P(e,C.Full);break;case"short":var o=t(e,"shortTime"),a=t(e,"shortDate");i=nt(R(e,C.Short),[o,a]);break;case"medium":var s=t(e,"mediumTime"),u=t(e,"mediumDate");i=nt(R(e,C.Medium),[s,u]);break;case"long":var l=t(e,"longTime"),c=t(e,"longDate");i=nt(R(e,C.Long),[l,c]);break;case"full":var h=t(e,"fullTime"),f=t(e,"fullDate");i=nt(R(e,C.Full),[h,f])}return i&&(J[r][n]=i),i}(n,e)||e;for(var a,s=[];e;){if(!(a=Z.exec(e))){s.push(e);break}var u=(s=s.concat(a.slice(1))).pop();if(!u)break;e=u}var l=o.getTimezoneOffset();r&&(l=ht(r,l),o=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(ht(e,r)-r))}(o,r));var c="";return s.forEach(function(t){var e=function(t){if(ct[t])return ct[t];var e;switch(t){case"G":case"GG":case"GGG":e=ot(tt.Eras,w.Abbreviated);break;case"GGGG":e=ot(tt.Eras,w.Wide);break;case"GGGGG":e=ot(tt.Eras,w.Narrow);break;case"y":e=it($.FullYear,1,0,!1,!0);break;case"yy":e=it($.FullYear,2,0,!0,!0);break;case"yyy":e=it($.FullYear,3,0,!1,!0);break;case"yyyy":e=it($.FullYear,4,0,!1,!0);break;case"M":case"L":e=it($.Month,1,1);break;case"MM":case"LL":e=it($.Month,2,1);break;case"MMM":e=ot(tt.Months,w.Abbreviated);break;case"MMMM":e=ot(tt.Months,w.Wide);break;case"MMMMM":e=ot(tt.Months,w.Narrow);break;case"LLL":e=ot(tt.Months,w.Abbreviated,b.Standalone);break;case"LLLL":e=ot(tt.Months,w.Wide,b.Standalone);break;case"LLLLL":e=ot(tt.Months,w.Narrow,b.Standalone);break;case"w":e=lt(1);break;case"ww":e=lt(2);break;case"W":e=lt(1,!0);break;case"d":e=it($.Date,1);break;case"dd":e=it($.Date,2);break;case"E":case"EE":case"EEE":e=ot(tt.Days,w.Abbreviated);break;case"EEEE":e=ot(tt.Days,w.Wide);break;case"EEEEE":e=ot(tt.Days,w.Narrow);break;case"EEEEEE":e=ot(tt.Days,w.Short);break;case"a":case"aa":case"aaa":e=ot(tt.DayPeriods,w.Abbreviated);break;case"aaaa":e=ot(tt.DayPeriods,w.Wide);break;case"aaaaa":e=ot(tt.DayPeriods,w.Narrow);break;case"b":case"bb":case"bbb":e=ot(tt.DayPeriods,w.Abbreviated,b.Standalone,!0);break;case"bbbb":e=ot(tt.DayPeriods,w.Wide,b.Standalone,!0);break;case"bbbbb":e=ot(tt.DayPeriods,w.Narrow,b.Standalone,!0);break;case"B":case"BB":case"BBB":e=ot(tt.DayPeriods,w.Abbreviated,b.Format,!0);break;case"BBBB":e=ot(tt.DayPeriods,w.Wide,b.Format,!0);break;case"BBBBB":e=ot(tt.DayPeriods,w.Narrow,b.Format,!0);break;case"h":e=it($.Hours,1,-12);break;case"hh":e=it($.Hours,2,-12);break;case"H":e=it($.Hours,1);break;case"HH":e=it($.Hours,2);break;case"m":e=it($.Minutes,1);break;case"mm":e=it($.Minutes,2);break;case"s":e=it($.Seconds,1);break;case"ss":e=it($.Seconds,2);break;case"S":e=it($.FractionalSeconds,1);break;case"SS":e=it($.FractionalSeconds,2);break;case"SSS":e=it($.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=at(X.Short);break;case"ZZZZZ":e=at(X.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=at(X.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=at(X.Long);break;default:return null}return ct[t]=e,e}(t);c+=e?e(o,n,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function nt(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function rt(t,e,n,r,i){void 0===n&&(n="-");var o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=String(t);a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function it(t,e,n,r,i){return void 0===n&&(n=0),void 0===r&&(r=!1),void 0===i&&(i=!1),function(o,a){var s,u=function(t,e){switch(t){case $.FullYear:return e.getFullYear();case $.Month:return e.getMonth();case $.Date:return e.getDate();case $.Hours:return e.getHours();case $.Minutes:return e.getMinutes();case $.Seconds:return e.getSeconds();case $.FractionalSeconds:return e.getMilliseconds();case $.Day:return e.getDay();default:throw new Error('Unknown DateType value "'+t+'".')}}(t,o);if((n>0||u>-n)&&(u+=n),t===$.Hours)0===u&&-12===n&&(u=12);else if(t===$.FractionalSeconds)return s=e,rt(u,3).substr(0,s);var l=M(a,E.MinusSign);return rt(u,e,l,r,i)}}function ot(t,e,n,r){return void 0===n&&(n=b.Format),void 0===r&&(r=!1),function(i,o){return function(t,e,n,r,i,o){switch(n){case tt.Months:return O(e,i,r)[t.getMonth()];case tt.Days:return I(e,i,r)[t.getDay()];case tt.DayPeriods:var a=t.getHours(),s=t.getMinutes();if(o){var u,l=U(e),c=q(e,i,r);if(l.forEach(function(t,e){if(Array.isArray(t)){var n=t[0],r=t[1],i=r.hours;a>=n.hours&&s>=n.minutes&&(a<i||a===i&&s<r.minutes)&&(u=c[e])}else t.hours===a&&t.minutes===s&&(u=c[e])}),u)return u}return D(e,i,r)[a<12?0:1];case tt.Eras:return A(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,t,e,n,r)}}function at(t){return function(e,n,r){var i=-1*r,o=M(n,E.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case X.Short:return(i>=0?"+":"")+rt(a,2,o)+rt(Math.abs(i%60),2,o);case X.ShortGMT:return"GMT"+(i>=0?"+":"")+rt(a,1,o);case X.Long:return"GMT"+(i>=0?"+":"")+rt(a,2,o)+":"+rt(Math.abs(i%60),2,o);case X.Extended:return 0===r?"Z":(i>=0?"+":"")+rt(a,2,o)+":"+rt(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'+t+'"')}}}var st=0,ut=4;function lt(t,e){return void 0===e&&(e=!1),function(n,r){var i,o,a,s;if(e){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,l=n.getDate();i=1+Math.floor((l+u)/7)}else{var c=(a=n.getFullYear(),s=new Date(a,st,1).getDay(),new Date(a,0,1+(s<=ut?ut:ut+7)-s)),h=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(ut-o.getDay()))).getTime()-c.getTime();i=1+Math.round(h/6048e5)}return rt(i,t,M(r,E.MinusSign))}}var ct={};function ht(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function ft(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,u,l),e}function pt(t){return t instanceof Date&&!isNaN(t.valueOf())}var dt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,yt=22,mt=".",gt="0",vt=";",_t=",",bt="#",wt="\xa4",Ct="%";function Et(t,e,n,r,i,o,a){void 0===a&&(a=!1);var s="",u=!1;if(isFinite(t)){var l=function(e){var n,r,i,o,a,s=Math.abs(t)+"",u=0;for((r=s.indexOf(mt))>-1&&(s=s.replace(mt,"")),(i=s.search(/e/i))>0?(r<0&&(r=i),r+=+s.slice(i+1),s=s.substring(0,i)):r<0&&(r=s.length),i=0;s.charAt(i)===gt;i++);if(i===(a=s.length))n=[0],r=1;else{for(a--;s.charAt(a)===gt;)a--;for(r-=i,n=[],o=0;i<=a;i++,o++)n[o]=Number(s.charAt(i))}return r>yt&&(n=n.splice(0,yt-1),u=r-1,r=1),{digits:n,exponent:u,integerLen:r}}();a&&(l=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));var c=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){var p=o.match(dt);if(null===p)throw new Error(o+" is not a valid digit info");var d=p[1],y=p[3],m=p[5];null!=d&&(c=Ot(d)),null!=y&&(h=Ot(y)),null!=m?f=Ot(m):null!=y&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction ("+e+") is higher than the maximum ("+n+").");var r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),a=o+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var l=1;l<a;l++)r[l]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=0!==o,f=e+t.integerLen,p=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,h&&(0===r[n]&&n>=f?r.pop():h=!1),e>=10?1:0},0);p&&(r.unshift(p),t.integerLen++)}(l,h,f);var g=l.digits,v=l.integerLen,_=l.exponent,b=[];for(u=g.every(function(t){return!t});v<c;v++)g.unshift(0);for(;v<0;v++)g.unshift(0);v>0?b=g.splice(v,g.length):(b=g,g=[0]);var w=[];for(g.length>=e.lgSize&&w.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)w.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&w.unshift(g.join("")),s=w.join(M(n,r)),b.length&&(s+=M(n,i)+b.join("")),_&&(s+=M(n,E.Exponential)+"+"+_)}else s=M(n,E.Infinity);return t<0&&!u?e.negPre+s+e.negSuf:e.posPre+s+e.posSuf}function St(t,e,n,r,i){var o=It(F(e,v.Currency),M(e,E.MinusSign));return o.minFrac=G(r),o.maxFrac=o.minFrac,Et(t,o,e,E.CurrencyGroup,E.CurrencyDecimal,i).replace(wt,n).replace(wt,"")}function Tt(t,e,n){return Et(t,It(F(e,v.Percent),M(e,E.MinusSign)),e,E.Group,E.Decimal,n,!0).replace(new RegExp(Ct,"g"),M(e,E.PercentSign))}function Dt(t,e,n){return Et(t,It(F(e,v.Decimal),M(e,E.MinusSign)),e,E.Group,E.Decimal,n)}function It(t,e){void 0===e&&(e="-");var n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(vt),i=r[0],o=r[1],a=-1!==i.indexOf(mt)?i.split(mt):[i.substring(0,i.lastIndexOf(gt)+1),i.substring(i.lastIndexOf(gt)+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf(bt));for(var l=0;l<u.length;l++){var c=u.charAt(l);c===gt?n.minFrac=n.maxFrac=l+1:c===bt?n.maxFrac=l+1:n.posSuf+=c}var h=s.split(_t);if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var f=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(bt);n.negPre=o.substr(0,p).replace(/'/g,""),n.negSuf=o.substr(p+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function Ot(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var At=new r.InjectionToken("UseV4Plurals"),xt=function(){return function(){}}();function kt(t,e,n,r){var i="="+t;if(e.indexOf(i)>-1)return i;if(i=n.getPluralCategory(t,r),e.indexOf(i)>-1)return i;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}var Nt=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(i.__extends)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):V(e||this.locale)(t)){case _.Zero:return"zero";case _.One:return"one";case _.Two:return"two";case _.Few:return"few";case _.Many:return"many";default:return"other"}},e}(xt);function Pt(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,a=parseInt(r,10),s=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?_.One:_.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?_.One:_.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?_.One:_.Other;case"ar":return 0===n?_.Zero:1===n?_.One:2===n?_.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?_.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?_.Many:_.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?_.One:_.Other;case"be":return n%10==1&&n%100!=11?_.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?_.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?_.Many:_.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?_.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?_.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?_.Few:0!==n&&n%1e6==0?_.Many:_.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||a%10==1&&a%100!=11?_.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||a%10===Math.floor(a%10)&&a%10>=2&&a%10<=4&&!(a%100>=12&&a%100<=14)?_.Few:_.Other;case"cs":case"sk":return 1===i&&0===o?_.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?_.Few:0!==o?_.Many:_.Other;case"cy":return 0===n?_.Zero:1===n?_.One:2===n?_.Two:3===n?_.Few:6===n?_.Many:_.Other;case"da":return 1===n||0!==s&&(0===i||1===i)?_.One:_.Other;case"dsb":case"hsb":return 0===o&&i%100==1||a%100==1?_.One:0===o&&i%100==2||a%100==2?_.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||a%100===Math.floor(a%100)&&a%100>=3&&a%100<=4?_.Few:_.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?_.One:_.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&a%10!=4&&a%10!=6&&a%10!=9?_.One:_.Other;case"ga":return 1===n?_.One:2===n?_.Two:n===Math.floor(n)&&n>=3&&n<=6?_.Few:n===Math.floor(n)&&n>=7&&n<=10?_.Many:_.Other;case"gd":return 1===n||11===n?_.One:2===n||12===n?_.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?_.Few:_.Other;case"gv":return 0===o&&i%10==1?_.One:0===o&&i%10==2?_.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?_.Many:_.Other:_.Few;case"he":return 1===i&&0===o?_.One:2===i&&0===o?_.Two:0!==o||n>=0&&n<=10||n%10!=0?_.Other:_.Many;case"is":return 0===s&&i%10==1&&i%100!=11||0!==s?_.One:_.Other;case"ksh":return 0===n?_.Zero:1===n?_.One:_.Other;case"kw":case"naq":case"se":case"smn":return 1===n?_.One:2===n?_.Two:_.Other;case"lag":return 0===n?_.Zero:0!==i&&1!==i||0===n?_.Other:_.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?_.Few:0!==a?_.Many:_.Other:_.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&a%100===Math.floor(a%100)&&a%100>=11&&a%100<=19?_.Zero:n%10==1&&n%100!=11||2===o&&a%10==1&&a%100!=11||2!==o&&a%10==1?_.One:_.Other;case"mk":return 0===o&&i%10==1||a%10==1?_.One:_.Other;case"mt":return 1===n?_.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?_.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?_.Many:_.Other;case"pl":return 1===i&&0===o?_.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?_.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?_.Many:_.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?_.One:_.Other;case"ro":return 1===i&&0===o?_.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?_.Few:_.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?_.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?_.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?_.Many:_.Other;case"shi":return 0===i||1===n?_.One:n===Math.floor(n)&&n>=2&&n<=10?_.Few:_.Other;case"si":return 0===n||1===n||0===i&&1===a?_.One:_.Other;case"sl":return 0===o&&i%100==1?_.One:0===o&&i%100==2?_.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?_.Few:_.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?_.One:_.Other;default:return _.Other}}function Rt(t,e){var n,r;e=encodeURIComponent(e);try{for(var o=Object(i.__values)(t.split(";")),a=o.next();!a.done;a=o.next()){var s=a.value,u=s.indexOf("="),l=Object(i.__read)(-1==u?[s,""]:[s.slice(0,u),s.slice(u+1)],2),c=l[1];if(l[0].trim()===e)return decodeURIComponent(c)}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}var Mt=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r["\u0275stringify"])(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))},t.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},t}(),Ft=function(){function t(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return t.prototype.ngOnChanges=function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=e.get(r.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var i=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(r.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(i,this._viewContainerRef.length,e,this.ngComponentOutletContent)}},t.prototype.ngOnDestroy=function(){this._moduleRef&&this._moduleRef.destroy()},t}(),Lt=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),jt=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(r.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Lt(null,e._ngForOf,-1,-1),i),a=new Vt(t,o);n.push(a)}else null==i?e._viewContainer.remove(r):(o=e._viewContainer.get(r),e._viewContainer.move(o,i),a=new Vt(t,o),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.ngTemplateContextGuard=function(t,e){return!0},t}(),Vt=function(){return function(t,e){this.record=t,this.view=e}}(),Bt=function(){function t(t,e){this._viewContainer=t,this._context=new Ut,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){qt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){qt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t.ngTemplateGuard_ngIf=function(t,e){return!0},t}(),Ut=function(){return function(){this.$implicit=null,this.ngIf=null}}();function qt(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Object(r["\u0275stringify"])(e)+"'.")}var zt=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),Qt=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}},t}(),Ht=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new zt(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t}(),Wt=function(){return function(t,e,n){n._addDefault(new zt(t,e))}}(),Kt=function(){function t(t){this._localization=t,this._caseViews={}}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var t=Object.keys(this._caseViews),e=kt(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},t}(),Gt=function(){return function(t,e,n,r){this.value=t;var i=!isNaN(Number(t));r.addCase(i?"="+t:t,new zt(n,e))}}(),Yt=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=Object(i.__read)(t.split("."),2),r=n[0],o=n[1];null!=(e=null!=e&&o?""+e+o:e)?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)},t}(),Jt=function(){function t(t){this._viewContainerRef=t}return t.prototype.ngOnChanges=function(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},t.prototype._shouldRecreateView=function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)},t.prototype._hasContextShapeChanged=function(t){var e,n,r=Object.keys(t.previousValue||{}),o=Object.keys(t.currentValue||{});if(r.length===o.length){try{for(var a=Object(i.__values)(o),s=a.next();!s.done;s=a.next())if(-1===r.indexOf(s.value))return!0}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return!1}return!0},t.prototype._updateExistingContext=function(t){var e,n;try{for(var r=Object(i.__values)(Object.keys(t)),o=r.next();!o.done;o=r.next()){var a=o.value;this._viewRef.context[a]=this.ngTemplateOutletContext[a]}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t}(),Zt=[Mt,Ft,jt,Bt,Jt,Yt,Qt,Ht,Wt,Kt,Gt];function Xt(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(r["\u0275stringify"])(t)+"'")}var $t=function(){function t(){}return t.format=function(t,e,n,r){void 0===r&&(r={});var i=r.currency,o=r.currencyAsSymbol,a=void 0!==o&&o,s={minimumIntegerDigits:r.minimumIntegerDigits,minimumFractionDigits:r.minimumFractionDigits,maximumFractionDigits:r.maximumFractionDigits,style:v[n].toLowerCase()};return n==v.Currency&&(s.currency="string"==typeof i?i:void 0,s.currencyDisplay=a?"symbol":"code"),new Intl.NumberFormat(e,s).format(t)},t}(),te=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,ee={yMMMdjms:fe(he([le("year",1),ce("month",3),le("day",1),le("hour",1),le("minute",1),le("second",1)])),yMdjm:fe(he([le("year",1),le("month",1),le("day",1),le("hour",1),le("minute",1)])),yMMMMEEEEd:fe(he([le("year",1),ce("month",4),ce("weekday",4),le("day",1)])),yMMMMd:fe(he([le("year",1),ce("month",4),le("day",1)])),yMMMd:fe(he([le("year",1),ce("month",3),le("day",1)])),yMd:fe(he([le("year",1),le("month",1),le("day",1)])),jms:fe(he([le("hour",1),le("second",1),le("minute",1)])),jm:fe(he([le("hour",1),le("minute",1)]))},ne={yyyy:fe(le("year",4)),yy:fe(le("year",2)),y:fe(le("year",1)),MMMM:fe(ce("month",4)),MMM:fe(ce("month",3)),MM:fe(le("month",2)),M:fe(le("month",1)),LLLL:fe(ce("month",4)),L:fe(ce("month",1)),dd:fe(le("day",2)),d:fe(le("day",1)),HH:re(oe(fe(ue(le("hour",2),!1)))),H:oe(fe(ue(le("hour",1),!1))),hh:re(oe(fe(ue(le("hour",2),!0)))),h:oe(fe(ue(le("hour",1),!0))),jj:fe(le("hour",2)),j:fe(le("hour",1)),mm:re(fe(le("minute",2))),m:fe(le("minute",1)),ss:re(fe(le("second",2))),s:fe(le("second",1)),sss:fe(le("second",3)),EEEE:fe(ce("weekday",4)),EEE:fe(ce("weekday",3)),EE:fe(ce("weekday",2)),E:fe(ce("weekday",1)),a:ie(fe(ue(le("hour",1),!0))),Z:se("short"),z:se("long"),ww:fe({}),w:fe({}),G:fe(ce("era",1)),GG:fe(ce("era",2)),GGG:fe(ce("era",3)),GGGG:fe(ce("era",4))};function re(t){return function(e,n){var r=t(e,n);return 1==r.length?"0"+r:r}}function ie(t){return function(e,n){return t(e,n).split(" ")[1]}}function oe(t){return function(e,n){return t(e,n).split(" ")[0]}}function ae(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function se(t){var e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var r=ae(t,n,e);return r?r.substring(3):""}}function ue(t,e){return t.hour12=e,t}function le(t,e){var n={};return n[t]=2===e?"2-digit":"numeric",n}function ce(t,e){var n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function he(t){return t.reduce(function(t,e){return Object(i.__assign)({},t,e)},{})}function fe(t){return function(e,n){return ae(e,n,t)}}var pe=new Map,de=function(){function t(){}return t.format=function(t,e,n){return function(t,e,n){var r=ee[t];if(r)return r(e,n);var i=t,o=pe.get(i);if(!o){o=[];var a=void 0;te.exec(t);for(var s=t;s;)(a=te.exec(s))?s=(o=o.concat(a.slice(1))).pop():(o.push(s),s=null);pe.set(i,o)}return o.reduce(function(t,r){var i=ne[r];return t+(i?i(e,n):function(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(r))},"")}(n,t,e)},t}(),ye=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n){if(void 0===n&&(n="mediumDate"),null==t||""===t||t!=t)return null;var r;if("string"==typeof t&&(t=t.trim()),me(t))r=t;else if(isNaN(t-parseFloat(t)))if("string"==typeof t&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var o=Object(i.__read)(t.split("-").map(function(t){return parseInt(t,10)}),3);r=new Date(o[0],o[1]-1,o[2])}else r=new Date(t);else r=new Date(parseFloat(t));if(!me(r)){var a=void 0;if("string"!=typeof t||!(a=t.match(Y)))throw Xt(e,t);r=ft(a)}return de.format(r,this._locale,e._ALIASES[n]||n)},t._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},t}();function me(t){return t instanceof Date&&!isNaN(t.valueOf())}function ge(t,e,n,r,i,o,a){if(void 0===o&&(o=null),void 0===a&&(a=!1),null==n)return null;if("number"!=typeof(n="string"!=typeof n||isNaN(+n-parseFloat(n))?n:+n))throw Xt(t,n);var s,u,l;if(r!==v.Currency&&(s=1,u=0,l=3),i){var c=i.match(dt);if(null===c)throw new Error(i+" is not a valid digit info for number pipes");null!=c[1]&&(s=Ot(c[1])),null!=c[3]&&(u=Ot(c[3])),null!=c[5]&&(l=Ot(c[5]))}return $t.format(n,e,r,{minimumIntegerDigits:s,minimumFractionDigits:u,maximumFractionDigits:l,currency:o,currencyAsSymbol:a})}var ve=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n){return ge(e,this._locale,t,v.Decimal,n)},t}(),_e=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n){return ge(e,this._locale,t,v.Percent,n)},t}(),be=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n,r,i){return void 0===n&&(n="USD"),void 0===r&&(r=!1),ge(e,this._locale,t,v.Currency,i,n,r)},t}(),we=[ve,_e,be,ye],Ce=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),Ee=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),Se=new Ce,Te=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}var e;return e=t,t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.WrappedValue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(t){if(Object(r["\u0275isPromise"])(t))return Ee;if(Object(r["\u0275isObservable"])(t))return Se;throw Xt(e,t)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}(),De=function(){function t(){}var e;return e=t,t.prototype.transform=function(t){if(!t)return t;if("string"!=typeof t)throw Xt(e,t);return t.toLowerCase()},t}(),Ie=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,Oe=function(){function t(){}var e;return e=t,t.prototype.transform=function(t){if(!t)return t;if("string"!=typeof t)throw Xt(e,t);return t.replace(Ie,function(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()})},t}(),Ae=function(){function t(){}var e;return e=t,t.prototype.transform=function(t){if(!t)return t;if("string"!=typeof t)throw Xt(e,t);return t.toUpperCase()},t}(),xe=function(){function t(t){this.locale=t}var e;return e=t,t.prototype.transform=function(t,n,r,i){if(void 0===n&&(n="mediumDate"),null==t||""===t||t!=t)return null;try{return et(t,n,i||this.locale,r)}catch(o){throw Xt(e,o.message)}},t}(),ke=/#/g,Ne=function(){function t(t){this._localization=t}var e;return e=t,t.prototype.transform=function(t,n,r){if(null==t)return"";if("object"!=typeof n||null===n)throw Xt(e,n);return n[kt(t,Object.keys(n),this._localization,r)].replace(ke,t.toString())},t}(),Pe=function(){function t(){}var e;return e=t,t.prototype.transform=function(t,n){if(null==t)return"";if("object"!=typeof n||"string"!=typeof t)throw Xt(e,n);return n.hasOwnProperty(t)?n[t]:n.hasOwnProperty("other")?n.other:""},t}(),Re=function(){function t(){}return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t}(),Me=function(){function t(t){this.differs=t,this.keyValues=[]}return t.prototype.transform=function(t,e){var n=this;if(void 0===e&&(e=Fe),!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());var r=this.differ.diff(t);return r&&(this.keyValues=[],r.forEachItem(function(t){n.keyValues.push({key:t.key,value:t.currentValue})}),this.keyValues.sort(e)),this.keyValues},t}();function Fe(t,e){var n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;var i=String(n),o=String(r);return i==o?0:i<o?-1:1}var Le=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n,r){if(Be(t))return null;r=r||this._locale;try{return Dt(Ue(t),r,n)}catch(i){throw Xt(e,i.message)}},t}(),je=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n,r){if(Be(t))return null;r=r||this._locale;try{return Tt(Ue(t),r,n)}catch(i){throw Xt(e,i.message)}},t}(),Ve=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n,r,i,o){if(void 0===r&&(r="symbol"),Be(t))return null;o=o||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");var a=n||"USD";"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?W(a,"symbol"===r?"wide":"narrow",o):r);try{return St(Ue(t),o,a,n,i)}catch(s){throw Xt(e,s.message)}},t}();function Be(t){return null==t||""===t||t!=t}function Ue(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}var qe=function(){function t(){}var e;return e=t,t.prototype.transform=function(t,n,r){if(null==t)return t;if(!this.supports(t))throw Xt(e,t);return t.slice(n,r)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t}(),ze=[Te,Ae,De,Re,qe,Le,je,Oe,Ve,xe,Ne,Pe,Me],Qe=function(){return function(){}}(),He=function(){return function(){}}(),We=new r.InjectionToken("DocumentToken"),Ke="browser",Ge="server",Ye="browserWorkerApp",Je="browserWorkerUi";function Ze(t){return t===Ke}function Xe(t){return t===Ge}function $e(t){return t===Ye}function tn(t){return t===Je}var en=new r.Version("7.2.11"),nn=function(){function t(){}return t.ngInjectableDef=Object(r.defineInjectable)({providedIn:"root",factory:function(){return new rn(Object(r.inject)(We),window)}}),t}(),rn=function(){function t(t,e){this.document=t,this.window=e,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}(),on=function(){function t(){}return t.prototype.setOffset=function(t){},t.prototype.getScrollPosition=function(){return[0,0]},t.prototype.scrollToPosition=function(t){},t.prototype.scrollToAnchor=function(t){},t.prototype.setHistoryScrollRestoration=function(t){},t}()},IutQ:function(t,e,n){var r=n("t5mC"),i=n("9Nts");t.exports=function(t){return r(i(t))}},J2XY:function(t,e,n){var r=n("mrSG").__decorate;Object.defineProperty(e,"__esModule",{value:!0});var i=n("CcnG"),o=n("Ip0R"),a=n("4BMZ");e.NgxGistModule=function(){return r([i.NgModule({imports:[o.CommonModule],declarations:[a.NgxGist],exports:[a.NgxGist]})],function(){})}()},JIMt:function(t,e,n){var r=n("kpns"),i=n("ysHE").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},JKJi:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},JcRv:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("xTla"),i=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},JpPu:function(t,e,n){var r=n("nJQW");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},JzIs:function(t,e,n){var r=n("lb/b"),i=n("TIpl"),o=n("bcPd"),a=n("Q2Kg");t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),s=r.length,u=0;s>u;)i.f(t,n=r[u++],e[n]);return t}},K8G7:function(t,e,n){"use strict";var r=n("IutQ"),i=n("gJLK"),o=n("0i0S"),a=n("LX9C"),s=n("stQs"),u=a.set,l=a.getterFor("Array Iterator");t.exports=s(Array,"Array",function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},K9Ia:function(t,e,n){"use strict";var r=n("mrSG"),i=n("6blF"),o=n("FFOo"),a=n("pugT"),s=n("8g8A"),u=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.__extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(a.a),l=n("L/V9");n.d(e,"b",function(){return c}),n.d(e,"a",function(){return h});var c=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.__extends(e,t),e}(o.a),h=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.__extends(e,t),e.prototype[l.a]=function(){return new c(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new u(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(i.a),f=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.__extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(h)},KaSA:function(t,e,n){t.exports=n("uzDk")},Ksdp:function(t,e,n){var r=n("GrVo");n("pSMy")({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},"L/V9":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},LX9C:function(t,e,n){var r,i,o,a=n("BloW"),s=n("kpns"),u=n("wBs/"),l=n("57wU"),c=n("qBi7"),h=n("vcTx"),f=n("ysHE").WeakMap;if(a){var p=new f,d=p.get,y=p.has,m=p.set;r=function(t,e){return m.call(p,t,e),e},i=function(t){return d.call(p,t)||{}},o=function(t){return y.call(p,t)}}else{var g=c("state");h[g]=!0,r=function(t,e){return u(t,g,e),e},i=function(t){return l(t,g)?t[g]:{}},o=function(t){return l(t,g)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!s(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},MGBS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("FFOo").a)},McSo:function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}n.d(e,"a",function(){return r})},MfhB:function(t,e,n){var r=n("ysHE"),i=n("nX7E"),o=r["__core-js_shared__"]||i("__core-js_shared__",{});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.0.0",mode:n("U5J1")?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},MuAL:function(t,e,n){n("q94Q")("toPrimitive")},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o,a,s,u,l,c,h,f,p,d,y=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,m=n("mrSG"),g=n("zVF4"),v=n("q/0M"),_=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),g.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:g.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),b=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return g.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),w=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _(e)}}catch(n){}return new b},C=w("localStorage"),E=w("sessionStorage"),S=new v.Logger("@firebase/database"),T=(i=1,function(){return i++}),D=function(t){var e=g.stringToByteArray(t),n=new g.Sha1;n.update(e);var r=n.digest();return g.base64.encodeByteArray(r)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++)Array.isArray(t[r])||t[r]&&"object"==typeof t[r]&&"number"==typeof t[r].length?n+=I.apply(null,t[r]):n+="object"==typeof t[r]?g.stringify(t[r]):t[r],n+=" ";return n},O=null,A=!0,x=function(t,e){g.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(S.logLevel=v.LogLevel.VERBOSE,O=S.log.bind(S),e&&E.set("logging_enabled",!0)):"function"==typeof t?O=t:(O=null,E.remove("logging_enabled"))},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===A&&(A=!1,null===O&&!0===E.get("logging_enabled")&&x(!0)),O){var n=I.apply(null,t);O(n)}},N=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];k.apply(void 0,[t].concat(e))}},P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+I.apply(void 0,t);S.error(n)},R=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+I.apply(void 0,t);throw S.error(n),new Error(n)},M=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+I.apply(void 0,t);S.warn(n)},F=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},L="[MIN_NAME]",j="[MAX_NAME]",V=function(t,e){if(t===e)return 0;if(t===L||e===j)return-1;if(e===L||t===j)return 1;var n=K(t),r=K(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},B=function(t,e){return t===e?0:t<e?-1:1},U=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+g.stringify(e))},q=function(t){if("object"!=typeof t||null===t)return g.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=g.stringify(e[i]),r+=":",r+=q(t[e[i]]);return r+"}"},z=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r},Q=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else g.forEach(t,function(t,n){return e(n,t)})},H=function(t){var e,n,r,i,o,a,s;for(g.assert(!F(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),a=[],o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse(),s=a.join("");var u="";for(o=0;o<64;o+=8){var l=parseInt(s.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()},W=new RegExp("^-?\\d{1,10}$"),K=function(t){if(W.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},G=function(t){try{t()}catch(e){setTimeout(function(){throw M("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Y=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},J=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},Z=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=V(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),X=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=g.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=g.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=g.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),$="long_polling",tt=function(){function t(t,e,n,r,i){void 0===i&&(i=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=C.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&C.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(g.assert("string"==typeof t,"typeof type must == string"),g.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==$)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return g.forEach(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),et=function(t){var e=nt(t),n=e.subdomain;return"firebase"===e.domain&&R(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||R("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&M("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tt(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme),path:new Z(e.pathString)}},nt=function(t){var e="",n="",r="",i="",o=!0,a="https",s=443;if("string"==typeof t){var u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));var l=t.indexOf("/");-1===l&&(l=t.length);var c=t.indexOf("?");-1===c&&(c=t.length),e=t.substring(0,Math.min(l,c)),l<c&&(i=function(e){for(var n="",r=t.substring(l,c).split("/"),i=0;i<r.length;i++)if(r[i].length>0){var o=r[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(a){}n+="/"+o}return n}());var h=function(t){var e={};"?"===t.charAt(0)&&(t=t.substring(1));for(var n=0,r=t.split("&");n<r.length;n++){var i=r[n];if(0!==i.length){var o=i.split("=");2===o.length?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):M("Invalid query segment '"+i+"' in query '"+t+"'")}}return e}(t.substring(Math.min(t.length,c)));(u=e.indexOf(":"))>=0?(o="https"===a||"wss"===a,s=parseInt(e.substring(u+1),10)):u=t.length;var f=e.split(".");3===f.length?(n=f[1],r=f[0].toLowerCase()):2===f.length?n=f[0]:"localhost"===f[0].slice(0,u).toLowerCase()&&(n="localhost"),""===r&&"ns"in h&&(r=h.ns)}return{host:e,port:s,domain:n,subdomain:r,secure:o,scheme:a,pathString:i}},rt=/[\[\].#$\/\u0000-\u001F\u007F]/,it=/[\[\].#$\u0000-\u001F\u007F]/,ot=function(t){return"string"==typeof t&&0!==t.length&&!rt.test(t)},at=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},st=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!F(t)||t&&"object"==typeof t&&g.contains(t,".sv")},ut=function(t,e,n,r,i){i&&void 0===n||lt(g.errorPrefix(t,e,i),n,r)},lt=function(t,e,n){var r=n instanceof Z?new X(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(F(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&g.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(g.forEach(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!ot(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),lt(t,n,r),r.pop()}),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ct=function(t,e,n,r,i){if(!i||void 0!==n){var o=g.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];g.forEach(n,function(t,e){var n=new Z(t);if(lt(o,e,r.child(n)),".priority"===n.getBack()&&!st(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ot(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Z.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},ht=function(t,e,n,r){if(!r||void 0!==n){if(F(n))throw new Error(g.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!st(n))throw new Error(g.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ft=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(g.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},pt=function(t,e,n,r){if(!(r&&void 0===n||ot(n)))throw new Error(g.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},dt=function(t,e,n,r){if(!(r&&void 0===n||at(n)))throw new Error(g.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},yt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},mt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ot(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),at(t)}(r))throw new Error(g.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},gt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){g.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),g.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new g.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){g.validateArgCount("OnDisconnect.remove",0,1,arguments.length),yt("OnDisconnect.remove",this.path_),g.validateCallback("OnDisconnect.remove",1,t,!0);var e=new g.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){g.validateArgCount("OnDisconnect.set",1,2,arguments.length),yt("OnDisconnect.set",this.path_),ut("OnDisconnect.set",1,t,this.path_,!1),g.validateCallback("OnDisconnect.set",2,e,!0);var n=new g.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){g.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),yt("OnDisconnect.setWithPriority",this.path_),ut("OnDisconnect.setWithPriority",1,t,this.path_,!1),ht("OnDisconnect.setWithPriority",2,e,!1),g.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new g.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(g.validateArgCount("OnDisconnect.update",1,2,arguments.length),yt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,M("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ct("OnDisconnect.update",1,t,this.path_,!1),g.validateCallback("OnDisconnect.update",2,e,!0);var i=new g.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),vt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return g.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),_t=(o="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",a=0,s=[],function(t){var e,n=t===a;a=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=o.charAt(t%64),t=Math.floor(t/64);g.assert(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===s[e];e--)s[e]=0;s[e]++}else for(e=0;e<12;e++)s[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=o.charAt(s[e]);return g.assert(20===i.length,"nextPushId: Length should be 20."),i}),bt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),wt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new bt(L,t),r=new bt(L,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return bt.MIN},t}(),Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return u},set:function(t){u=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return V(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw g.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return new bt(j,u)},e.prototype.makePost=function(t,e){return g.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new bt(t,u)},e.prototype.toString=function(){return".key"},e}(wt),Et=new Ct,St=function(t){return"number"==typeof t?"number:"+H(t):"string:"+t},Tt=function(t){if(t.isLeafNode()){var e=t.val();g.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&g.contains(e,".sv"),"Priority must be a string or number.")}else g.assert(t===l||t.isEmpty(),"priority of unexpected type.");g.assert(t===l||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Dt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,g.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Tt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return c},set:function(t){c=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(g.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+St(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?H(this.value_):this.value_,this.lazyHash_=D(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(g.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return g.assert(i>=0,"Unknown leaf type: "+n),g.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),It=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?V(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return new bt(j,new Dt("[PRIORITY-POST]",f))},e.prototype.makePost=function(t,e){var n=h(t);return new bt(e,new Dt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(wt)),Ot=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),At=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:kt.EMPTY_NODE,this.right=null!=o?o:kt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,i;return(i=(r=n(t,(i=this).key))<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return kt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return kt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),xt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new At(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),kt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,At.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,At.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Ot(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Ot(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Ot(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Ot(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new xt,t}(),Nt=Math.log(2),Pt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Nt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Rt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0==s)return null;if(1==s)return o=t[e],a=n?n(o):o,new At(a,o.node,At.BLACK,null,null);var u=parseInt(s/2,10)+e,l=i(e,u),c=i(u+1,r);return o=t[u],a=n?n(o):o,new At(a,o.node,At.BLACK,l,c)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var l=i(o+1,s),c=t[o],h=n?n(c):c;u(new At(h,c.node,r,null,l))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},l=0;l<e.count;++l){var c=e.nextBitIsOne(),h=Math.pow(2,e.count-(l+1));c?s(h,At.BLACK):(s(h,At.BLACK),s(h,At.RED))}return o}(new Pt(t.length));return new kt(r||e,o)},Mt={},Ft=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return g.assert(Mt&&It,"ChildrenNode.ts has not been loaded"),p=p||new t({".priority":Mt},{".priority":It})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=g.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===Mt?null:e},t.prototype.hasIndex=function(t){return g.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){g.assert(e!==Et,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(bt.Wrap),s=a.getNext();s;)o=o||e.isDefinedOn(s.node),i.push(s),s=a.getNext();r=o?Rt(i,e.getCompare()):Mt;var u=e.toString(),l=g.clone(this.indexSet_);l[u]=e;var c=g.clone(this.indexes_);return c[u]=r,new t(c,l)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(g.map(this.indexes_,function(t,i){var o=g.safeGet(r.indexSet_,i);if(g.assert(o,"Missing index implementation for "+i),t===Mt){if(o.isDefinedOn(e.node)){for(var a=[],s=n.getIterator(bt.Wrap),u=s.getNext();u;)u.name!=e.name&&a.push(u),u=s.getNext();return a.push(e),Rt(a,o.getCompare())}return Mt}var l=n.get(e.name),c=t;return l&&(c=c.remove(new bt(e.name,l))),c.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(g.map(this.indexes_,function(t){if(t===Mt)return t;var r=n.get(e.name);return r?t.remove(new bt(e.name,r)):t}),this.indexSet_)},t}();function Lt(t,e){return V(t.name,e.name)}function jt(t,e){return V(t,e)}var Vt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Tt(this.priorityNode_),this.children_.isEmpty()&&g.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return d||(d=new t(new kt(jt),null,Ft.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||d},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?d:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(g.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r,i=new bt(e,n),o=void 0,a=void 0;return n.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_)),r=o.isEmpty()?d:this.priorityNode_,new t(o,r,a)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;g.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(It,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+St(this.getPriority().val())+":"),this.forEachChild(It,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":D(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new bt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new bt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new bt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,bt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,bt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Bt?-1:0},t.prototype.withIndex=function(e){if(e===Et||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Et||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(It),r=e.getIterator(It),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Et?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Bt=new(function(t){function e(){return t.call(this,new kt(jt),Vt.EMPTY_NODE,Ft.Default)||this}return m.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Vt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Vt));Object.defineProperties(bt,{MIN:{value:new bt(L,Vt.EMPTY_NODE)},MAX:{value:new bt(j,Bt)}}),Ct.__EMPTY_NODE=Vt.EMPTY_NODE,Dt.__childrenNodeConstructor=Vt,l=Bt,f=Bt;var Ut=!0;function qt(t,e){if(void 0===e&&(e=null),null===t)return Vt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),g.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Dt(t,qt(e));if(t instanceof Array||!Ut){var n=Vt.EMPTY_NODE,r=t;return g.forEach(r,function(t,e){if(g.contains(r,t)&&"."!==t.substring(0,1)){var i=qt(e);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}}),n.updatePriority(qt(e))}var i=[],o=!1,a=t;if(g.forEach(a,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=qt(a[t]);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),i.push(new bt(t,n)))}}),0==i.length)return Vt.EMPTY_NODE;var s=Rt(i,Lt,function(t){return t.name},jt);if(o){var u=Rt(i,It.getCompare());return new Vt(s,qt(e),new Ft({".priority":u},{".priority":It}))}return new Vt(s,qt(e),Ft.Default)}h=qt;var zt,Qt,Ht,Wt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?V(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return bt.MAX},e.prototype.makePost=function(t,e){var n=qt(t);return new bt(e,n)},e.prototype.toString=function(){return".value"},e}(wt)),Kt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,g.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return m.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?V(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=qt(t),r=Vt.EMPTY_NODE.updateChild(this.indexPath_,n);return new bt(e,r)},e.prototype.maxPost=function(){var t=Vt.EMPTY_NODE.updateChild(this.indexPath_,Bt);return new bt(j,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(wt),Gt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return g.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return g.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return g.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return g.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){g.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),dt("DataSnapshot.child",1,e,!1);var n=new Z(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,It)},t.prototype.hasChild=function(t){g.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),dt("DataSnapshot.hasChild",1,t,!1);var e=new Z(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return g.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return g.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),g.validateCallback("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),It))})},t.prototype.hasChildren=function(){return g.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return g.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return g.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Yt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+g.stringify(this.snapshot.exportVal())},t}(),Jt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Zt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Yt("value",this,new Gt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){g.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Jt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Xt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return g.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Jt(this,t,e):null},t.prototype.createEvent=function(t,e){g.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Yt(t.type,this,new Gt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){g.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=g.getCount(e.callbacks_);if(n===g.getCount(this.callbacks_)){if(1===n){var r=g.getAnyKey(e.callbacks_),i=g.getAnyKey(this.callbacks_);return!(i!==r||e.callbacks_[r]&&this.callbacks_[i]&&e.callbacks_[r]!==this.callbacks_[i])}return g.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),$t=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return g.assert(zt,"Reference.ts has not been loaded"),zt},set:function(t){zt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Et){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=L)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!=j)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===It){if(null!=e&&!st(e)||null!=n&&!st(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(g.assert(t.getIndex()instanceof Kt||t.getIndex()===Wt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return g.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){g.validateArgCount("Query.on",2,4,arguments.length),ft("Query.on",1,e,!1),g.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Zt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Xt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){g.validateArgCount("Query.off",0,3,arguments.length),ft("Query.off",1,t,!0),g.validateCallback("Query.off",2,e,!0),g.validateContextObject("Query.off",3,n,!0);var r=null,i=null;"value"===t?r=new Zt(e||null,null,n||null):t&&(e&&((i={})[t]=e),r=new Xt(i,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;g.validateArgCount("Query.once",1,4,arguments.length),ft("Query.once",1,e,!1),g.validateCallback("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),s=!0,u=new g.Deferred;u.promise.catch(function(){});var l=function(t){s&&(s=!1,o.off(e,l),n&&n.bind(a.context)(t),u.resolve(t))};return this.on(e,l,function(t){o.off(e,l),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)}),u.promise},t.prototype.limitToFirst=function(e){if(g.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(g.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(g.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');dt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new Z(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Kt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){g.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Et);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){g.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(It);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){g.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Wt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),g.validateArgCount("Query.startAt",0,2,arguments.length),ut("Query.startAt",1,e,this.path,!0),pt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),g.validateArgCount("Query.endAt",0,2,arguments.length),ut("Query.endAt",1,e,this.path,!0),pt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(g.validateArgCount("Query.equalTo",1,2,arguments.length),ut("Query.equalTo",1,t,this.path,!1),pt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return g.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return g.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=q(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(g.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var n=this.repo===e.repo,r=this.path.equals(e.path),i=this.queryIdentifier()===e.queryIdentifier();return n&&r&&i},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,g.validateCallback(t,3,r.cancel,!0),r.context=n,g.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(g.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),te=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return g.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return g.isEmpty(this.set)},t.prototype.count=function(){return g.getCount(this.set)},t.prototype.each=function(t){g.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return g.forEach(this.set,function(e){t.push(e)}),t},t}(),ee=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();return t=t.popFront(),this.children_.contains(e)?this.children_.get(e).find(t):null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new te);var r=e.getFront();this.children_.contains(r)||this.children_.add(r,new t);var i=this.children_.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(It,function(t,e){n.remember(new Z(t),e)}),this.forget(t)}if(null!==this.children_){var r=t.getFront();return t=t.popFront(),this.children_.contains(r)&&this.children_.get(r).forget(t)&&this.children_.remove(r),!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,r){var i=new Z(t.toString()+"/"+n);r.forEachTree(i,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}(),ne=function(t,e){return t&&"object"==typeof t?(g.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},re=function(t,e){var n,r=t.getPriority().val(),i=ne(r,e);if(t.isLeafNode()){var o=t,a=ne(o.getValue(),e);return a!==o.getValue()||i!==o.getPriority().val()?new Dt(a,qt(i)):t}var s=t;return n=s,i!==s.getPriority().val()&&(n=n.updatePriority(new Dt(i))),s.forEachChild(It,function(t,r){var i=re(r,e);i!==r&&(n=n.updateImmediateChild(t,i))}),n},ie=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),oe=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,g.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ae=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ie.ACK_USER_WRITE,this.source=oe.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return g.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Z(e));return new t(Z.Empty,n,this.revert)}return g.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),se=function(){return Qt||(Qt=new kt(B)),Qt},ue=function(){function t(t,e){void 0===e&&(e=se()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return g.forEach(e,function(t,e){n=n.set(new Z(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Z.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new Z(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(Z.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Z.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Z.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(Z.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),le=function(){function t(t,e){this.source=t,this.path=e,this.type=ie.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Z.Empty):new t(this.source,this.path.popFront())},t}(),ce=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ie.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Z.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),he=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ie.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new Z(e));return n.isEmpty()?null:n.value?new ce(this.source,Z.Empty,n.value):new t(this.source,Z.Empty,n)}return g.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),fe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),pe=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new fe(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new fe(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new fe(Vt.EMPTY_NODE,!1,!1),new fe(Vt.EMPTY_NODE,!1,!1)),t}(),de=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),ye=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){g.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()==n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(de.childRemovedChange(e,a)):g.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(de.childAddedChange(e,n)):o.trackChildChange(de.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(It,function(t,r){e.hasChild(t)||n.trackChildChange(de.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(It,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(de.childChangedChange(e,r,i))}else n.trackChildChange(de.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Vt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),me=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;g.assert(e==de.CHILD_ADDED||e==de.CHILD_CHANGED||e==de.CHILD_REMOVED,"Only child changes supported for tracking"),g.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=g.safeGet(this.changeMap_,n);if(r){var i=r.type;if(e==de.CHILD_ADDED&&i==de.CHILD_REMOVED)this.changeMap_[n]=de.childChangedChange(n,t.snapshotNode,r.snapshotNode);else if(e==de.CHILD_REMOVED&&i==de.CHILD_ADDED)delete this.changeMap_[n];else if(e==de.CHILD_REMOVED&&i==de.CHILD_CHANGED)this.changeMap_[n]=de.childRemovedChange(n,r.oldSnap);else if(e==de.CHILD_CHANGED&&i==de.CHILD_ADDED)this.changeMap_[n]=de.childAddedChange(n,t.snapshotNode);else{if(e!=de.CHILD_CHANGED||i!=de.CHILD_CHANGED)throw g.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap_[n]=de.childChangedChange(n,t.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return g.getValues(this.changeMap_)},t}(),ge=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),ve=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new fe(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),_e=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),be=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){g.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),g.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,a,s=new me;if(n.type===ie.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,r,i,s):(g.assert(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,r,i,a,s))}else if(n.type===ie.MERGE){var l=n;l.source.fromUser?o=this.applyUserMerge_(e,l.path,l.children,r,i,s):(g.assert(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,l.path,l.children,r,i,a,s))}else if(n.type===ie.ACK_USER_WRITE){var c=n;o=c.revert?this.revertUserWrite_(e,c.path,r,i,s):this.ackUserWrite_(e,c.path,c.affectedTree,r,i,s)}else{if(n.type!==ie.LISTEN_COMPLETE)throw g.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,s)}var h=s.getChanges();return t.maybeAddValueEvent_(e,o,h),new _e(o,h)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(de.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,s=void 0;if(e.isEmpty())if(g.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),l=n.calcCompleteEventChildren(u instanceof Vt?u:Vt.EMPTY_NODE);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var c=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),c,i)}else{var h=e.getFront();if(".priority"==h){g.assert(1==e.getLength(),"Can't have a priority with additional path components");var f=o.getNode();s=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,f,s);a=null!=p?this.filter_.updatePriority(f,p):o.getNode()}else{var d=e.popFront(),y=void 0;if(o.isCompleteForChild(h)){s=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),s);y=null!=m?o.getNode().getImmediateChild(h).updateChild(d,m):o.getNode().getImmediateChild(h)}else y=n.calcCompleteChild(h,t.getServerCache());a=null!=y?this.filter_.updateChild(o.getNode(),h,y,d,r,i):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=l.updateFullNode(u.getNode(),n,null);else if(l.filtersNodes()&&!u.isFiltered()){var c=u.getNode().updateChild(e,n);s=l.updateFullNode(u.getNode(),c,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),p=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"==h?l.updatePriority(u.getNode(),p):l.updateChild(u.getNode(),h,p,f,ge,null)}var d=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),l.filtersNodes()),y=new ve(r,d,i);return this.generateEventCacheAfterServerEvent_(d,e,r,y,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),l=new ve(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(c),p=void 0;if(h.isEmpty())p=n;else{var d=l.getCompleteChild(c);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):Vt.EMPTY_NODE}if(f.equals(p))a=t;else{var y=this.filter_.updateChild(u.getNode(),c,p,h,l,o);a=t.updateEventSnap(y,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach(function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())&&(u=s.applyUserOverwrite_(u,c,l,i,o,a))}),r.foreach(function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())||(u=s.applyUserOverwrite_(u,c,l,i,o,a))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,l=t;u=e.isEmpty()?n:ue.Empty.setTree(e,n);var c=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(c.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);l=s.applyServerOverwrite_(l,new Z(e),h,r,i,o,a)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);l=s.applyServerOverwrite_(l,new Z(e),f,r,i,o,a)}}),l},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=ue.Empty;return s.getNode().forEachChild(Et,function(t,e){u=u.set(new Z(t),e)}),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var l=ue.Empty;return n.foreach(function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(l=l.set(t,s.getNode().getChild(r)))}),this.applyServerMerge_(t,e,l,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,ge,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a=new ve(n,t,r),s=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var c=t.getServerCache().getNode();g.assert(c instanceof Vt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(c)}u=this.filter_.updateFullNode(s,l=l,i)}else{var h=e.getFront(),f=n.calcCompleteChild(h,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(h)&&(f=s.getImmediateChild(h)),(u=null!=f?this.filter_.updateChild(s,h,f,e.popFront(),a,i):t.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(s,h,Vt.EMPTY_NODE,e.popFront(),a,i):s).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Z.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),we=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach(function(t){t.type===de.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(de.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(i,de.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,de.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,de.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,de.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,de.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var n=o.materializeSingleChange_(e,i);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw g.assertionError("Should only compare child_ events.");var n=new bt(t.childName,t.snapshotNode),r=new bt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ce=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new ye(n.getIndex()),i=n.getNodeFilter();this.processor_=new be(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Vt.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Vt.EMPTY_NODE,a.getNode(),null),l=new fe(s,o.isFullyInitialized(),r.filtersNodes()),c=new fe(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new pe(c,l),this.eventGenerator_=new we(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){g.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)})}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ie.MERGE&&null!==t.source.queryId&&(g.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),g.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),g.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(It,function(t,e){n.push(de.childAddedChange(t,e))}),e.isFullyInitialized()&&n.push(de.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Ee=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return g.assert(Ht,"Reference.ts has not been loaded"),Ht},set:function(t){g.assert(!Ht,"__referenceConstructor has already been defined"),Ht=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return g.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var r=t.source.queryId;if(null!==r){var i=g.safeGet(this.views_,r);return g.assert(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(t,e,n)}var o=[];return g.forEach(this.views_,function(r,i){o=o.concat(i.applyOperation(t,e,n))}),o},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=g.safeGet(this.views_,o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof Vt?(s=n.calcCompleteEventChildren(r),u=!1):(s=Vt.EMPTY_NODE,u=!1);var l=new pe(new fe(s,u,!1),new fe(r,i,!1));a=new Ce(t,l),this.views_[o]=a}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i=e.queryIdentifier(),o=[],a=[],s=this.hasCompleteView();if("default"===i){var u=this;g.forEach(this.views_,function(t,e){a=a.concat(e.removeEventRegistration(n,r)),e.isEmpty()&&(delete u.views_[t],e.getQuery().getQueryParams().loadsAllData()||o.push(e.getQuery()))})}else{var l=g.safeGet(this.views_,i);l&&(a=a.concat(l.removeEventRegistration(n,r)),l.isEmpty()&&(delete this.views_[i],l.getQuery().getQueryParams().loadsAllData()||o.push(l.getQuery())))}return s&&!this.hasCompleteView()&&o.push(new t.__referenceConstructor(e.repo,e.path)),{removed:o,events:a}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return g.forEach(this.views_,function(n,r){e=e||r.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return g.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return g.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()})||null},t}(),Se=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new ue(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=Z.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new ue(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return g.forEach(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,ue.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(Z.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(It,function(e,n){t.push(new bt(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new bt(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new ue(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(Z.Empty,this.writeTree_,e)},t.Empty=new t(new ue(null)),t.applySubtreeWrite_=function(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(g.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t.applySubtreeWrite_(e.child(n),o,r)}),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r},t}(),Te=function(){function t(){this.visibleWrites_=Se.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new De(t,this)},t.prototype.addOverwrite=function(t,e,n,r){g.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){g.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});g.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var s=this.allWrites_[a];s.visible&&(a>=n&&this.recordContainsPath_(s,r.path)?i=!1:r.path.contains(s.path)&&(o=!0)),a--}return!!i&&(o?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):g.forEach(r.children,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(Z.Empty)?t.layerTree_(this.allWrites_,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e).apply(n||Vt.EMPTY_NODE):null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var s=this.visibleWrites_.childCompoundWrite(e);return s.isEmpty()?n:null!=n||s.hasCompleteWrite(Z.Empty)?s.apply(n||Vt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Vt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(It,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(It,function(t,e){var r=i.childCompoundWrite(new Z(t)).apply(e);n=n.updateImmediateChild(t,r)}),i.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){g.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(Z.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var l=[],c=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&l.length<r;)0!==c(f,n)&&l.push(f),f=h.getNext();return l},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!g.findKey(t.children,function(n,r){return t.path.child(r).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,Z.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Se.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,s=void 0;if(o.snap)n.contains(a)?(s=Z.relativePath(n,a),r=r.addWrite(s,o.snap)):a.contains(n)&&(s=Z.relativePath(a,n),r=r.addWrite(Z.Empty,o.snap.getChild(s)));else{if(!o.children)throw g.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))s=Z.relativePath(n,a),r=r.addWrites(s,o.children);else if(a.contains(n))if((s=Z.relativePath(a,n)).isEmpty())r=r.addWrites(Z.Empty,o.children);else{var u=g.safeGet(o.children,s.getFront());if(u){var l=u.getChild(s.popFront());r=r.addWrite(Z.Empty,l)}}}}}return r},t}(),De=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ie=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=ue.Empty,this.pendingWriteTree_=new Te,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new ce(oe.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=ue.fromObject(e);return this.applyOperationToSyncPoints_(new he(oe.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=ue.Empty;return null!=n.snap?r=r.set(Z.Empty,!0):g.forEach(n.children,function(t,e){r=r.set(new Z(t),e)}),this.applyOperationToSyncPoints_(new ae(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new ce(oe.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=ue.fromObject(e);return this.applyOperationToSyncPoints_(new he(oe.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new le(oe.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=Z.relativePath(a,e),l=new ce(oe.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=Z.relativePath(a,e),l=ue.fromObject(n),c=new he(oe.forServerTaggedQuery(s),u,l);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=Z.relativePath(o,e),u=new le(oe.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,function(t,e){var n=Z.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()});var a,s=this.syncPointTree_.get(r);s?(o=o||s.hasCompleteView(),i=i||s.getCompleteServerCache(Z.Empty)):(s=new Ee,this.syncPointTree_=this.syncPointTree_.set(r,s)),null!=i?a=!0:(a=!1,i=Vt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=e.getCompleteServerCache(Z.Empty);n&&(i=i.updateImmediateChild(t,n))}));var u=s.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);g.assert(!(l in this.queryToTagMap_),"View does not exist, but we have a tag");var c=t.getNextQueryTag_();this.queryToTagMap_[l]=c,this.tagToQueryMap_["_"+c]=l}var h=this.pendingWriteTree_.childWrites(r),f=s.addEventRegistration(e,n,h,i,a);if(!u&&!o){var p=s.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=u.removed;s=u.events;var c=-1!==l.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(c&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var y=p[d],m=y.getQuery(),g=this.createListenerForView_(y);this.listenProvider_.startListening(t.queryForListening_(m),this.tagForQuery_(m),g.hashFn,g.onComplete)}}!h&&l.length>0&&!r&&(c?this.listenProvider_.stopListening(t.queryForListening_(e),null):l.forEach(function(e){var n=i.queryToTagMap_[t.makeQueryKey_(e)];i.listenProvider_.stopListening(t.queryForListening_(e),n)})),this.removeTags_(l)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=Z.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),g.forEach(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap_[i];delete this.queryToTagMap_[i],delete this.tagToQueryMap_["_"+o]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),s=this.syncPointTree_.subtree(r);if(i)g.assert(!s.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),g.forEach(n,function(t,e){r=r.concat(e)}),r}),l=0;l<u.length;++l){var c=u[l];this.listenProvider_.stopListening(t.queryForListening_(c),this.tagForQuery_(c))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Vt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return g.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Z(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return g.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);g.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Z.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(Z.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(Z.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,l,c))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(Z.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Z.Empty));var a=[];return e.children.inorderTraversal(function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),l=t.operationForChild(e);l&&(a=a.concat(i.applyOperationDescendantsHelper_(l,o,s,u)))}),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),Oe=function(){function t(){this.rootNode_=Vt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ae=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(k("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';M(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),xe=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),g.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return g.deepCopy(this.counters_)},t}(),ke=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new xe),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Ne=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=g.clone(t);return this.last_&&g.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Pe=1e4,Re=3e4,Me=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ne(t);var n=Pe+(Re-Pe)*Math.random();J(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;g.forEach(e,function(e,i){i>0&&g.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),J(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Fe=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Le(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Le=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();O&&k("event: "+e.toString()),G(n)}}},t.prototype.getPath=function(){return this.path_},t}(),je=function(){function t(t){this.allowedEvents_=t,this.listeners_={},g.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){g.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),Ve=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return m.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return g.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(je),Be=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||g.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return m.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return g.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(je),Ue=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&G(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),qe="pLPCommand",ze="pRTLPCB",Qe=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=N(t),this.stats_=ke.getCollection(e),this.urlFn=function(t){return e.connectionURL($,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ue(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(g.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new He(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1],o=t[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==r)n.id=i,n.password=o;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,i)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),!g.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!g.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=g.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=g.base64Encode(e),r=z(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!g.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=g.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),He=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new te,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,g.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=T(),window[qe+this.uniqueCallbackIdentifier]=e,window[ze+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(s){k("frame writing exception"),s.stack&&k(s.stack),k(s)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||k("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),g.isNodeSdk()&&this.myID){var n={disconn:"t"};n.id=this.myID,n.pw=this.myPW;var r=this.urlFn(n);t.nodeRestRequest(r)}var i=this.onDisconnect;i&&(this.onDisconnect=null,i())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;g.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){k("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),We=null;"undefined"!=typeof MozWebSocket?We=MozWebSocket:"undefined"!=typeof WebSocket&&(We=WebSocket);var Ke=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=N(this.connId),this.stats_=ke.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!g.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,C.set("previous_websocket_failure",!0);try{if(g.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+y.SDK_VERSION+"/"+process.platform+"/"+(g.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},i=process.env,o=0==this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;o&&(r.proxy={origin:o}),this.mySock=new We(this.connURL,[],r)}else this.mySock=new We(this.connURL)}catch(s){this.log_("Error instantiating WebSocket.");var a=s.message||s.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==We&&!t.forceDisallow_},t.previouslyFailed=function(){return C.isInMemoryStorage||!0===C.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){C.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=g.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(g.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=g.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=z(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ge=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Qe,Ke]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=Ke&&Ke.isAvailable(),r=n&&!Ke.previouslyFailed();if(e.webSocketOnly&&(n||M("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ke];else{var i=this.transports_=[];Q(t.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&i.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Ye=function(){function t(t,e,n,r,i,o,a){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=N("c:"+this.id+":"),this.transportManager_=new Ge(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=J(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=U("t",t),n=U("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=U("t",t),n=U("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=U("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?P("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):P("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&M("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),J(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):J(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(C.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Je=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Ze=1e3,Xe=3e5,$e=function(t){function e(n,r,i,o,a,s){var u=t.call(this)||this;if(u.repoInfo_=n,u.onDataUpdate_=r,u.onConnectStatus_=i,u.onServerInfoUpdate_=o,u.authTokenProvider_=a,u.authOverride_=s,u.id=e.nextPersistentConnectionId_++,u.log_=N("p:"+u.id+":"),u.interruptReasons_={},u.listens_={},u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=Ze,u.maxReconnectDelay_=Xe,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,s&&!g.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),Ve.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&Be.getInstance().on("online",u.onOnline_,u),u}return m.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(g.stringify(i)),g.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens_[o]=this.listens_[o]||{},g.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),g.assert(!this.listens_[o][i],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[o][i]=a,this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens_[i]&&n.listens_[i][o])===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&g.contains(t,"w")){var n=g.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();M("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||g.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=g.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),g.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+g.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):P("Unrecognized action received from server: "+g.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;g.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ze,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ze,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ze),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,a=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,r())};this.realtime_={close:l,sendRequest:function(t){g.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(c).then(function(e){s?k("getToken() completed but was canceled"):(k("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,u=new Ye(i,o.repoInfo_,t,n,r,function(t){M(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},a))}).then(null,function(t){o.log_("Failed to get token: "+t),s||(g.CONSTANTS.NODE_ADMIN&&M(t),l())})}},e.prototype.interrupt=function(t){k("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){k("Resuming connection for reason: "+t),delete this.interruptReasons_[t],g.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Ze,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return q(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Z(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===g.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){k("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),g.forEach(this.listens_,function(e,n){g.forEach(n,function(e,n){t.sendListen_(n)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";g.CONSTANTS.NODE_ADMIN?e="admin_node":g.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+y.SDK_VERSION.replace(/\./g,"-")]=1,g.isMobileCordova()?t["framework.cordova"]=1:g.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Be.getInstance().currentlyOnline();return g.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Je),tn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=N("p:rest:"),i.listens_={},i}return m.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(g.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var s=e.getListenId_(t,r),u={};this.listens_[s]=u;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),g.safeGet(o.listens_,s)===u&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+g.querystring(e);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var t=null;if(s.status>=200&&s.status<300){try{t=g.jsonEval(s.responseText)}catch(e){M("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&M("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()})},e}(Je),en=function(){function t(t,e,n){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Fe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ee,this.persistentConnection_=null;var i=new Ae(n);if(this.stats_=ke.getCollection(t),e||Y())this.server_=new tn(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{g.stringify(o)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}this.persistentConnection_=new $e(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(t){r.server_.refreshAuthToken(t)}),this.statsReporter_=ke.getOrCreateReporter(t,function(){return new Me(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new Oe,this.infoSyncTree_=new Ie({startListening:function(t,e,n,i){var o=[],a=r.infoData_.getNode(t.path);return a.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ie({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,function(e,n){var o=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,o)}),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new Z(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new Z(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var a=g.map(e,function(t){return qt(t)});o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var s=qt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,s,r)}else if(n){var u=g.map(e,function(t){return qt(t)});o=this.serverSyncTree_.applyServerMerge(i,u)}else{var l=qt(e);o=this.serverSyncTree_.applyServerOverwrite(i,l)}var c=i;o.length>0&&(c=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(c,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;Q(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new Z("/.info/"+t),r=qt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=qt(e,n),s=re(a,o),u=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,s,u,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),a.val(!0),function(e,n){var o="ok"===e;o||M("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)});var c=this.abortTransactions_(t);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(c,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(g.forEach(e,function(t,e){i=!1;var n=qt(e);a[t]=re(n,o)}),i)k("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,function(e,i){var o="ok"===e;o||M("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)}),g.forEach(e,function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=function(t,e){var n=new ee;return t.forEachTree(new Z(""),function(t,r){n.remember(t,re(r,e))}),n}(this.onDisconnect_,e),r=[];n.forEachTree(Z.Empty,function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)}),this.onDisconnect_=new ee,this.eventQueue_.raiseEventsForChangedPath(Z.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=qt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=qt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(g.isEmpty(e))return k("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(i,o){"ok"===i&&g.forEach(e,function(e,n){var i=qt(n);r.onDisconnect_.remember(t.child(e),i)}),r.callOnCompleteCallback(n,i,o)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Ne(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);g.forEach(e,function(t,e){for(var r=t.length;r<n+2;r++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),k.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&G(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new fn(this))},enumerable:!0,configurable:!0}),t}(),nn=function(){function t(e){this.indexedFilter_=new ye(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new bt(e,n))||(n=Vt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Vt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Vt.EMPTY_NODE);var i=this;return e.forEachChild(It,function(t,e){i.matches(new bt(t,e))||(r=r.updateImmediateChild(t,Vt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),rn=function(){function t(t){this.rangedFilter_=new nn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new bt(e,n))||(n=Vt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Vt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Vt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Vt.EMPTY_NODE);var s=void 0,u=void 0,l=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(t,e){return c(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&l(s,a)<=0&&(h=!0),h&&o<this.limit_&&l(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Vt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var s=t;g.assert(s.numChildren()==this.limit_,"");var u=new bt(e,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var h=s.getImmediateChild(e),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name==e||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,u);if(c&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(de.childChangedChange(e,n,h)),s.updateImmediateChild(e,n);null!=i&&i.trackChildChange(de.childRemovedChange(e,h));var d=s.updateImmediateChild(e,Vt.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(de.childAddedChange(f.name,f.node)),d.updateImmediateChild(f.name,f.node)):d}return n.isEmpty()?t:c&&o(l,u)>=0?(null!=i&&(i.trackChildChange(de.childRemovedChange(l.name,l.node)),i.trackChildChange(de.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(l.name,Vt.EMPTY_NODE)):t},t}(),on=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=It}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return g.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return g.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:L},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return g.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return g.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:j},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return g.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==It&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==It},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new ye(this.getIndex()):this.hasLimit()?new rn(this):new nn(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===It?e=n.PRIORITY_INDEX:this.index_===Wt?e=n.VALUE_INDEX:this.index_===Et?e=n.KEY_INDEX:(g.assert(this.index_ instanceof Kt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=g.stringify(e),this.startSet_&&(r[n.START_AT]=g.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+g.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=g.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+g.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),an=function(t){function e(e,n){if(!(e instanceof en))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,on.DEFAULT,!1)||this}return m.__extends(e,t),e.prototype.getKey=function(){return g.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return g.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Z||(null===this.path.getFront()?function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dt("Reference.child",1,n,!1)}(0,0,t):dt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){g.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){g.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){g.validateArgCount("Reference.set",1,2,arguments.length),yt("Reference.set",this.path),ut("Reference.set",1,t,this.path,!1),g.validateCallback("Reference.set",2,e,!0);var n=new g.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(g.validateArgCount("Reference.update",1,2,arguments.length),yt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,M("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ct("Reference.update",1,t,this.path,!1),g.validateCallback("Reference.update",2,e,!0);var i=new g.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(g.validateArgCount("Reference.setWithPriority",2,3,arguments.length),yt("Reference.setWithPriority",this.path),ut("Reference.setWithPriority",1,t,this.path,!1),ht("Reference.setWithPriority",2,e,!1),g.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new g.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return g.validateArgCount("Reference.remove",0,1,arguments.length),yt("Reference.remove",this.path),g.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(g.validateArgCount("Reference.transaction",1,3,arguments.length),yt("Reference.transaction",this.path),g.validateCallback("Reference.transaction",1,t,!1),g.validateCallback("Reference.transaction",2,e,!0),function(t,e,r,i){if(void 0!==n&&"boolean"!=typeof n)throw new Error(g.errorPrefix("Reference.transaction",3,!0)+"must be a boolean.")}(),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new g.Deferred;return"function"==typeof e&&r.promise.catch(function(){}),this.repo.startTransaction(this.path,t,function(t,n,i){t?r.reject(t):r.resolve(new vt(n,i)),"function"==typeof e&&e(t,n,i)},n),r.promise},e.prototype.setPriority=function(t,e){g.validateArgCount("Reference.setPriority",1,2,arguments.length),yt("Reference.setPriority",this.path),ht("Reference.setPriority",1,t,!1),g.validateCallback("Reference.setPriority",2,e,!0);var n=new g.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){g.validateArgCount("Reference.push",0,2,arguments.length),yt("Reference.push",this.path),ut("Reference.push",1,t,this.path,!0),g.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=_t(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),o},e.prototype.onDisconnect=function(){return yt("Reference.onDisconnect",this.path),new gt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}($t);$t.__referenceConstructor=an,Ee.__referenceConstructor=an;var sn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),un=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new sn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof Z?e:new Z(e),i=this;null!==(n=r.getFront());)i=new t(n,i,g.safeGet(i.node_.children,n)||new sn),r=r.popFront();return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){g.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;g.forEach(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new Z(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=g.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),ln=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});en.MAX_TRANSACTION_RETRIES_=25,en.prototype.transactions_init_=function(){this.transactionQueueTree_=new un},en.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new an(this,t);o.on("value",i);var a={path:t,update:e,onComplete:n,status:null,order:T(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=this.getLatestState_(t);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var l=new Gt(a.currentInputSnapshot,new an(this,a.path),It);a.onComplete(null,!1,l)}}else{lt("transaction failed: Data returned ",u,a.path),a.status=ln.RUN;var c=this.transactionQueueTree_.subTree(t),h=c.getValue()||[];h.push(a),c.setValue(h);var f=void 0;"object"==typeof u&&null!==u&&g.contains(u,".priority")?(f=g.safeGet(u,".priority"),g.assert(st(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(this.serverSyncTree_.calcCompleteEventCache(t)||Vt.EMPTY_NODE).getPriority().val(),f=f;var p=this.generateServerValues(),d=qt(u,f),y=re(d,p);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,y,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},en.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Vt.EMPTY_NODE},en.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);g.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===ln.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},en.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(t){return t.currentWriteId}),i=this.getLatestState_(t,r),o=i,a=i.hash(),s=0;s<e.length;s++){var u=e[s];g.assert(u.status===ln.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=ln.SENT,u.retryCount++;var l=Z.relativePath(t,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var c=o.val(!0),h=t;this.server_.put(h.toString(),c,function(r){n.log_("transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=ln.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new an(n,e[a].path),l=new Gt(s,u,It);o.push(e[a].onComplete.bind(null,null,!0,l))}e[a].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),a=0;a<o.length;a++)G(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status=e[a].status===ln.SENT_NEEDS_ABORT?ln.NEEDS_ABORT:ln.RUN;else for(M("transaction at "+h.toString()+" failed: "+r),a=0;a<e.length;a++)e[a].status=ln.NEEDS_ABORT,e[a].abortReason=r;n.rerunTransactions_(t)}},a)},en.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},en.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter(function(t){return t.status===ln.RUN}).map(function(t){return t.currentWriteId}),o=0;o<t.length;o++){var a=t[o],s=Z.relativePath(e,a.path),u=!1,l=void 0;if(g.assert(null!==s,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===ln.NEEDS_ABORT)u=!0,l=a.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===ln.RUN)if(a.retryCount>=en.MAX_TRANSACTION_RETRIES_)u=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var c=this.getLatestState_(a.path,i);a.currentInputSnapshot=c;var h=t[o].update(c.val());if(void 0!==h){lt("transaction failed: Data returned ",h,a.path);var f=qt(h);"object"==typeof h&&null!=h&&g.contains(h,".priority")||(f=f.updatePriority(c.getPriority()));var p=a.currentWriteId,d=this.generateServerValues(),y=re(f,d);a.currentOutputSnapshotRaw=f,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(a.path,y,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else u=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],u&&(t[o].status=ln.COMPLETED,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete))if("nodata"===l){var m=new an(this,t[o].path),v=new Gt(t[o].currentInputSnapshot,m,It);n.push(t[o].onComplete.bind(null,null,!1,v))}else n.push(t[o].onComplete.bind(null,new Error(l),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)G(n[o]);this.sendReadyTransactions_()}},en.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},en.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},en.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},en.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==ln.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},en.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},en.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)e[o].status===ln.SENT_NEEDS_ABORT||(e[o].status===ln.SENT?(g.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=ln.SENT_NEEDS_ABORT,e[o].abortReason="set"):(g.assert(e[o].status===ln.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),o=0;o<n.length;o++)G(n[o])}};var cn,hn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return cn||(cn=new t),cn},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&R("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=et(n),i=r.repoInfo;return mt("Invalid Firebase Database URL",1,r),r.path.isEmpty()||R("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,t).database},t.prototype.deleteRepo=function(t){var e=g.safeGet(this.repos_,t.app.name);e&&g.safeGet(e,t.repoInfo_.toURLString())===t||R("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=g.safeGet(this.repos_,e.name);n||(this.repos_[e.name]=n={});var r=g.safeGet(n,t.toURLString());return r&&R("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new en(t,this.useRestClient_,e),n[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),fn=function(){function t(t){this.repo_=t,t instanceof en||R("Don't call new Database() directly - please use firebase.database()."),this.root_=new an(t,Z.Empty),this.INTERNAL=new pn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),g.validateArgCount("database.ref",0,1,arguments.length),t instanceof an?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),g.validateArgCount(e,1,1,arguments.length);var n=et(t);mt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&R(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&R("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){g.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){g.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),pn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return m.__awaiter(this,void 0,void 0,function(){return m.__generator(this,function(t){return this.database.checkDeleted_("delete"),hn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),dn=Object.freeze({forceLongPolling:function(){Ke.forceDisallow(),Qe.forceAllow()},forceWebSockets:function(){Qe.forceDisallow()},isWebSocketsAvailable:function(){return Ke.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),yn=$e;$e.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},$e.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var mn=Object.freeze({DataConnection:yn,RealTimeConnection:Ye,hijackHash:function(t){var e=$e.prototype.put;return $e.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){$e.prototype.put=e}},ConnectionTarget:tt,queryIdentifier:function(t){return t.queryIdentifier()},listens:function(t){return t.repo.persistentConnection_.listens_},forceRestClient:function(t){hn.getInstance().forceRestClient(t)}}),gn=fn.ServerValue;function vn(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return hn.getInstance().databaseFromApp(t,n)},{Reference:an,Query:$t,Database:fn,DataSnapshot:Gt,enableLogging:x,INTERNAL:dn,ServerValue:gn,TEST_ACCESS:mn},null,!0);g.isNodeSdk()&&(t.exports=n)}vn(y),e.registerDatabase=vn,e.Database=fn,e.Query=$t,e.Reference=an,e.enableLogging=x,e.ServerValue=gn,e.DataSnapshot=Gt,e.OnDisconnect=gt},ORnb:function(t,e,n){"use strict";var r=n("CcnG"),i=n("Ip0R"),o=n("mrSG"),a=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return o.__extends(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(n("h9Dq").a),s=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e}(n("CS9Q").a))(a),u=n("6blF"),l=new r.InjectionToken("angularfire2.realtimeDatabaseURL"),c=function(){function t(t,e){this.zone=t,this.platformId=e}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.runGuarded(function(){return s.schedule.apply(s,t)})},t.prototype.keepUnstableUntilFirst=function(t){return Object(i.isPlatformServer)(this.platformId)?new u.a(function(e){var n=function(){},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(function(t){"scheduled"===r.state&&r.invoke(),e.next(t)},function(t){"scheduled"===r.state&&r.invoke(),e.error(t)},function(){"scheduled"===r.state&&r.invoke(),e.complete()})}):t},t.prototype.runOutsideAngular=function(t){var e=this;return new u.a(function(n){return e.zone.runOutsideAngular(function(){return t.subscribe(function(t){return e.zone.run(function(){return n.next(t)})},function(t){return e.zone.run(function(){return n.error(t)})},function(){return e.zone.run(function(){return n.complete()})})})})},t}(),h=function(t){return function(e){return new u.a(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}},f=n("Wcq6"),p=n.n(f),d=new r.InjectionToken("angularfire2.app.options"),y=new r.InjectionToken("angularfire2.app.nameOrConfig"),m=function(){return function(){}}();function g(t,e){var n="object"==typeof e&&e||{};return n.name=n.name||"string"==typeof e&&e||"[DEFAULT]",p.a.apps.filter(function(t){return t&&t.name===n.name})[0]||p.a.initializeApp(t,n)}new r.Optional;var v=function(){function t(){}var e;return e=t,t.initializeApp=function(t,n){return{ngModule:e,providers:[{provide:d,useValue:t},{provide:y,useValue:n}]}},t}();n.d(e,"f",function(){return l}),n.d(e,"e",function(){return c}),n.d(e,"h",function(){return h}),n.d(e,"d",function(){return d}),n.d(e,"c",function(){return y}),n.d(e,"b",function(){return m}),n.d(e,"g",function(){return g}),n.d(e,"a",function(){return v})},PU8L:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6blF");function i(t){var e=new r.a(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}},Q2Kg:function(t,e,n){var r=n("2w5C"),i=n("o9j8");t.exports=Object.keys||function(t){return r(t,i)}},QURa:function(t,e,n){n("q94Q")("patternMatch")},QvOV:function(t,e,n){var r=n("YCU0"),i=Object.prototype;r!==i.toString&&n("1f/i")(i,"toString",r,{unsafe:!0})},S1nX:function(t,e,n){"use strict";var r=n("mrSG"),i=n("K9Ia"),o=n("6blF"),a=n("FFOo"),s=n("pugT");function u(){return function(t){return t.lift(new l(t))}}var l=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(a.a),h=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.__extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.a).add(this.source.subscribe(new p(this.getSubject(),this))),t.closed?(this._connection=null,t=s.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return u()(this)},e}(o.a).prototype,f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},p=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.b);function d(){return new i.a}function y(){return function(t){return u()((e=d,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}}n.d(e,"a",function(){return y})},S4gH:function(t,e,n){var r=n("TIpl").f,i=n("57wU"),o=n("aXXJ")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},S5XQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DKTb"),i=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e}}},S5sp:function(t,e,n){t.exports=!n("0HDe")(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},SAp2:function(t,e,n){var r=n("9Nts");t.exports=function(t){return Object(r(t))}},SIcJ:function(t,e,n){var r=n("Q2Kg"),i=n("fw2a"),o=n("iCuu");t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},T1DM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("h9Dq"),i=new(n("CS9Q").a)(r.a)},T3Qk:function(t,e,n){n("q0E7"),n("//qW"),n("spD4"),t.exports=n("ahhG").f("iterator")},TIpl:function(t,e,n){var r=n("lb/b"),i=n("a0i3"),o=n("bcPd"),a=n("ehg7"),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},U4hp:function(t,e,n){"use strict";var r=n("ehg7"),i=n("TIpl"),o=n("2Hee");t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},U5J1:function(t,e){t.exports=!1},Uv6z:function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};c.prototype.append=function(t,e){t=s(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},c.prototype.delete=function(t){delete this.map[s(t)]},c.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},c.prototype.set=function(t,e){this.map[s(t)]=u(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),l(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),l(t)},e.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},y.call(m.prototype),y.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];v.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},t.Headers=c,t.Request=m,t.Response=v,t.fetch=function(t,n){return new Promise(function(r,i){var o=new m(t,n),a=new XMLHttpRequest;a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new c,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL"),r(new v("response"in a?a.response:a.responseText,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function p(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function d(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=d(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t,e,n,r=h(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=f(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(t,e){var n,r,i=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),o.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function g(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function v(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},WBJg:function(t,e,n){n("pSMy")({target:"String",proto:!0},{repeat:n("nsc/")})},Wcq6:function(t,e,n){"use strict";n("lcbw");var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=i},XCog:function(t,e,n){var r=n("0Bu/");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(i){}return function(n,i){return r(n,i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},XlPw:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6blF");function i(t,e){return new r.a(e?function(n){return e.schedule(o,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function o(t){t.subscriber.error(t.error)}},YCU0:function(t,e,n){"use strict";var r=n("ZrEc"),i={};i[n("aXXJ")("toStringTag")]="z",t.exports="[object z]"!==String(i)?function(){return"[object "+r(this)+"]"}:i.toString},YxH6:function(t,e,n){"use strict";var r,i,o,a=n("0idE"),s=n("wBs/"),u=n("57wU"),l=n("U5J1"),c=n("aXXJ")("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):h=!0),null==r&&(r={}),l||u(r,c)||s(r,c,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},ZPxF:function(t,e,n){n("S4gH")(n("ysHE").JSON,"JSON",!0)},Zn8D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("psW0"),i=n("mChF");function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(i.a,t)}},ZrEc:function(t,e,n){var r=n("hdqJ"),i=n("aXXJ")("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},"a+hM":function(t,e,n){var r=n("57wU"),i=n("ySdl"),o=n("pYsU"),a=n("TIpl");t.exports=function(t,e){for(var n=i(e),s=a.f,u=o.f,l=0;l<n.length;l++){var c=n[l];r(t,c)||s(t,c,u(e,c))}}},a0i3:function(t,e,n){t.exports=!n("lb/b")&&!n("0HDe")(function(){return 7!=Object.defineProperty(n("JIMt")("div"),"a",{get:function(){return 7}}).a})},aXXJ:function(t,e,n){var r=n("MfhB")("wks"),i=n("ptKZ"),o=n("ysHE").Symbol,a=n("mk1t");t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}},ahhG:function(t,e,n){e.f=n("aXXJ")},b2LF:function(t,e,n){n("q94Q")("hasInstance")},bcPd:function(t,e,n){var r=n("kpns");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},d8cw:function(t,e,n){"use strict";var r=n("vQkR")(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),n("pSMy")({target:"Array",proto:!0,forced:i},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("gJLK")("find")},dC0D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new a(t,e,n))}}var a=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))},t}(),s=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.__extends(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(i.a)},dYkh:function(t,e,n){n("q94Q")("search")},dstF:function(t,e,n){n("q94Q")("replace")},ehBJ:function(t,e,n){n("73IE"),t.exports=n("vLVD")("String","startsWith")},ehg7:function(t,e,n){var r=n("kpns");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},eihs:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={e:{}}},fw2a:function(t,e){e.f=Object.getOwnPropertySymbols},g7Su:function(t,e,n){var r=n("0HDe"),i=n("aXXJ")("species");t.exports=function(t){return!r(function(){var e=[];return(e.constructor={})[i]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},gIEr:function(t,e,n){n("q94Q")("species")},gJLK:function(t,e,n){var r=n("aXXJ")("unscopables"),i=n("tzov"),o=n("wBs/"),a=Array.prototype;null==a[r]&&o(a,r,i(null)),t.exports=function(t){a[r][t]=!0}},h9Dq:function(t,e,n){"use strict";var r=n("mrSG"),i=function(t){function e(e,n){return t.call(this)||this}return r.__extends(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n("pugT").a);n.d(e,"a",function(){return o});var o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r.__extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(i)},hEy5:function(t,e,n){var r=n("FnXw"),i=n("9Nts");t.exports=function(t,e,n){if(r(e))throw TypeError("String.prototype."+n+" doesn't accept regex");return String(i(t))}},hdqJ:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},iCuu:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},iLxQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},isby:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},k2qa:function(t,e,n){var r=n("hdqJ");t.exports=Array.isArray||function(t){return"Array"==r(t)}},kpns:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"lb/b":function(t,e,n){t.exports=!n("0HDe")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},lcbw:function(t,e,n){"use strict";n.r(e),n("Uv6z"),n("pZxE"),n("9r11"),n("KaSA"),n("z5Af"),n("o/0F"),n("AzFY"),n("y2cN"),n("7xuS")},luCB:function(t,e,n){n("q94Q")("split")},mChF:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},mKQw:function(t,e,n){var r=n("0HDe"),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==l||n!=u&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},mk1t:function(t,e,n){t.exports=!n("0HDe")(function(){String(Symbol())})},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return l}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return y}),n.d(e,"__await",function(){return m}),n.d(e,"__asyncGenerator",function(){return g}),n.d(e,"__asyncDelegator",function(){return v}),n.d(e,"__asyncValues",function(){return _}),n.d(e,"__makeTemplateObject",function(){return b}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return C});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},nJQW:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},nX7E:function(t,e,n){var r=n("ysHE"),i=n("wBs/");t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},nkY7:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},"nsc/":function(t,e,n){"use strict";var r=n("JKJi"),i=n("9Nts");t.exports="".repeat||function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},"o/0F":function(t,e,n){t.exports=n("ehBJ")},o9j8:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},p0ib:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("6blF"),i=n("nkY7"),o=n("Zn8D"),a=n("IUTb");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,s=null,u=t[t.length-1];return Object(i.a)(u)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(n)(Object(a.a)(t,s))}},pSMy:function(t,e,n){var r=n("ysHE"),i=n("pYsU").f,o=n("wBs/"),a=n("1f/i"),s=n("nX7E"),u=n("a+hM"),l=n("mKQw");t.exports=function(t,e){var n,c,h,f,p,d=t.target,y=t.global,m=t.stat;if(n=y?r:m?r[d]||s(d,{}):(r[d]||{}).prototype)for(c in e){if(f=e[c],h=t.noTargetGet?(p=i(n,c))&&p.value:n[c],!l(y?c:d+(m?".":"#")+c,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;u(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),a(n,c,f,t)}}},pYsU:function(t,e,n){var r=n("lb/b"),i=n("iCuu"),o=n("2Hee"),a=n("IutQ"),s=n("ehg7"),u=n("57wU"),l=n("a0i3"),c=Object.getOwnPropertyDescriptor;e.f=r?c:function(t,e){if(t=a(t),e=s(e,!0),l)try{return c(t,e)}catch(n){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},pZxE:function(t,e,n){"use strict";function r(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}var i=setTimeout;function o(){}function a(t){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function s(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,a._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void l(e.promise,i)}u(e.promise,r)}else(1===t._state?u:l)(e.promise,t._value)})):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof a)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void f((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(o){l(t,o)}var r,i}function l(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&a._immediateFn(function(){t._handled||a._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function h(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,u(e,t))},function(t){n||(n=!0,l(e,t))})}catch(r){if(n)return;n=!0,l(e,r)}}a.prototype.catch=function(t){return this.then(null,t)},a.prototype.then=function(t,e){var n=new this.constructor(o);return s(this,new h(t,e,n)),n},a.prototype.finally=r,a.all=function(t){return new a(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){o(t,e)},n)}r[t]=a,0==--i&&e(r)}catch(u){n(u)}}for(var a=0;a<r.length;a++)o(a,r[a])})},a.resolve=function(t){return t&&"object"==typeof t&&t.constructor===a?t:new a(function(e){e(t)})},a.reject=function(t){return new a(function(e,n){n(t)})},a.race=function(t){return new a(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},a._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){i(t,0)},a._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var p=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"Promise"in p?p.Promise.prototype.finally||(p.Promise.prototype.finally=r):p.Promise=a},psW0:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("mrSG"),i=n("zotm"),o=n("MGBS"),a=n("rPjj"),s=n("67Y/"),u=n("0/uQ");function l(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(l(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(s.a)(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project,this.concurrent))},t}(),h=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.__extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new a.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},ptKZ:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},pugT:function(t,e,n){"use strict";var r=n("isby"),i=n("McSo"),o=n("2Bdj"),a=n("Ehmk"),s=n("eihs");function u(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}u.prototype=Object.create(Error.prototype);var l=u;n.d(e,"a",function(){return c});var c=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,u=this._parents,c=this._unsubscribe,f=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,d=u?u.length:0;n;)n.remove(this),n=++p<d&&u[p]||null;if(Object(o.a)(c)&&Object(a.a)(c).call(this)===s.a&&(e=!0,t=t||(s.a.e instanceof l?h(s.a.e.errors):[s.a.e])),Object(r.a)(f))for(p=-1,d=f.length;++p<d;){var y=f[p];if(Object(i.a)(y)&&Object(a.a)(y.unsubscribe).call(y)===s.a){e=!0,t=t||[];var m=s.a.e;m instanceof l?t=t.concat(h(m.errors)):t.push(m)}}if(e)throw new l(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function h(t){return t.reduce(function(t,e){return t.concat(e instanceof l?e.errors:e)},[])}},"q/0M":function(t,e,n){"use strict";n.r(e),n.d(e,"setLogLevel",function(){return u}),n.d(e,"Logger",function(){return s}),n.d(e,"LogLevel",function(){return i});var r=[],i=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),o=i.INFO,a=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},s=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=a,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.ERROR].concat(t))},t}();function u(t){r.forEach(function(e){e.logLevel=t})}},q0E7:function(t,e,n){n("q94Q")("iterator")},q94Q:function(t,e,n){var r=n("4Ea8"),i=n("57wU"),o=n("ahhG"),a=n("TIpl").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},qBi7:function(t,e,n){var r=n("MfhB")("keys"),i=n("ptKZ");t.exports=function(t){return r[t]||(r[t]=i(t))}},qjh4:function(t,e,n){"use strict";var r=n("lb/b"),i=n("57wU"),o=n("kpns"),a=n("TIpl").f,s=n("a+hM"),u=n("ysHE").Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var l={},c=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof c?new u(t):void 0===t?u():u(t);return""===t&&(l[e]=!0),e};s(c,u);var h=c.prototype=u.prototype;h.constructor=c;var f=h.toString,p="Symbol(test)"==String(u("test")),d=/^Symbol\((.*)\)[^)]+$/;a(h,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=f.call(t);if(i(l,t))return"";var n=p?e.slice(7,-1):e.replace(d,"$1");return""===n?void 0:n}}),n("pSMy")({global:!0,forced:!0},{Symbol:c})}},rPjj:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.__extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("FFOo").a)},rZEa:function(t,e,n){"use strict";var r=n("k2qa"),i=n("kpns"),o=n("SAp2"),a=n("H6ty"),s=n("U4hp"),u=n("rhCS"),l=n("aXXJ")("isConcatSpreadable"),c=!n("0HDe")(function(){var t=[];return t[l]=!1,t.concat()[0]!==t}),h=n("g7Su")("concat"),f=function(t){if(!i(t))return!1;var e=t[l];return void 0!==e?!!e:r(t)},p=!c||!h;n("pSMy")({target:"Array",proto:!0,forced:p},{concat:function(t){var e,n,r,i,l,c=o(this),h=u(c,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(f(l=-1===e?c:arguments[e])){if(p+(i=a(l.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,p++)n in l&&s(h,p,l[n])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(h,p++,l)}return h.length=p,h}})},rhCS:function(t,e,n){var r=n("kpns"),i=n("k2qa"),o=n("aXXJ")("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},rs5h:function(t,e,n){var r=n("ysHE").document;t.exports=r&&r.documentElement},spD4:function(t,e,n){var r=n("1VRj"),i=n("K8G7"),o=n("ysHE"),a=n("wBs/"),s=n("aXXJ"),u=s("iterator"),l=s("toStringTag"),c=i.values;for(var h in r){var f=o[h],p=f&&f.prototype;if(p){if(p[u]!==c)try{a(p,u,c)}catch(y){p[u]=c}if(p[l]||a(p,l,h),r[h])for(var d in i)if(p[d]!==i[d])try{a(p,d,i[d])}catch(y){p[d]=i[d]}}}},stQs:function(t,e,n){"use strict";var r=n("pSMy"),i=n("A9d8"),o=n("0idE"),a=n("XCog"),s=n("S4gH"),u=n("wBs/"),l=n("1f/i"),c=n("U5J1"),h=n("aXXJ")("iterator"),f=n("0i0S"),p=n("YxH6"),d=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,m=function(){return this};t.exports=function(t,e,n,p,g,v,_){i(n,e,p);var b,w,C,E=function(t){if(t===g&&O)return O;if(!y&&t in D)return D[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},S=e+" Iterator",T=!1,D=t.prototype,I=D[h]||D["@@iterator"]||g&&D[g],O=!y&&I||E(g),A="Array"==e&&D.entries||I;if(A&&(b=o(A.call(new t)),d!==Object.prototype&&b.next&&(c||o(b)===d||(a?a(b,d):"function"!=typeof b[h]&&u(b,h,m)),s(b,S,!0,!0),c&&(f[S]=m))),"values"==g&&I&&"values"!==I.name&&(T=!0,O=function(){return I.call(this)}),c&&!_||D[h]===O||u(D,h,O),f[e]=O,g)if(w={values:E("values"),keys:v?O:E("keys"),entries:E("entries")},_)for(C in w)!y&&!T&&C in D||l(D,C,w[C]);else r({target:e,proto:!0,forced:y||T},w);return w}},t5mC:function(t,e,n){var r=n("0HDe"),i=n("hdqJ"),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},tuBy:function(t,e,n){n("WBJg"),t.exports=n("vLVD")("String","repeat")},tzov:function(t,e,n){var r=n("bcPd"),i=n("JzIs"),o=n("o9j8"),a=n("rs5h"),s=n("JIMt"),u=n("qBi7")("IE_PROTO"),l=function(){},c=function(){var t,e=s("iframe"),n=o.length;for(e.style.display="none",a.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;n--;)delete c.prototype[o[n]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(l.prototype=r(t),n=new l,l.prototype=null,n[u]=t):n=c(),void 0===e?n:i(n,e)},n("vcTx")[u]=!0},u67D:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("En8+"),i=function(t){return function(e){for(var n=t[r.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},uLJa:function(t,e,n){n("q94Q")("toStringTag")},ug5D:function(t,e,n){"use strict";n.r(e);var r=n("mrSG");function i(t){return null==t}function o(t){return"function"==typeof t.set}function a(t,e){return o(e)?e:t.ref(e)}function s(t,e){if("string"==typeof t)return e.stringCase();if(o(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}var u=n("6blF"),l=n("67Y/"),c=n("T1DM"),h=n("FFOo"),f=n("G5J1"),p=n("F/XL"),d=n("XlPw"),y=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Object(p.a)(this.value);case"E":return Object(d.a)(this.error);case"C":return Object(f.b)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),m=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new g(t,this.delay,this.scheduler))},t}(),g=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r.__extends(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new v(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(y.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(y.createComplete()),this.unsubscribe()},e}(h.a),v=function(){return function(t,e){this.time=t,this.notification=e}}(),_=n("S1nX");function b(t,e,n){return void 0===n&&(n="on"),new u.a(function(r){var i=t[n](e,function(t,e){r.next({snapshot:t,prevKey:e}),"once"==n&&r.complete()},r.error.bind(r));return"on"==n?{unsubscribe:function(){t.off(e,i)}}:{unsubscribe:function(){}}}).pipe(Object(l.a)(function(t){var n=t.snapshot,r=t.prevKey,i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),function(t,e){void 0===e&&(e=c.a);var n=0 instanceof Date&&!isNaN(0)?0-e.now():Math.abs(0);return function(t){return t.lift(new m(n,e))}}(),Object(_.a)())}var w=n("p0ib"),C=n("15JJ"),E=n("dC0D"),S=n("Ehmk"),T=n("eihs"),D=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new I(t,this.compare,this.keySelector))},t}(),I=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return r.__extends(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=Object(S.a)(this.keySelector)(t))===T.a)return this.destination.error(T.a.e);var n=!1;if(this.hasKey){if((n=Object(S.a)(this.compare)(this.key,e))===T.a)return this.destination.error(T.a.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))},e}(h.a);function O(t,e){return b(t,"value","once").pipe(Object(C.a)(function(n){var r=[Object(p.a)(n)];return e.forEach(function(e){return r.push(b(t,e))}),w.a.apply(void 0,r).pipe(Object(E.a)(x,[]))}),function(t){return t.lift(new D(void 0,void 0))})}function A(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function x(t,e){var n=e.payload,r=e.prevKey,o=e.key,a=A(t,o),s=function(t,e){if(i(e))return 0;var n=A(t,e);return-1===n?t.length:n+1}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){var u=null;e.payload.forEach(function(e){var n={payload:e,type:"value",prevKey:u,key:e.key};return u=e.key,t=t.concat([n]),!1})}return t;case"child_added":if(a>-1){var l=t[a-1];(l&&l.key||null)!=r&&(t=t.filter(function(t){return t.payload.key!==n.key})).splice(s,0,e)}else{if(null==r)return[e].concat(t);(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(function(t){return t.payload.key!==n.key});case"child_changed":return t.map(function(t){return t.payload.key===o?e:t});case"child_moved":if(a>-1){var c=t.splice(a,1)[0];return(t=t.slice()).splice(s,0,c),t}return t;default:return t}}function k(t){return(i(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function N(t,e){return O(t,e=k(e))}function P(t,e){var n=(e=k(e)).map(function(e){return b(t,e)});return w.a.apply(void 0,n)}var R=n("MGBS"),M=n("zotm"),F=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new L(t,this.observables,this.project))},t}(),L=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.observables=n,i.project=r,i.toRespond=[];var o=n.length;i.values=new Array(o);for(var a=0;a<o;a++)i.toRespond.push(a);for(a=0;a<o;a++){var s=n[a];i.add(Object(M.a)(i,s,s,a))}return i}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(R.a),j=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new V(t,this.predicate))},t}(),V=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r.__extends(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(n){this.destination.error(n)}},e}(h.a);function B(t,e){return function(t,e){return function(t){return b(t,"value").pipe(Object(l.a)(function(t){var e;return t.payload.forEach(function(t){return e=t.key,!1}),{data:t,lastKeyToLoad:e}}))}(t).pipe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new F(t,n))}}(e),Object(l.a)(function(t){var e=t[1],n=t[0].lastKeyToLoad,r=e.map(function(t){return t.key});return{actions:e,lastKeyToLoad:n,loadedKeys:r}}),(n=function(t){return-1===t.loadedKeys.indexOf(t.lastKeyToLoad)},function(t){return t.lift(new j(n))}),Object(l.a)(function(t){return t.actions}));var n}(t,P(t,e).pipe(Object(E.a)(function(t,e){return t.concat([e])},[])))}function U(t,e){return function(n,r){return s(n,{stringCase:function(){return t.child(n)[e](r)},firebaseCase:function(){return n[e](r)},snapshotCase:function(){return n.ref[e](r)}})}}function q(t,e){return{query:t,update:U(t.ref,"update"),set:U(t.ref,"set"),push:function(e){return t.ref.push(e)},remove:(n=t.ref,function(t){return t?s(t,{stringCase:function(){return n.child(t).remove()},firebaseCase:function(){return t.remove()},snapshotCase:function(){return t.ref.remove()}}):n.remove()}),snapshotChanges:function(n){var r=N(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r))},stateChanges:function(n){var r=P(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r))},auditTrail:function(n){var r=B(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r))},valueChanges:function(n){var r=N(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r)).pipe(Object(l.a)(function(t){return t.map(function(t){return t.payload.val()})}))}};var n}function z(t){return function(){return b(t,"value")}}var Q=n("ORnb"),H=function(){function t(t,e,n,r,i){this.scheduler=new Q.e(i,r),this.database=i.runOutsideAngular(function(){return Object(Q.g)(t,e).database(n||void 0)})}return t.prototype.list=function(t,e){var n=a(this.database,t),r=n;return e&&(r=e(n)),q(r,this)},t.prototype.object=function(t){var e,n,r=a(this.database,t);return n=this,{query:e=r,snapshotChanges:function(){var t=z(e)();return n.scheduler.keepUnstableUntilFirst(n.scheduler.runOutsideAngular(t))},update:function(t){return e.ref.update(t)},set:function(t){return e.ref.set(t)},remove:function(){return e.ref.remove()},valueChanges:function(){var t=z(e)();return n.scheduler.keepUnstableUntilFirst(n.scheduler.runOutsideAngular(t)).pipe(Object(l.a)(function(t){return t.payload.exists()?t.payload.val():null}))}}},t.prototype.createPushId=function(){return this.database.ref().push().key},t}(),W=(n("NSPt"),function(){return function(){}}());n.d(e,"AngularFireDatabase",function(){return H}),n.d(e,"RealtimeDatabaseURL",function(){return Q.f}),n.d(e,"listChanges",function(){return O}),n.d(e,"createListReference",function(){return q}),n.d(e,"snapshotChanges",function(){return N}),n.d(e,"stateChanges",function(){return P}),n.d(e,"auditTrail",function(){return B}),n.d(e,"fromRef",function(){return b}),n.d(e,"AngularFireDatabaseModule",function(){return W})},"uiB+":function(t,e,n){n("q94Q")("isConcatSpreadable")},uzDk:function(t,e,n){n("4mOR"),t.exports=n("vLVD")("Array","findIndex")},vLVD:function(t,e,n){var r=n("ysHE"),i=n("JpPu"),o=Function.call;t.exports=function(t,e,n){return i(o,r[t].prototype[e],n)}},vQkR:function(t,e,n){var r=n("JpPu"),i=n("t5mC"),o=n("SAp2"),a=n("H6ty"),s=n("rhCS");t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h,p=e||s;return function(e,s,d){for(var y,m,g=o(e),v=i(g),_=r(s,d,3),b=a(v.length),w=0,C=n?p(e,b):u?p(e,0):void 0;b>w;w++)if((f||w in v)&&(m=_(y=v[w],w,g),t))if(n)C[w]=m;else if(m)switch(t){case 3:return!0;case 5:return y;case 6:return w;case 2:C.push(y)}else if(c)return!1;return h?-1:l||c?c:C}}},"vb+c":function(t,e,n){n("S4gH")(Math,"Math",!0)},vcTx:function(t,e){t.exports={}},"wBs/":function(t,e,n){var r=n("TIpl"),i=n("2Hee");t.exports=n("lb/b")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("zVF4"),i=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o="[DEFAULT]",a=[],s=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){a.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){a=a.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=o),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==o?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;r.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(a.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),a=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},t}();function u(t,e){throw l.create(t,e)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var l=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),c=!1;try{c="[object process]"===Object.prototype.toString.call(global.process)}catch(f){}c&&console.warn('\nWarning: This is a browser-targeted Firebase bundle but it appears it is being\nrun in a Node environment.  If running in a Node environment, make sure you\nare using the bundle specified by the "main" field in package.json.\n\nIf you are using Webpack, you can specify "main" as the first item in\n"resolve.mainFields":\nhttps://webpack.js.org/configuration/resolve/#resolvemainfields\n\nIf using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\nto false and "main" to true:\nhttps://github.com/rollup/rollup-plugin-node-resolve\n');var h=function t(){var e={},n={},a={},l={__esModule:!0,initializeApp:function(t,n){void 0===n&&(n={}),("object"!=typeof n||null===n)&&(n={name:n});var r=n;void 0===r.name&&(r.name=o);var a=r.name;"string"==typeof a&&a||u("bad-app-name",{name:a+""}),i(e,a)&&u("duplicate-app",{name:a});var c=new s(t,r,l);return e[a]=c,f(c,"create"),c},app:c,apps:null,Promise:Promise,SDK_VERSION:"5.9.3",INTERNAL:{registerService:function(t,e,i,o,f){n[t]&&u("duplicate-service",{name:t}),n[t]=e,o&&(a[t]=o,h().forEach(function(t){o("create",t)}));var p=function(e){return void 0===e&&(e=c()),"function"!=typeof e[t]&&u("invalid-app-argument",{name:t}),e[t]()};return void 0!==i&&r.deepExtend(p,i),l[t]=p,s.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,f?e:[])},p},createFirebaseNamespace:t,extendNamespace:function(t){r.deepExtend(l,t)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(t){f(e[t],"delete"),delete e[t]},factories:n,useAsService:p,Promise:Promise,deepExtend:r.deepExtend}};function c(t){return i(e,t=t||o)||u("no-app",{name:t}),e[t]}function h(){return Object.keys(e).map(function(t){return e[t]})}function f(t,e){Object.keys(n).forEach(function(n){var r=p(0,n);null!==r&&a[r]&&a[r](e,t)})}function p(t,e){return"serverAuth"===e?null:e}return r.patchProperty(l,"default",l),Object.defineProperty(l,"apps",{get:h}),r.patchProperty(c,"App",s),l}();e.firebase=h,e.default=h},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"createWebChannelTransport",function(){return We}),n.d(e,"ErrorCode",function(){return Ke}),n.d(e,"EventType",function(){return Ge}),n.d(e,"WebChannel",function(){return Ye}),n.d(e,"XhrIo",function(){return Je});var r,i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},a=i;function s(t){return"string"==typeof t}function u(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function l(){}function c(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){return"array"==c(t)}function f(t){var e=c(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),y=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function v(t,e,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:g).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var b=Date.now||function(){return+new Date};function w(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.re=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function C(){this.i=this.i,this.j=this.j}C.prototype.i=!1,C.prototype.La=function(){!this.i&&(this.i=!0,this.G(),0)&&(this[d]||(this[d]=++y))},C.prototype.G=function(){if(this.j)for(;this.j.length;)this.j.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},S=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=s(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function T(t){return Array.prototype.concat.apply([],arguments)}function D(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function I(t){return/^[\s\xa0]*$/.test(t)}var O,A=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function x(t,e){return-1!=t.indexOf(e)}function k(t,e){return t<e?-1:t>e?1:0}t:{var N=a.navigator;if(N){var P=N.userAgent;if(P){O=P;break t}}O=""}function R(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function M(t){var e,n={};for(e in t)n[e]=t[e];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=l;var V,B,U=x(O,"Opera"),q=x(O,"Trident")||x(O,"MSIE"),z=x(O,"Edge"),Q=z||q,H=x(O,"Gecko")&&!(x(O.toLowerCase(),"webkit")&&!x(O,"Edge"))&&!(x(O,"Trident")||x(O,"MSIE"))&&!x(O,"Edge"),W=x(O.toLowerCase(),"webkit")&&!x(O,"Edge");function K(){var t=a.document;return t?t.documentMode:void 0}t:{var G="",Y=(B=O,H?/rv:([^\);]+)(\)|;)/.exec(B):z?/Edge\/([\d\.]+)/.exec(B):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):W?/WebKit\/(\S+)/.exec(B):U?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(Y&&(G=Y?Y[1]:""),q){var J=K();if(null!=J&&J>parseFloat(G)){V=String(J);break t}}V=G}var Z,X={};function $(t){return function(t,e){var n=X;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=A(String(V)).split("."),r=A(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=k(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||k(0==a[2].length,0==s[2].length)||k(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var tt=a.document;Z=tt&&q?K()||("CSS1Compat"==tt.compatMode?parseInt(V,10):5):void 0;var et=!q||9<=Number(Z),nt=q&&!$("9"),rt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",l,e),a.removeEventListener("test",l,e)}catch(n){}return t}();function it(t,e){this.type=t,this.a=this.target=e,this.b=!1,this.hc=!0}function ot(t,e){it.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.f=null,t&&this.g(t,e)}it.prototype.c=function(){this.hc=!1},w(ot,it);var at={2:"touch",3:"pen",4:"mouse"};ot.prototype.g=function(t,e){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(H){t:{try{j(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.f=t,t.defaultPrevented&&this.c()},ot.prototype.c=function(){ot.S.c.call(this);var t=this.f;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,nt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var st="closure_listenable_"+(1e6*Math.random()|0),ut=0;function lt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ya=i,this.key=++ut,this.ja=this.oa=!1}function ct(t){this.src=t,this.a={},this.b=0}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ja&&o.listener==e&&o.capture==!!n&&o.ya==r)return i}return-1}lt.prototype.a=function(){this.ja=!0,this.ya=this.src=this.proxy=this.listener=null},(r=ct.prototype).add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ht(t,e,r,i);return-1<a?(e=t[a],n||(e.oa=!1)):((e=new lt(e,this.src,o,!!r,i)).oa=n,t.push(e)),e},r.Sc=function(t,e,n,r){if((t=t.toString())in this.a){var i=this.a[t];-1<(e=ht(i,e,n,r))&&(i[e].a(),Array.prototype.splice.call(i,e,1),0==i.length&&(delete this.a[t],this.b--))}},r.fc=function(t){var e=t.type;if(e in this.a){var n,r=this.a[e],i=E(r,t);(n=0<=i)&&Array.prototype.splice.call(r,i,1),n&&(t.a(),0==this.a[e].length&&(delete this.a[e],this.b--))}},r.Tc=function(){var t;for(t in this.a){for(var e=this.a[t],n=0;n<e.length;n++)e[n].a();delete this.a[t],this.b--}},r.Rc=function(t,e,n,r){var i=-1;return(t=this.a[t.toString()])&&(i=ht(t,e,n,r)),-1<i?t[i]:null};var ft="closure_lm_"+(1e6*Math.random()|0),pt={};function dt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(h(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=wt(r),e&&e[st]?e.Mb(n,r,p(i)?!!i.capture:!!i,o):yt(e,n,r,!0,i,o)}(t,e,n,r,i);if(h(e)){for(var o=0;o<e.length;o++)dt(t,e[o],n,r,i);return null}return n=wt(n),t&&t[st]?t.Lb(e,n,p(r)?!!r.capture:!!r,i):yt(t,e,n,!1,r,i)}function yt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i;if(a&&!et)return null;var s=_t(t);if(s||(t[ft]=s=new ct(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=vt,e=et?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)rt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function mt(t){if("number"!=typeof t&&t&&!t.ja){var e=t.src;if(e&&e[st])e.nc(t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_t(e))?(n.fc(t),0==n.b&&(n.src=null,e[ft]=null)):t.a()}}}function gt(t){return t in pt?pt[t]:pt[t]="on"+t}function vt(t,e){return!!t.ja||function(t,e){var n=t.listener,r=t.ya||t.src;return t.oa&&mt(t),n.call(r,e)}(t,et?new ot(e,this):e=new ot(e||u("window.event"),this))}function _t(t){return(t=t[ft])instanceof ct?t:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(t){return"function"==c(t)?t:(t[bt]||(t[bt]=function(e){return t.handleEvent(e)}),t[bt])}function Ct(){C.call(this),this.c=new ct(this),this.K=this,this.F=null}w(Ct,C),Ct.prototype[st]=!0,(r=Ct.prototype).addEventListener=function(t,e,n,r){dt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(h(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=p(i)?!!i.capture:!!i,r=wt(r),e&&e[st]?e.Qc(n,r,i,o):e&&(e=_t(e))&&(n=e.Rc(n,r,i,o))&&mt(n)}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.F;if(n)for(e=[];n;n=n.F)e.push(n);n=this.K;var r=t.type||t;if(s(t))t=new it(t,n);else if(t instanceof it)t.target=t.target||n;else{var i=t;L(t=new it(r,n),i)}if(i=!0,e)for(var o=e.length-1;!t.b&&0<=o;o--){var a=t.a=e[o];i=a.ua(r,!0,t)&&i}if(t.b||(i=(a=t.a=n).ua(r,!0,t)&&i,t.b||(i=a.ua(r,!1,t)&&i)),e)for(o=0;!t.b&&o<e.length;o++)i=(a=t.a=e[o]).ua(r,!1,t)&&i;return i},r.G=function(){Ct.S.G.call(this),this.Id(),this.F=null},r.Lb=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Mb=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)},r.Qc=function(t,e,n,r){this.c.Sc(String(t),e,n,r)},r.nc=function(t){this.c.fc(t)},r.Id=function(){this.c&&this.c.Tc()},r.ua=function(t,e,n){if(!(t=this.c.a[String(t)]))return!0;t=t.concat();for(var r=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ja&&o.capture==e){var a=o.listener,s=o.ya||o.src;o.oa&&this.nc(o),r=!1!==a.call(s,n)&&r}}return r&&0!=n.hc};var Et=a.JSON.stringify;function St(t,e){this.g=100,this.c=t,this.h=e,this.b=0,this.a=null}function Tt(){this.b=this.a=null}St.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t},St.prototype.f=function(t){this.h(t),this.b<this.g&&(this.b++,t.next=this.a,this.a=t)};var Dt,It=new St(function(){return new Ot},function(t){t.reset()});function Ot(){this.next=this.b=this.a=null}function At(t){a.setTimeout(function(){throw t},0)}Tt.prototype.add=function(t,e){var n=this.c();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Tt.prototype.f=function(){var t=null;return this.a&&(t=this.a,this.a=this.a.next,this.a||(this.b=null),t.next=null),t},Tt.prototype.g=function(t){It.f(t)},Tt.prototype.c=function(){return It.get()},Ot.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ot.prototype.reset=function(){this.next=this.b=this.a=null};var xt=!1,kt=new Tt;function Nt(){for(var t;t=kt.f();){try{t.a.call(t.b)}catch(e){At(e)}kt.g(t)}xt=!1}function Pt(t,e){Ct.call(this),this.b=t||1,this.a=e||a,this.f=v(this.$d,this),this.g=b()}function Rt(t,e,n){if("function"==c(t))n&&(t=v(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Mt(t,e,n){C.call(this),this.f=null!=n?v(t,n):t,this.c=e,this.b=v(this.Cd,this),this.a=[]}function Ft(t){C.call(this),this.b=t,this.a={}}w(Pt,Ct),(r=Pt.prototype).wa=!1,r.P=null,r.$d=function(){if(this.wa){var t=b()-this.g;0<t&&t<.8*this.b?this.P=this.a.setTimeout(this.f,this.b-t):(this.P&&(this.a.clearTimeout(this.P),this.P=null),this.Gc(),this.wa&&(this.Na(),this.start()))}},r.Gc=function(){this.dispatchEvent("tick")},r.start=function(){this.wa=!0,this.P||(this.P=this.a.setTimeout(this.f,this.b),this.g=b())},r.Na=function(){this.wa=!1,this.P&&(this.a.clearTimeout(this.P),this.P=null)},r.G=function(){Pt.S.G.call(this),this.Na(),delete this.a},w(Mt,C),(r=Mt.prototype).Ca=!1,r.ec=0,r.ba=null,r.Hc=function(t){this.a=arguments,this.ba||this.ec?this.Ca=!0:this.yb()},r.Pc=function(){this.ba&&(a.clearTimeout(this.ba),this.ba=null,this.Ca=!1,this.a=[])},r.G=function(){Mt.S.G.call(this),this.Pc()},r.Cd=function(){this.ba=null,this.Ca&&!this.ec&&(this.Ca=!1,this.yb())},r.yb=function(){this.ba=Rt(this.b,this.c),this.f.apply(null,this.a)},w(Ft,C);var Lt=[];function jt(){}(r=Ft.prototype).Jb=function(t,e,n){this.wd(t,e,n)},r.wd=function(t,e,n){h(e)||(e&&(Lt[0]=e.toString()),e=Lt);for(var r=0;r<e.length;r++){var i=dt(t,e[r],n||this.handleEvent,!1,this.b||this);if(!i)break;this.a[i.key]=i}},r.Kb=function(){R(this.a,function(t,e){this.a.hasOwnProperty(e)&&mt(t)},this),this.a={}},r.G=function(){Ft.S.G.call(this),this.Kb()},r.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=new Ct;function Bt(t){it.call(this,"serverreachability",t)}function Ut(t){Vt.dispatchEvent(new Bt(Vt,t))}function qt(t){it.call(this,"statevent",t)}function zt(t){Vt.dispatchEvent(new qt(Vt,t))}function Qt(t){it.call(this,"timingevent",t)}function Ht(t,e){if("function"!=c(t))throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){t()},e)}w(Bt,it),w(qt,it),w(Qt,it);var Wt={NO_ERROR:0,ae:1,he:2,ge:3,de:4,fe:5,ie:6,qc:7,TIMEOUT:8,le:9},Kt={ce:"complete",pe:"success",rc:"error",qc:"abort",ne:"ready",oe:"readystatechange",TIMEOUT:"timeout",je:"incrementaldata",me:"progress",ee:"downloadprogress",qe:"uploadprogress"};function Gt(){}function Yt(){}Gt.prototype.a=null,Gt.prototype.c=function(){return this.a||(this.a={})};var Jt,Zt={OPEN:"a",be:"b",rc:"c",ke:"d"};function Xt(){it.call(this,"d")}function $t(){it.call(this,"c")}function te(){}function ee(t,e,n){this.g=t,this.da=e,this.ca=n||1,this.I=new Ft(this),this.L=ne,this.T=new Pt(t=Q?125:void 0),this.J=null,this.b=!1,this.i=this.C=this.f=this.F=this.u=this.U=this.h=null,this.j=[],this.a=null,this.A=0,this.c=this.v=null,this.o=-1,this.l=!1,this.K=0,this.B=null,this.s=this.Y=this.H=!1}w(Xt,it),w($t,it),w(te,Gt),te.prototype.b=function(){return new XMLHttpRequest},Jt=new te;var ne=45e3,re={},ie={};function oe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||s(t))S(t,e,void 0);else{if(t.O&&"function"==typeof t.O)var n=t.O();else if(t.D&&"function"==typeof t.D)n=void 0;else if(f(t)||s(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.D&&"function"==typeof t.D)return t.D();if(s(t))return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else t&&this.fd(t)}function se(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=ee.prototype).ha=function(t){this.J=t},r.setTimeout=function(t){this.L=t},r.Xc=function(t){this.K=t},r.Qd=function(t){this.j=t},r.cb=function(t,e){this.F=1,this.f=t.N().za(),this.i=e,this.H=!0,this.ic(null)},r.bb=function(t,e,n){this.F=1,this.f=t.N().za(),this.i=null,this.H=e,this.ic(n)},r.ic=function(t){this.u=b(),this.fa(),this.C=this.f.N(),this.C.Aa("t",this.ca),this.A=0,this.a=this.g.sa(this.g.Da()?t:null),0<this.K&&(this.B=new Mt(v(this.oc,this,this.a),this.K)),this.I.Jb(this.a,"readystatechange",this.Hd),t=this.J?M(this.J):{},this.i?(this.v||(this.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",this.a.xa(this.C,this.v,this.i,t)):(this.v="GET",this.a.xa(this.C,this.v,null,t)),Ut(1)},r.Hd=function(t){t=t.target;var e=this.B;e&&3==t.W()?e.Hc():this.oc(t)},r.oc=function(t){try{t==this.a&&this.Ed()}catch(e){}},r.Ed=function(){var t=this.a.W(),e=this.a.Db(),n=this.a.aa();if(!(3>t||3==t&&!Q&&!this.a.va()))if(this.l||4!=t||7==e||Ut(8==e||0>=n?3:2),this.pa(),this.o=n=this.a.aa(),e=this.a.va(),this.b=200==n){if(this.Td()){if(!(n=this.Kc()))return this.b=!1,this.c=3,zt(12),this.Z(),void this.ta();this.s=!0,this.Wa(n)}this.H?(this.vb(t,e),Q&&this.b&&3==t&&this.Yd()):this.Wa(e),4==t&&this.Z(),this.b&&!this.l&&(4==t?this.g.Va(this):(this.b=!1,this.fa()))}else 400==n&&0<e.indexOf("Unknown SID")?(this.c=3,zt(12)):(this.c=0,zt(13)),this.Z(),this.ta()},r.Td=function(){return this.Y&&!this.s},r.Kc=function(){if(this.a){var t=this.a.ga("X-HTTP-Initial-Response");if(t&&!I(t))return t}return null},r.Md=function(){this.Y=!0},r.vb=function(t,e){for(var n=!0;!this.l&&this.A<e.length;){var r=this.Lc(e);if(r==ie){4==t&&(this.c=4,zt(14),n=!1);break}if(r==re){this.c=4,zt(15),n=!1;break}this.Wa(r)}4==t&&0==e.length&&(this.c=1,zt(16),n=!1),this.b=this.b&&n,n||(this.Z(),this.ta())},r.Gd=function(){if(this.a){var t=this.a.W(),e=this.a.va();this.A<e.length&&(this.pa(),this.vb(t,e),this.b&&4!=t&&this.fa())}},r.Yd=function(){this.I.Jb(this.T,"tick",this.Gd),this.T.start()},r.Lc=function(t){var e=this.A,n=t.indexOf("\n",e);return-1==n?ie:(e=Number(t.substring(e,n)),isNaN(e)?re:(n+=1)+e>t.length?ie:(t=t.substr(n,e),this.A=n+e,t))},r.Ld=function(t){this.F=2,this.f=t.N().za(),t=!1,a.navigator&&a.navigator.sendBeacon&&(t=a.navigator.sendBeacon(this.f.toString(),"")),!t&&a.Image&&((new Image).src=this.f,t=!0),t||(this.a=this.g.sa(null),this.a.xa(this.f)),this.u=b(),this.fa()},r.cancel=function(){this.l=!0,this.Z()},r.Kd=function(t){t&&this.setTimeout(t),this.h&&(this.pa(),this.fa())},r.fa=function(){this.U=b()+this.L,this.mc(this.L)},r.mc=function(t){if(null!=this.h)throw Error("WatchDog timer not null");this.h=Ht(v(this.Dd,this),t)},r.pa=function(){this.h&&(a.clearTimeout(this.h),this.h=null)},r.Dd=function(){this.h=null;var t=b();0<=t-this.U?this.md():this.mc(this.U-t)},r.md=function(){2!=this.F&&(Ut(3),zt(17)),this.Z(),this.c=2,this.ta()},r.ta=function(){this.g.Tb()||this.l||this.g.Va(this)},r.Z=function(){this.pa();var t=this.B;t&&"function"==typeof t.La&&t.La(),this.B=null,this.T.Na(),this.I.Kb(),this.a&&(t=this.a,this.a=null,t.abort(),t.La())},r.Wa=function(t){try{this.g.bc(this,t),Ut(4)}catch(e){}},(r=ae.prototype).D=function(){this.Ka();for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.O=function(){return this.Ka(),this.a.concat()},r.Ra=function(t){return se(this.b,t)},r.hd=function(){return 0==this.c},r.gd=function(){this.b={},this.c=this.a.length=0},r.Qb=function(t){se(this.b,t)&&(delete this.b[t],this.c--,this.a.length>2*this.c&&this.Ka())},r.Ka=function(){if(this.c!=this.a.length){for(var t=0,e=0;t<this.a.length;){var n=this.a[t];se(this.b,n)&&(this.a[e++]=n),t++}this.a.length=e}if(this.c!=this.a.length){var r={};for(e=t=0;t<this.a.length;)se(r,n=this.a[t])||(this.a[e++]=n,r[n]=1),t++;this.a.length=e}},r.get=function(t,e){return se(this.b,t)?this.b[t]:e},r.set=function(t,e){se(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.fd=function(t){if(t instanceof ae)for(var e=t.O(),n=0;n<e.length;n++)this.set(e[n],t.get(e[n]));else for(e in t)this.set(e,t[e])},r.forEach=function(t,e){for(var n=this.O(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}},r.Pb=function(){return new ae(this)};var ue=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function le(t,e){var n;this.c=this.i=this.b="",this.h=null,this.j=this.g="",this.f=this.l=!1,t instanceof le?(this.f=void 0!==e?e:t.f,this.ma(t.b),this.$a(t.i),this.ka(t.c),this.la(t.h),this.Ba(t.g),this.Za(t.a.Gb()),this.Ya(t.j)):t&&(n=String(t).match(ue))?(this.f=!!e,this.ma(n[1]||"",!0),this.$a(n[2]||"",!0),this.ka(n[3]||"",!0),this.la(n[4]),this.Ba(n[5]||"",!0),this.Za(n[6]||"",!0),this.Ya(n[7]||"",!0)):(this.f=!!e,this.a=new ve(null,this.f))}function ce(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function he(t,e,n){return s(t)?(t=encodeURI(t).replace(e,fe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(r=le.prototype).toString=function(){var t=[],e=this.b;e&&t.push(he(e,pe,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(he(e,pe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.Sa()&&"/"!=n.charAt(0)&&t.push("/"),t.push(he(n,"/"==n.charAt(0)?ye:de,!0))),(n=this.Ic())&&t.push("?",n),(n=this.j)&&t.push("#",he(n,ge)),t.join("")},r.resolve=function(t){var e=this.N(),n=t.qd();n?e.ma(t.b):n=t.rd(),n?e.$a(t.i):n=t.Sa(),n?e.ka(t.c):n=t.od();var r=t.g;if(n)e.la(t.h);else if(n=t.Sb()){if("/"!=r.charAt(0))if(this.Sa()&&!this.Sb())r="/"+r;else{var i=e.g.lastIndexOf("/");-1!=i&&(r=e.g.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(x(i,"./")||x(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.Ba(r):n=t.pd(),n?e.Za(t.a.Gb()):n=t.nd(),n&&e.Ya(t.j),e},r.N=function(){return new le(this)},r.ma=function(t,e){this.M(),(this.b=e?ce(t,!0):t)&&(this.b=this.b.replace(/:$/,""))},r.qd=function(){return!!this.b},r.$a=function(t,e){this.M(),this.i=e?ce(t):t},r.rd=function(){return!!this.i},r.ka=function(t,e){this.M(),this.c=e?ce(t,!0):t},r.Sa=function(){return!!this.c},r.la=function(t){if(this.M(),t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);this.h=t}else this.h=null},r.od=function(){return null!=this.h},r.Ba=function(t,e){this.M(),this.g=e?ce(t,!0):t},r.Sb=function(){return!!this.g},r.pd=function(){return""!==this.a.toString()},r.Za=function(t,e){this.M(),t instanceof ve?(this.a=t,this.a.Oc(this.f)):(e||(t=he(t,me)),this.a=new ve(t,this.f))},r.Ic=function(){return this.a.toString()},r.m=function(t,e){this.M(),this.a.set(t,e)},r.Aa=function(t,e){this.M(),h(e)||(e=[String(e)]),this.a.lc(t,e)},r.Ya=function(t,e){this.M(),this.j=e?ce(t):t},r.nd=function(){return!!this.j},r.za=function(){return this.M(),this.m("zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^b()).toString(36)),this},r.M=function(){if(this.l)throw Error("Tried to modify a read-only Uri")};var pe=/[#\/\?@]/g,de=/[#\?:]/g,ye=/[#\?]/g,me=/[#\?@]/g,ge=/#/g;function ve(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function _e(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function be(){this.a=this.b=null}function we(){this.a=new ae}function Ce(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[d]||(t[d]=++y)):e.charAt(0)+t}function Ee(t,e){this.a=t,this.b=e}function Se(t){this.g=t||Te,t=a.PerformanceNavigationTiming?0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(a.Ja&&a.Ja.Vb&&a.Ja.Vb()&&a.Ja.Vb().te),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new we),this.b=null,this.c=[]}(r=ve.prototype).V=function(){if(!this.a&&(this.a=new ae,this.b=0,this.c)){var t=this;!function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(this.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})}},r.add=function(t,e){this.V(),this.ia(),t=this.$(t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.Ib=function(t){this.V(),t=this.$(t),this.a.Ra(t)&&(this.ia(),this.b-=this.a.get(t).length,this.a.Qb(t))},r.Hb=function(t){return this.V(),t=this.$(t),this.a.Ra(t)},r.forEach=function(t,e){this.V(),this.a.forEach(function(n,r){S(n,function(n){t.call(e,n,r,this)},this)},this)},r.O=function(){this.V();for(var t=this.a.D(),e=this.a.O(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.D=function(t){this.V();var e=[];if(s(t))this.Hb(t)&&(e=T(e,this.a.get(this.$(t))));else{t=this.a.D();for(var n=0;n<t.length;n++)e=T(e,t[n])}return e},r.set=function(t,e){return this.V(),this.ia(),t=this.$(t),this.Hb(t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.D(t)).length?String(t[0]):e},r.lc=function(t,e){this.Ib(t),0<e.length&&(this.ia(),this.a.set(this.$(t),D(e)),this.b+=e.length)},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.O(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.D(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")},r.ia=function(){this.c=null},r.Gb=function(){var t=new ve;return t.c=this.c,this.a&&(t.a=this.a.Pb(),t.b=this.b),t},r.$=function(t){return t=String(t),this.f&&(t=t.toLowerCase()),t},r.Oc=function(t){t&&!this.f&&(this.V(),this.ia(),this.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(this.Ib(e),this.lc(n,t))},this)),this.f=t},w(function(){},function(){}),(r=_e.prototype).R=null,r.Wc=function(t){this.h=t},r.Vc=function(t){this.i=t,t=this.a.Cb(this.i),zt(3);var e=this.a.H.b;null!=e?(this.f=this.a.Oa(e[0]),this.R=1,this.rb()):(t.Aa("MODE","init"),!this.a.o&&this.a.j&&t.Aa("X-HTTP-Session-Id",this.a.j),this.b=new ee(this,void 0,void 0),this.b.ha(this.h),this.b.bb(t,!1,null),this.R=0)},r.rb=function(){var t=this.a.H.a;if(null!=t)zt(4),t?(zt(10),this.a.na(this,!1)):(zt(11),this.a.na(this,!0));else{this.b=new ee(this,void 0,void 0),this.b.ha(this.h),t=this.a.Bb(this.f,this.i),zt(4),t.Aa("TYPE","xmlhttp");var e=this.a.j,n=this.a.Fa;e&&n&&t.m(e,n),this.b.bb(t,!1,this.f)}},r.sa=function(t){return this.a.sa(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Tb=function(){return!1},r.bc=function(t,e){if(this.c=t.o,0==this.R)if(this.Uc(t),e){try{var n=this.a.U.a(e)}catch(r){return void this.a.ab(this)}this.f=this.a.Oa(n[0])}else this.a.ab(this);else 1==this.R&&(this.g?zt(6):"11111"==e?(zt(5),this.g=!0,this.Ac()&&(this.c=200,this.b.cancel(),zt(11),this.a.na(this,!0))):(zt(7),this.g=!1))},r.Va=function(){this.c=this.b.o,this.b.b?0==this.R?(this.R=1,this.rb()):1==this.R&&(this.g?(zt(11),this.a.na(this,!0)):(zt(10),this.a.na(this,!1))):(0==this.R?zt(8):1==this.R&&zt(9),this.a.ab(this))},r.Uc=function(t){if(!this.a.o&&(t=t.a)){var e=t.ga("X-Client-Wire-Protocol");this.l=e||null,this.a.j&&(t=t.ga("X-HTTP-Session-Id"))&&this.a.kc(t)}},r.Da=function(){return this.a.Da()},r.Pa=function(){return this.a.Pa()},r.Ac=function(){return!q||10<=Number(Z)},(r=we.prototype).add=function(t){this.a.set(Ce(t),t)},r.ed=function(t){this.a.Qb(Ce(t))},r.jd=function(){this.a.gd()},r.Rb=function(){return this.a.hd()},r.Ob=function(t){return this.a.Ra(Ce(t))},r.D=function(){return this.a.D()};var Te=10;function De(){this.b=this.a=void 0}function Ie(){this.f=new De}function Oe(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}(r=Se.prototype).kb=function(t){!this.a&&(x(t,"spdy")||x(t,"quic")||x(t,"h2"))&&(this.f=this.g,this.a=new we,this.b&&(this.Ha(this.b),this.b=null))},r.Ub=function(){return!!this.b||!!this.a&&this.a.a.c>=this.f},r.Mc=function(){return this.b?1:this.a?this.a.a.c:0},r.Ta=function(t){return this.b?this.b==t:!!this.a&&this.a.Ob(t)},r.Ha=function(t){this.a?this.a.add(t):this.b=t},r.gc=function(t){this.b&&this.b==t?this.b=null:this.a&&this.a.Ob(t)&&this.a.ed(t)},r.cancel=function(){this.c=this.Xb(),this.b?(this.b.cancel(),this.b=null):this.a&&!this.a.Rb()&&(S(this.a.D(),function(t){t.cancel()}),this.a.jd())},r.Xb=function(){if(null!=this.b)return this.c.concat(this.b.j);if(null!=this.a&&!this.a.Rb()){var t=this.c;return S(this.a.D(),function(e){t=t.concat(e.j)}),t}return D(this.c)},r.wc=function(t){this.c=this.c.concat(t)},r.Bc=function(){this.c.length=0},De.prototype.stringify=function(t){return a.JSON.stringify(t,this.a)},De.prototype.parse=function(t){return a.JSON.parse(t,this.b)},Ie.prototype.b=function(t,e,n){var r=n||"";try{oe(t,function(t,n){var i=t;p(t)&&(i=Et(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}},Ie.prototype.c=function(t,e,n){for(var r=-1;;){var i=["count="+e];-1==r?0<e?i.push("ofs="+(r=t[0].a)):r=0:i.push("ofs="+r);for(var o=!0,a=0;a<e;a++){var s=t[a].a,u=t[a].b;if(0>(s-=r))r=Math.max(0,t[a].a-100),o=!1;else try{this.b(u,i,"req"+s+"_")}catch(l){n&&n(u)}}if(o)return i.join("&")}},Ie.prototype.a=function(t){return this.f.parse(t)};var Ae=a.JSON.parse;function xe(t){Ct.call(this),this.headers=new ae,this.l=t||null,this.b=!1,this.v=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.o=this.A=!1,this.u=0,this.s=null,this.J=ke,this.H=this.L=this.I=!1}w(xe,Ct);var ke="",Ne=/^https?$/i,Pe=["POST","PUT"];function Re(t){return"content-type"==t.toLowerCase()}function Me(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}}function Fe(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return R(n,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(),s(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return t.m(e,n),t}function Le(t){this.gb=22,this.g=[],this.H=new be,this.da=this.fb=this.C=this.Ea=this.a=this.Fa=this.j=this.ca=this.f=this.J=this.h=null,this.sc=!0,this.zc=this.L=0,this.uc=!!u("internalChannelParams.failFast",t),this.Ga=this.v=this.s=this.l=this.i=this.b=null,this.eb=!0,this.B=this.jb=this.K=-1,this.Y=this.u=this.A=0,this.tc=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Fc=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.pc=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.ib=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.xc=t&&t.ue||void 0,this.F=void 0,this.vc=0,this.T=t&&t.supportsCrossDomainXhr||!1,this.I="",this.c=new Se(t&&t.concurrentRequestLimit),this.U=new Ie,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.hb=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.se&&(this.eb=!1)}function je(){}function Ve(){if(q&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function Be(t,e){Ct.call(this),this.a=new Le(e),this.g=t,this.o=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.cd(t),t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.tb&&(t?t["X-WebChannel-Client-Profile"]=e.tb:t={"X-WebChannel-Client-Profile":e.tb}),this.a.Pd(t),(t=e&&e.httpHeadersOverwriteParam)&&!I(t)&&this.a.Nd(t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!I(e)&&(this.a.Od(e),null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ze(this)}function Ue(t){Xt.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.f=t)?(t=this.f,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function qe(){$t.call(this),this.status=1}function ze(t){this.a=t}(r=xe.prototype).Sd=function(t){this.I=t},r.xa=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.Ec(),this.v=this.l?this.l.c():Jt.c(),this.a.onreadystatechange=v(this.ac,this),this.L&&"onprogress"in this.a&&(this.a.onprogress=v(function(t){this.Zb(t,!0)},this),this.a.upload&&(this.a.upload.onprogress=v(this.Zb,this)));try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void this.Ab(o)}t=n||"";var i=this.headers.Pb();r&&oe(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Re,n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(i.O()),n=a.FormData&&t instanceof a.FormData,!(0<=E(Pe,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.J&&(this.a.responseType=this.J),"withCredentials"in this.a&&this.a.withCredentials!==this.I&&(this.a.withCredentials=this.I);try{this.sb(),0<this.u&&((this.H=function(t){return q&&$(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.u,this.a.ontimeout=v(this.Nb,this)):this.s=Rt(this.Nb,this.u,this)),this.o=!0,this.a.send(t),this.o=!1}catch(o){this.Ab(o)}},r.Ec=function(){return this.l?this.l.b():Jt.b()},r.Nb=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.u+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.Ab=function(t){this.b=!1,this.a&&(this.g=!0,this.a.abort(),this.g=!1),this.f=t,this.h=5,this.xb(),this.qa()},r.xb=function(){this.A||(this.A=!0,this.dispatchEvent("complete"),this.dispatchEvent("error"))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.qa())},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),this.qa(!0)),xe.S.G.call(this)},r.ac=function(){this.i||(this.B||this.o||this.g?this.$b():this.Bd())},r.Bd=function(){this.$b()},r.$b=function(){if(this.b&&void 0!==o&&(!this.v[1]||4!=this.W()||2!=this.aa()))if(this.o&&4==this.W())Rt(this.ac,0,this);else if(this.dispatchEvent("readystatechange"),this.td()){this.b=!1;try{this.vd()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):(this.h=6,this.f=this.Fb()+" ["+this.aa()+"]",this.xb())}finally{this.qa()}}},r.Zb=function(t,e){this.dispatchEvent(Me(t,"progress")),this.dispatchEvent(Me(t,e?"downloadprogress":"uploadprogress"))},r.qa=function(t){if(this.a){this.sb();var e=this.a,n=this.v[0]?l:null;this.v=this.a=null,t||this.dispatchEvent("ready");try{e.onreadystatechange=n}catch(r){}}},r.sb=function(){this.a&&this.H&&(this.a.ontimeout=null),this.s&&(a.clearTimeout(this.s),this.s=null)},r.td=function(){return 4==this.W()},r.vd=function(){var t=this.aa();t:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}return e||0===t&&!this.ud()},r.ud=function(){var t=String(this.C).match(ue)[1]||null;return!t&&a.self&&a.self.location&&(t=(t=a.self.location.protocol).substr(0,t.length-1)),Ne.test(t?t.toLowerCase():"")},r.W=function(){return this.a?this.a.readyState:0},r.aa=function(){try{return 2<this.W()?this.a.status:-1}catch(B){return-1}},r.Fb=function(){try{return 2<this.W()?this.a.statusText:""}catch(B){return""}},r.va=function(){try{return this.a?this.a.responseText:""}catch(B){return""}},r.Nc=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ae(e)}},r.ga=function(t){return this.a?this.a.getResponseHeader(t):null},r.Db=function(){return this.h},r.dd=function(){return s(this.f)?this.f:String(this.f)},(r=Le.prototype).qb=8,r.w=1,r.bd=function(t,e,n){zt(0),this.Ea=e,this.ca=n||{},this.o&&(this.H.b=[],this.H.a=!1),this.Dc(t)},r.Qa=function(){if(this.lb(),3==this.w){var t=this.L++,e=this.C.N();e.m("SID",this.I),e.m("RID",t),e.m("TYPE","terminate"),this.ea(e),new ee(this,t,void 0).Ld(e)}this.Yb()},r.Dc=function(t){this.v=new _e(this),null===this.f&&this.v.Wc(this.h);var e=t;this.f&&this.h&&(e=Fe(t,this.f,this.h)),this.v.Vc(e)},r.Cc=function(){this.C=this.Cb(this.Ea),this.Ma()},r.lb=function(){this.v&&(this.v.abort(),this.v=null),this.a&&(this.a.cancel(),this.a=null),this.l&&(a.clearTimeout(this.l),this.l=null),this.ra(),this.c.cancel(),this.i&&(a.clearTimeout(this.i),this.i=null)},r.cd=function(t){this.h=t},r.Pd=function(t){this.J=t},r.Nd=function(t){this.f=t},r.Od=function(t){this.j=t},r.kc=function(t){this.Fa=t},r.Rd=function(){this.T=!0},r.jc=function(t){this.b=t},r.sd=function(){return!this.Ga},r.Xa=function(t){this.g.push(new Ee(this.zc++,t)),3==this.w&&this.Ma()},r.Jc=function(){return this.uc?0:this.pc},r.Tb=function(){return 0==this.w},r.Ma=function(){this.c.Ub()||this.i||(this.i=Ht(v(this.dc,this),0),this.A=0)},r.xd=function(t){return!(this.c.Mc()>=this.c.f-(this.i?1:0)||(this.i?(this.g=t.j.concat(this.g),0):1==this.w||2==this.w||this.A>=this.Jc()||(this.i=Ht(v(this.dc,this,t),this.Eb(this.A)),this.A++,0)))},r.dc=function(t){this.i=null,this.Xd(t)},r.Xd=function(t){1==this.w?t||(this.Fd(),this.w=2):3==this.w&&(t?this.Wb(t):0==this.g.length||this.c.Ub()||this.Wb())},r.Fd=function(){this.L=Math.floor(1e5*Math.random());var t=this.L++,e=new ee(this,t,void 0),n=this.h;this.J&&(n?L(n=M(n),this.J):n=this.J),null===this.f&&e.ha(n);var r=this.wb(e),i=this.C.N();i.m("RID",t),0<this.gb&&i.m("CVER",this.gb),this.o&&this.j&&i.m("X-HTTP-Session-Id",this.j),this.ea(i),this.f&&n&&Fe(i,this.f,n),this.c.Ha(e),this.hb?(i.m("$req",r),i.m("SID","null"),e.Md(),e.cb(i,null)):e.cb(i,r)},r.Wb=function(t){var e;e=t?t.da:this.L++;var n=this.C.N();n.m("SID",this.I),n.m("RID",e),n.m("AID",this.K),this.ea(n),this.f&&this.h&&Fe(n,this.f,this.h),e=new ee(this,e,this.A+1),null===this.f&&e.ha(this.h),t&&this.Jd(t),t=this.wb(e),e.setTimeout(Math.round(.5*this.ib)+Math.round(.5*this.ib*Math.random())),this.c.Ha(e),e.cb(n,t)},r.ea=function(t){this.b&&oe({},function(e,n){t.m(n,e)})},r.wb=function(t){var e=Math.min(this.g.length,1e3),n=this.b?v(this.b.yc,this.b,this):null;return n=this.U.c(this.g,e,n),t.Qd(this.g.splice(0,e)),n},r.Jd=function(t){this.g=t.j.concat(this.g)},r.zb=function(){if(!this.a&&!this.l){this.Y=1;var t=this.cc;Dt||function(){var t=a.Promise.resolve(void 0);Dt=function(){t.then(Nt)}}(),xt||(Dt(),xt=!0),kt.add(t,this),this.u=0}},r.Ua=function(){return!(this.a||this.l||3<=this.u||(this.Y++,this.l=Ht(v(this.cc,this),this.Eb(this.u)),this.u++,0))},r.cc=function(){this.l=null,this.Vd()},r.Vd=function(){this.a=new ee(this,"rpc",this.Y),null===this.f&&this.a.ha(this.h),this.a.Xc(this.vc);var t=this.fb.N();t.m("RID","rpc"),t.m("SID",this.I),t.m("CI",this.Ga?"0":"1"),t.m("AID",this.K),this.ea(t),t.m("TYPE","xmlhttp"),this.f&&this.h&&Fe(t,this.f,this.h),this.F&&this.a.setTimeout(this.F),this.a.bb(t,!0,this.da)},r.na=function(t,e){var n=t.l;n&&this.c.kb(n),this.Ga=this.eb&&e,this.B=t.c,this.Cc()},r.ab=function(t){this.B=t.c,this.X(2)},r.bc=function(t,e){if(0!=this.w&&(this.a==t||this.c.Ta(t)))if(this.B=t.o,!t.s&&this.c.Ta(t)&&3==this.w){try{var n=this.U.a(e)}catch(r){n=null}h(n)&&3==n.length?this.ld(n,t):this.X(11)}else(t.s||this.a==t)&&this.ra(),I(e)||(n=this.U.a(e),this.Ad(n,t))},r.ld=function(t,e){0==t[0]?this.kd(e):(this.jb=t[1],0<this.jb-this.K&&this.Ud(t[2])&&!this.s&&(this.s=Ht(v(this.yd,this),6e3)))},r.kd=function(t){if(!this.l){if(this.a){if(!(this.a.u+3e3<t.u))return;this.ra(),this.a.cancel(),this.a=null}this.Ua(),zt(18)}},r.Ud=function(t){return 37500>t&&!this.sd()&&0==this.u},r.Oa=function(t){return this.sc?this.b?this.b.$c(t):t:null},r.yd=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,this.Ua(),zt(19))},r.ra=function(){null!=this.s&&(a.clearTimeout(this.s),this.s=null)},r.Va=function(t){var e=null;if(this.a==t){this.ra(),this.a=null;var n=2}else{if(!this.c.Ta(t))return;e=t.j,this.c.gc(t),n=1}if(this.B=t.o,0!=this.w)if(t.b)1==n?(n=b()-t.u,Vt.dispatchEvent(new Qt(Vt,t.i?t.i.length:0,n,this.A)),this.Ma()):this.zb();else{var r=t.c;if(3==r||0==r&&0<this.B||!(1==n&&this.xd(t)||2==n&&this.Ua()))switch(e&&0<e.length&&this.c.wc(e),r){case 1:this.X(5);break;case 4:this.X(10);break;case 3:this.X(6);break;default:this.X(2)}}},r.Eb=function(t){var e=this.tc+Math.floor(Math.random()*this.Fc);return this.Pa()||(e*=2),e*t},r.ad=function(t){if(this.o&&(t=t.a)){var e=t.ga("X-Client-Wire-Protocol");e&&this.c.kb(e),this.j&&(t=t.ga("X-HTTP-Session-Id"))&&(this.kc(t),this.C.m(this.j,t))}},r.Ad=function(t,e){for(var n=this.b&&this.b.Ia?[]:null,r=0;r<t.length;r++){var i=t[r];if(this.K=i[0],i=i[1],2==this.w)if("c"==i[0]){this.I=i[1],this.da=this.Oa(i[2]);var o=i[3];null!=o&&(this.qb=o),null!=(i=i[5])&&"number"==typeof i&&0<i&&(this.F=1.5*i),this.ad(e),this.w=3,this.b&&this.b.pb(),this.Wd(e)}else"stop"!=i[0]&&"close"!=i[0]||this.X(7);else 3==this.w&&("stop"==i[0]||"close"==i[0]?(n&&0!=n.length&&(this.b.Ia(this,n),n.length=0),"stop"==i[0]?this.X(7):this.Qa()):"noop"!=i[0]&&(n?n.push(i):this.b&&this.b.ob(i)),this.u=0)}n&&0!=n.length&&this.b.Ia(this,n)},r.Wd=function(t){this.fb=this.Bb(this.da,this.Ea),t.s?(this.c.gc(t),t.Kd(this.F),this.a=t):this.zb()},r.X=function(t){if(2==t){var e=null;this.b&&(e=null);var n=v(this.Zd,this);e||(e=new le("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||e.ma("https"),e.za()),function(t,e){var n=new jt,r=new Image;r.onload=_(Oe,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(Oe,n,r,"TestLoadImage: error",!1,e),r.onabort=_(Oe,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(Oe,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}(e.toString(),n)}else zt(2);this.zd(t)},r.Zd=function(t){zt(t?2:1)},r.zd=function(t){this.w=0,this.b&&this.b.nb(t),this.Yb(),this.lb()},r.Yb=function(){this.w=0,this.B=-1,this.b&&(0==this.c.Xb().length&&0==this.g.length||(this.c.Bc(),D(this.g),this.g.length=0),this.b.mb())},r.Cb=function(t){return this.ub(null,t)},r.Bb=function(t,e){return this.ub(this.Da()?t:null,e)},r.ub=function(t,e){var n=function(t){return t instanceof le?t.N():new le(t,void 0)}(e);if(""!=n.c)t&&n.ka(t+"."+n.c),n.la(n.h);else{var r=a.location;n=function(t,e,n,r){var i=new le(null,void 0);return t&&i.ma(t),e&&i.ka(e),n&&i.la(n),r&&i.Ba(r),i}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return this.ca&&R(this.ca,function(t,e){n.m(e,t)}),e=this.Fa,(t=this.j)&&e&&n.m(t,e),n.m("VER",this.qb),this.ea(n),n},r.sa=function(t){if(t&&!this.T)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new xe(this.xc)).Sd(this.T),t},r.Pa=function(){return!!this.b&&!0},r.Da=function(){return this.T},(r=je.prototype).Ia=null,r.pb=function(){},r.ob=function(){},r.nb=function(){},r.mb=function(){},r.yc=function(){},r.$c=function(t){return t},Ve.prototype.a=function(t,e){return new Be(t,e)},w(Be,Ct),(r=Be.prototype).addEventListener=function(t,e,n,r){Be.S.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){Be.S.removeEventListener.call(this,t,e,n,r)},r.Yc=function(){this.a.jc(this.f),this.l&&this.a.Rd(),this.a.bd(this.o,this.g,this.b||void 0)},r.close=function(){this.a.Qa()},r.Zc=function(t){if(s(t)){var e={};e.__data__=t,this.a.Xa(e)}else this.h?((e={}).__data__=Et(t),this.a.Xa(e)):this.a.Xa(t)},r.G=function(){this.a.jc(null),delete this.f,this.a.Qa(),delete this.a,Be.S.G.call(this)},w(Ue,Xt),w(qe,$t),w(ze,je),ze.prototype.pb=function(){this.a.dispatchEvent("a")},ze.prototype.ob=function(t){this.a.dispatchEvent(new Ue(t))},ze.prototype.nb=function(t){this.a.dispatchEvent(new qe(t))},ze.prototype.mb=function(){this.a.dispatchEvent("b")};var Qe=_(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Ve);Ve.prototype.createWebChannel=Ve.prototype.a,Be.prototype.send=Be.prototype.Zc,Be.prototype.open=Be.prototype.Yc,Be.prototype.close=Be.prototype.close,Wt.NO_ERROR=0,Wt.TIMEOUT=8,Wt.HTTP_ERROR=6,Kt.COMPLETE="complete",Yt.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",Ct.prototype.listen=Ct.prototype.Lb,xe.prototype.listenOnce=xe.prototype.Mb,xe.prototype.getLastError=xe.prototype.dd,xe.prototype.getLastErrorCode=xe.prototype.Db,xe.prototype.getStatus=xe.prototype.aa,xe.prototype.getStatusText=xe.prototype.Fb,xe.prototype.getResponseJson=xe.prototype.Nc,xe.prototype.getResponseText=xe.prototype.va,xe.prototype.send=xe.prototype.xa;var He={createWebChannelTransport:Qe,ErrorCode:Wt,EventType:Kt,WebChannel:Yt,XhrIo:xe},We=He.createWebChannelTransport,Ke=He.ErrorCode,Ge=He.EventType,Ye=He.WebChannel,Je=He.XhrIo;e.default=He},xTla:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},y2cN:function(t,e,n){t.exports=n("HefZ"),n("9UdO"),n("FoKB"),n("QURa")},y3By:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("+umK");function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r.a}},yC6l:function(t,e,n){n("Ksdp"),t.exports=n("4Ea8").Object.assign},ySdl:function(t,e,n){var r=n("3Gxb"),i=n("fw2a"),o=n("bcPd"),a=n("ysHE").Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},ysHE:function(t,e){t.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},z5Af:function(t,e,n){t.exports=n("yC6l")},z5ME:function(t,e,n){var r=n("aXXJ")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(i){}}return!1}},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("CcnG"),i=function(){return function(){}}(),o=function(){function t(){}return t.prototype.getDepth=function(t){return t.activatedRouteData.depth},t}(),a=n("mrSG"),s=n("Ip0R"),u=n("F/XL"),l=n("0/uQ"),c=n("K9Ia"),h=n("8g8A"),f=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return a.__extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new h.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(c.a),p=n("6blF");function d(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}d.prototype=Object.create(Error.prototype);var y=d,m=n("nkY7"),g=n("isby"),v=n("MGBS"),_=n("zotm"),b=n("IUTb"),w={},C=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new E(t,this.resultSelector))},t}(),E=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return a.__extends(e,t),e.prototype._next=function(t){this.values.push(w),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(_.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===w?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(v.a),S=n("G5J1");function T(t){return new p.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(l.a)(n):Object(S.b)()).subscribe(e)})}var D=n("67Y/"),I=n("Zn8D");function O(){return Object(I.a)(1)}var A=n("FFOo");function x(t,e){return function(n){return n.lift(new k(t,e))}}var k=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new N(t,this.predicate,this.thisArg))},t}(),N=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return a.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(A.a);function P(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}P.prototype=Object.create(Error.prototype);var R=P;function M(t){return function(e){return 0===t?Object(S.b)():e.lift(new F(t))}}var F=function(){function t(t){if(this.total=t,this.total<0)throw new R}return t.prototype.call=function(t,e){return e.subscribe(new L(t,this.total))},t}(),L=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return a.__extends(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(A.a),j=n("+umK"),V=n("2Bdj");function B(t,e,n){return function(r){return r.lift(new U(t,e,n))}}var U=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new q(t,this.nextOrObserver,this.error,this.complete))},t}(),q=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=j.a,o._tapError=j.a,o._tapComplete=j.a,o._tapError=r||j.a,o._tapComplete=i||j.a,Object(V.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||j.a,o._tapError=n.error||j.a,o._tapComplete=n.complete||j.a),o}return a.__extends(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(A.a),z=function(t){return void 0===t&&(t=Q),B({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function Q(){return new y}function H(t){return void 0===t&&(t=null),function(e){return e.lift(new W(t))}}var W=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new K(t,this.defaultValue))},t}(),K=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return a.__extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(A.a),G=n("mChF");function Y(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?x(function(e,n){return t(e,n,r)}):G.a,M(1),n?H(e):z(function(){return new y}))}}var J=n("rPjj");function Z(t){return function(e){var n=new X(t),r=e.lift(n);return n.caught=r}}var X=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new $(t,this.selector,this.caught))},t}(),$=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return a.__extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(i){return void t.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new J.a(this,void 0,void 0);this.add(r),Object(_.a)(this,n,void 0,void 0,r)}},e}(v.a);function tt(t){return function(e){return 0===t?Object(S.b)():e.lift(new et(t))}}var et=function(){function t(t){if(this.total=t,this.total<0)throw new R}return t.prototype.call=function(t,e){return e.subscribe(new nt(t,this.total))},t}(),nt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return a.__extends(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(A.a);function rt(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?x(function(e,n){return t(e,n,r)}):G.a,tt(1),n?H(e):z(function(){return new y}))}}var it=n("psW0"),ot=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new at(t,this.predicate,this.thisArg,this.source))},t}(),at=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return a.__extends(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(A.a),st=n("15JJ"),ut=n("PU8L");var lt=n("dC0D");function ct(t,e){return Object(it.a)(t,e,1)}var ht=n("y3By"),ft=n("pugT");function pt(t){return function(e){return e.lift(new dt(t))}}var dt=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new yt(t,this.callback))},t}(),yt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new ft.a(n)),r}return a.__extends(e,t),e}(A.a),mt=null;function gt(){return mt}var vt,_t={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};r["\u0275global"].Node&&(vt=r["\u0275global"].Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var Ct,Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,mt||(mt=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var r;(r=t)[e].apply(r,Object(a.__spread)(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return _t},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return vt.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&wt.hasOwnProperty(e)&&(e=wt[e]))}return bt[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=St||(St=document.querySelector("base"))?St.getAttribute("href"):null;return null==n?null:(e=n,Ct||(Ct=document.createElement("a")),Ct.setAttribute("href",e),"/"===Ct.pathname.charAt(0)?Ct.pathname:"/"+Ct.pathname)},e.prototype.resetBaseElement=function(){St=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(s["\u0275parseCookieValue"])(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(a){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(a.__extends)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),St=null,Tt=s.DOCUMENT;function Dt(){return!!window.history.pushState}var It=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(a.__extends)(e,t),e.prototype._init=function(){this.location=gt().getLocation(),this._history=gt().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return gt().getBaseHref(this._doc)},e.prototype.onPopState=function(t){gt().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){gt().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){Dt()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){Dt()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},Object(a.__decorate)([Object(a.__param)(0,Object(r.Inject)(Tt)),Object(a.__metadata)("design:paramtypes",[Object])],e)}(s.PlatformLocation),Ot=new r.InjectionToken("TRANSITION_ID"),At=[{provide:r.APP_INITIALIZER,useFactory:function(t,e,n){return function(){n.get(r.ApplicationInitStatus).donePromise.then(function(){var n=gt();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[Ot,Tt,r.Injector],multi:!0}],xt=function(){function t(){}return t.init=function(){Object(r.setTestabilityGetter)(new t)},t.prototype.addToWindow=function(t){r["\u0275global"].getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r["\u0275global"].getAllAngularTestabilities=function(){return t.getAllTestabilities()},r["\u0275global"].getAllAngularRootElements=function(){return t.getAllRootElements()},r["\u0275global"].frameworkStabilizers||(r["\u0275global"].frameworkStabilizers=[]),r["\u0275global"].frameworkStabilizers.push(function(t){var e=r["\u0275global"].getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(o)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?gt().isShadowRoot(e)?this.findTestabilityInTree(t,gt().getHost(e),!0):this.findTestabilityInTree(t,gt().parentElement(e),!0):null},t}();function kt(t,e){"undefined"!=typeof COMPILED&&COMPILED||((r["\u0275global"].ng=r["\u0275global"].ng||{})[t]=e)}var Nt={ApplicationRef:r.ApplicationRef,NgZone:r.NgZone};function Pt(t){return Object(r.getDebugNode)(t)}var Rt=new r.InjectionToken("EventManagerPlugins"),Mt=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),Ft=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=gt().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),Lt=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),jt=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(a.__extends)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return gt().remove(t)})},e}(Lt),Vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Bt=/%COMP%/g,Ut="_nghost-%COMP%",qt="_ngcontent-%COMP%";function zt(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?zt(t,i,n):(i=i.replace(Bt,t),n.push(i))}return n}function Qt(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Ht=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new Wt(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Jt(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.ViewEncapsulation.Native:case r.ViewEncapsulation.ShadowDom:return new Zt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=zt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),Wt=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(Vt[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=Vt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=Vt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,i){i&r.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,i&r.RendererStyleFlags2.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&r.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){Gt(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return Gt(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Qt(n)):this.eventManager.addEventListener(t,e,Qt(n))},t}(),Kt="@".charCodeAt(0);function Gt(t,e){if(t.charCodeAt(0)===Kt)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var Yt,Jt=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=zt(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=qt.replace(Bt,r.id),i.hostAttr=Ut.replace(Bt,r.id),i}return Object(a.__extends)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(Wt),Zt=function(t){function e(e,n,i,o){var a=t.call(this,e)||this;a.sharedStylesHost=n,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===r.ViewEncapsulation.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=zt(o.id,o.styles,[]),u=0;u<s.length;u++){var l=document.createElement("style");l.textContent=s[u],a.shadowRoot.appendChild(l)}return a}return Object(a.__extends)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(Wt),Xt="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},$t=Xt("addEventListener"),te=Xt("removeEventListener"),ee={},ne="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[Xt("BLACK_LISTED_EVENTS")]&&(Yt={});var re=function(t){return!!Yt&&Yt.hasOwnProperty(t)},ie=function(t){var e=ee[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[ne];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},oe=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.ngZone=n,r&&Object(s.isPlatformServer)(r)||i.patchEvent(),i}return Object(a.__extends)(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[ne]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var i=this,o=n;if(!t[$t]||r.NgZone.isInAngularZone()&&!re(e))t.addEventListener(e,o,!1);else{var a=ee[e];a||(a=ee[e]=Xt("ANGULAR"+e+"FALSE"));var s=t[a],u=s&&s.length>0;s||(s=t[a]=[]);var l=re(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:l,handler:o});else{for(var c=!1,h=0;h<s.length;h++)if(s[h].handler===o){c=!0;break}c||s.push({zone:l,handler:o})}u||t[$t](e,ie,!1)}return function(){return i.removeEventListener(t,e,o)}},e.prototype.removeEventListener=function(t,e,n){var r=t[te];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=ee[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,ie,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(Ft),ae={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},se=new r.InjectionToken("HammerGestureConfig"),ue=new r.InjectionToken("HammerLoader"),le=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),ce=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._config=n,o.console=r,o.loader=i,o}return Object(a.__extends)(e,t),e.prototype.supports=function(t){return!(!ae.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(t,e,n))}).catch(function(){r.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),a=function(){}}),function(){a()}}return i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){o.off(e,a),"function"==typeof o.destroy&&o.destroy()}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(Ft),he=["alt","control","meta","shift"],fe={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},pe=function(t){function e(e){return t.call(this,e)||this}var n;return Object(a.__extends)(e,t),n=e,e.prototype.supports=function(t){return null!=n.parseEventName(t)},e.prototype.addEventListener=function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return gt().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(he.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=gt().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),he.forEach(function(r){r!=n&&(0,fe[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(Ft),de=function(){return function(){}}(),ye=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(a.__extends)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case r.SecurityContext.NONE:return e;case r.SecurityContext.HTML:return e instanceof ge?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(r["\u0275_sanitizeHtml"])(this._doc,String(e)));case r.SecurityContext.STYLE:return e instanceof ve?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(r["\u0275_sanitizeStyle"])(e));case r.SecurityContext.SCRIPT:if(e instanceof _e)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case r.SecurityContext.URL:return e instanceof we||e instanceof be?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(r["\u0275_sanitizeUrl"])(String(e)));case r.SecurityContext.RESOURCE_URL:if(e instanceof we)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof me)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new ge(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new ve(t)},e.prototype.bypassSecurityTrustScript=function(t){return new _e(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new be(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new we(t)},e}(de),me=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(me),ve=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(me),_e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(me),be=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(me),we=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(me),Ce=[{provide:r.PLATFORM_ID,useValue:s["\u0275PLATFORM_BROWSER_ID"]},{provide:r.PLATFORM_INITIALIZER,useValue:function(){Et.makeCurrent(),xt.init()},multi:!0},{provide:s.PlatformLocation,useClass:It,deps:[Tt]},{provide:Tt,useFactory:function(){return document},deps:[]}],Ee=Object(r.createPlatformFactory)(r.platformCore,"browser",Ce);function Se(){return new r.ErrorHandler}var Te=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:r.APP_ID,useValue:t.appId},{provide:Ot,useExisting:r.APP_ID},At]}},t}();"undefined"!=typeof window&&window;var De=function(){return function(t,e){this.id=t,this.url=e}}(),Ie=function(t){function e(e,n,r,i){void 0===r&&(r="imperative"),void 0===i&&(i=null);var o=t.call(this,e,n)||this;return o.navigationTrigger=r,o.restoredState=i,o}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(De),Oe=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(De),Ae=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(De),xe=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(De),ke=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(De),Ne=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(De),Pe=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(De),Re=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(De),Me=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(De),Fe=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Le=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),je=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Ve=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Be=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Ue=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),qe=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),ze=function(){return function(){}}(),Qe="primary",He=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function We(t){return new He(t)}var Ke="ngNavigationCancelingError";function Ge(t){var e=Error("NavigationCancelingError: "+t);return e[Ke]=!0,e}function Ye(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var Je=function(){return function(t,e){this.routes=t,this.module=e}}();function Ze(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];Xe(r,$e(e,r))}}function Xe(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Qe)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Ze(t.children,e)}function $e(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function tn(t){var e=t.children&&t.children.map(tn),n=e?Object(a.__assign)({},t,{children:e}):Object(a.__assign)({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Qe&&(n.component=ze),n}function en(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function nn(t){return Array.prototype.concat.apply([],t)}function rn(t){return t.length>0?t[t.length-1]:null}function on(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function an(t){return Object(r["\u0275isObservable"])(t)?t:Object(r["\u0275isPromise"])(t)?Object(l.a)(Promise.resolve(t)):Object(u.a)(t)}function sn(t,e,n){return n?function(t,e){return en(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!hn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!hn(a=n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!hn(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!hn(n.segments,a)&&!!n.children[Qe]&&e(n.children[Qe],r,s)}(e,n,n.segments)}(t.root,e.root)}var un=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=We(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return yn.serialize(this)},t}(),ln=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,on(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return mn(this)},t}(),cn=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=We(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Cn(this)},t}();function hn(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function fn(t,e){var n=[];return on(t.children,function(t,r){r===Qe&&(n=n.concat(e(t,r)))}),on(t.children,function(t,r){r!==Qe&&(n=n.concat(e(t,r)))}),n}var pn=function(){return function(){}}(),dn=function(){function t(){}return t.prototype.parse=function(t){var e=new In(t);return new un(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return mn(e);if(n){var r=e.children[Qe]?t(e.children[Qe],!1):"",i=[];return on(e.children,function(e,n){n!==Qe&&i.push(n+":"+t(e,!1))}),i.length>0?r+"("+i.join("//")+")":r}var o=fn(e,function(n,r){return r===Qe?[t(e.children[Qe],!1)]:[r+":"+t(n,!1)]});return mn(e)+"/("+o.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return vn(t)+"="+vn(e)}).join("&"):vn(t)+"="+vn(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),yn=new dn;function mn(t){return t.segments.map(function(t){return Cn(t)}).join("/")}function gn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vn(t){return gn(t).replace(/%3B/gi,";")}function _n(t){return gn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bn(t){return decodeURIComponent(t)}function wn(t){return bn(t.replace(/\+/g,"%20"))}function Cn(t){return""+_n(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+_n(t)+"="+_n(e[t])}).join(""));var e}var En=/^[^\/()?;=#]+/;function Sn(t){var e=t.match(En);return e?e[0]:""}var Tn=/^[^=?&#]+/,Dn=/^[^?&#]+/,In=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ln([],{}):new ln([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Qe]=new ln(t,e)),n},t.prototype.parseSegment=function(){var t=Sn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new cn(bn(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=Sn(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Sn(this.remaining);r&&this.capture(n=r)}t[bn(e)]=bn(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(Tn))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(Dn);return e?e[0]:""}(this.remaining);i&&this.capture(r=i)}var o=wn(n),a=wn(r);if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(t[o]=s=[s]),s.push(a)}else t[o]=a}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Sn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Qe);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Qe]:new ln([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),On=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=An(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=An(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=xn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return xn(t,this._root).map(function(t){return t.value})},t}();function An(t,e){var n,r;if(t===e.value)return e;try{for(var i=Object(a.__values)(e.children),o=i.next();!o.done;o=i.next()){var s=An(t,o.value);if(s)return s}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null}function xn(t,e){var n,r;if(t===e.value)return[e];try{for(var i=Object(a.__values)(e.children),o=i.next();!o.done;o=i.next()){var s=xn(t,o.value);if(s.length)return s.unshift(e),s}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return[]}var kn=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function Nn(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var Pn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,Vn(r,e),r}return Object(a.__extends)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(On);function Rn(t,e){var n=function(t,e){var n=new Ln([],{},{},"",{},Qe,e,null,t.root,-1,{});return new jn("",new kn(n,[]))}(t,e),r=new f([new cn("",{})]),i=new f({}),o=new f({}),a=new f({}),s=new f(""),u=new Mn(r,i,a,s,o,Qe,e,n.root);return u.snapshot=n.root,new Pn(new kn(u,[]),n)}var Mn=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(D.a)(function(t){return We(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(D.a)(function(t){return We(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function Fn(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object(a.__assign)({},t.params,e.params),data:Object(a.__assign)({},t.data,e.data),resolve:Object(a.__assign)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Ln=function(){function t(t,e,n,r,i,o,a,s,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=We(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=We(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),jn=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,Vn(r,n),r}return Object(a.__extends)(e,t),e.prototype.toString=function(){return Bn(this._root)},e}(On);function Vn(t,e){e.value._routerState=t,e.children.forEach(function(e){return Vn(t,e)})}function Bn(t){var e=t.children.length>0?" { "+t.children.map(Bn).join(", ")+" } ":"";return""+t.value+e}function Un(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,en(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),en(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!en(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),en(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function qn(t,e){var n,r;return en(t.params,e.params)&&hn(n=t.url,r=e.url)&&n.every(function(t,e){return en(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||qn(t.parent,e.parent))}function zn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Qn(t,e,n,r,i){var o={};return r&&on(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new un(n.root===t?e:function t(e,n,r){var i={};return on(e.children,function(e,o){i[o]=e===n?r:t(e,n,r)}),new ln(e.segments,i)}(n.root,t,e),o,i)}var Hn=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&zn(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==rn(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),Wn=function(){return function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}();function Kn(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Qe]:""+t}function Gn(t,e,n){if(t||(t=new ln([],{})),0===t.segments.length&&t.hasChildren())return Yn(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=Kn(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!$n(s,u,a))return o;r+=2}else{if(!$n(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new ln(t.segments.slice(0,r.pathIndex),{});return o.children[Qe]=new ln(t.segments.slice(r.pathIndex),t.children),Yn(o,0,i)}return r.match&&0===i.length?new ln(t.segments,{}):r.match&&!t.hasChildren()?Jn(t,e,n):r.match?Yn(t,0,i):Jn(t,e,n)}function Yn(t,e,n){if(0===n.length)return new ln(t.segments,{});var r=function(t){var e,n;return"object"!=typeof t[0]?((e={})[Qe]=t,e):void 0===t[0].outlets?((n={})[Qe]=t,n):t[0].outlets}(n),i={};return on(r,function(n,r){null!==n&&(i[r]=Gn(t.children[r],e,n))}),on(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new ln(t.segments,i)}function Jn(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Zn(n[i].outlets);return new ln(r,o)}if(0===i&&zn(n[0]))r.push(new cn(t.segments[e].path,n[0])),i++;else{var a=Kn(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&zn(s)?(r.push(new cn(a,Xn(s))),i+=2):(r.push(new cn(a,{})),i++)}}return new ln(r,{})}function Zn(t){var e={};return on(t,function(t,n){null!==t&&(e[n]=Jn(new ln([],{}),0,t))}),e}function Xn(t){var e={};return on(t,function(t,n){return e[n]=""+t}),e}function $n(t,e,n){return t==n.path&&en(e,n.parameters)}var tr=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Un(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=Nn(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),on(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Nn(t),o=t.value.component?r.children:e;on(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=Nn(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new Ue(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ve(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(Un(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(o=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),er(a.route)}else{var s=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=s?s.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}();function er(t){Un(t.value),t.children.forEach(er)}function nr(t){return"function"==typeof t}function rr(t){return t instanceof un}var ir=function(){return function(t){this.segmentGroup=t||null}}(),or=function(){return function(t){this.urlTree=t}}();function ar(t){return new p.a(function(e){return e.error(new ir(t))})}function sr(t){return new p.a(function(e){return e.error(new or(t))})}function ur(t){return new p.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var lr=function(){function t(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.NgModuleRef)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Qe).pipe(Object(D.a)(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Z(function(e){if(e instanceof or)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof ir)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,Qe).pipe(Object(D.a)(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(Z(function(t){if(t instanceof ir)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,i=t.segments.length>0?new ln([],((r={})[Qe]=t,r)):t;return new un(i,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(D.a)(function(t){return new ln([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(u.a)({});var o=[],a=[],s={};return on(n,function(n,i){var u,l,c=(u=i,l=n,r.expandSegmentGroup(t,e,l,u)).pipe(Object(D.a)(function(t){return s[i]=t}));i===Qe?o.push(c):a.push(c)}),u.a.apply(null,o.concat(a)).pipe(O(),Y(),Object(D.a)(function(){return s}))}(n.children)},t.prototype.expandSegment=function(t,e,n,r,i,o){var s=this;return u.a.apply(void 0,Object(a.__spread)(n)).pipe(Object(D.a)(function(a){return s.expandSegmentAgainstRoute(t,e,n,a,r,i,o).pipe(Z(function(t){if(t instanceof ir)return Object(u.a)(null);throw t}))}),O(),rt(function(t){return!!t}),Z(function(t,n){if(t instanceof y||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,r,i))return Object(u.a)(new ln([],{}));throw new ir(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return pr(r)!==o?ar(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):ar(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?sr(o):this.lineralizeSegments(n,o).pipe(Object(it.a)(function(n){var o=new ln(n,{});return i.expandSegment(t,o,e,n,r,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,s=cr(e,r,i),u=s.consumedSegments,l=s.lastChild,c=s.positionalParamSegments;if(!s.matched)return ar(e);var h=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?sr(h):this.lineralizeSegments(r,h).pipe(Object(it.a)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(D.a)(function(t){return n._loadedConfig=t,new ln(r,{})})):Object(u.a)(new ln(r,{}));var o=cr(e,n,r),s=o.consumedSegments,l=o.lastChild;if(!o.matched)return ar(e);var c=r.slice(l);return this.getChildConfig(t,n,r).pipe(Object(it.a)(function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(function(n){return fr(t,e,n)&&pr(n)!==Qe})}(t,n)?{segmentGroup:hr(new ln(e,function(t,e){var n,r,i={};i[Qe]=e;try{for(var o=Object(a.__values)(t),s=o.next();!s.done;s=o.next()){var u=s.value;""===u.path&&pr(u)!==Qe&&(i[pr(u)]=new ln([],{}))}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}(r,new ln(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(function(n){return fr(t,e,n)})}(t,n)?{segmentGroup:hr(new ln(t.segments,function(t,e,n,r){var i,o,s={};try{for(var u=Object(a.__values)(n),l=u.next();!l.done;l=u.next()){var c=l.value;fr(t,e,c)&&!r[pr(c)]&&(s[pr(c)]=new ln([],{}))}}catch(h){i={error:h}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return Object(a.__assign)({},r,s)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,c,r),l=o.segmentGroup,h=o.slicedSegments;return 0===h.length&&l.hasChildren()?i.expandChildren(n,r,l).pipe(Object(D.a)(function(t){return new ln(s,t)})):0===r.length&&0===h.length?Object(u.a)(new ln(s,{})):i.expandSegment(n,l,r,h,Qe,!0).pipe(Object(D.a)(function(t){return new ln(s.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e,n){var r=this;return e.children?Object(u.a)(new Je(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(u.a)(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(l.a)(i).pipe(Object(D.a)(function(r){var i,o=t.get(r);if(function(t){return t&&nr(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!nr(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return an(i)})).pipe(O(),(r=function(t){return!0===t},function(t){return t.lift(new ot(r,void 0,t))})):Object(u.a)(!0)}(t.injector,e,n).pipe(Object(it.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(D.a)(function(t){return e._loadedConfig=t,t})):function(t){return new p.a(function(e){return e.error(Ge("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}(e)})):Object(u.a)(new Je([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(u.a)(n);if(r.numberOfChildren>1||!r.children[Qe])return ur(t.redirectTo);r=r.children[Qe]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new un(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return on(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return on(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new ln(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){var n,r,i=0;try{for(var o=Object(a.__values)(e),s=o.next();!s.done;s=o.next()){var u=s.value;if(u.path===t.path)return e.splice(i),u;i++}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return t},t}();function cr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||Ye)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function hr(t){if(1===t.numberOfChildren&&t.children[Qe]){var e=t.children[Qe];return new ln(t.segments.concat(e.segments),e.children)}return t}function fr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function pr(t){return t.outlet||Qe}var dr=function(){return function(t){this.path=t,this.route=this.path[this.path.length-1]}}(),yr=function(){return function(t,e){this.component=t,this.route=e}}();function mr(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function gr(t,e,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=Nn(e);return t.children.forEach(function(t){!function(t,e,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!hn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hn(t.url,e.url)||!en(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qn(t,e)||!en(t.queryParams,e.queryParams);case"paramsChange":default:return!qn(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new dr(r)):(o.data=a.data,o._resolvedData=a._resolvedData),gr(t,e,o.component?s?s.children:null:n,r,i),u&&i.canDeactivateChecks.push(new yr(s&&s.outlet&&s.outlet.component||null,a))}else a&&vr(e,s,i),i.canActivateChecks.push(new dr(r)),gr(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),on(o,function(t,e){return vr(t,n.getContext(e),i)}),i}function vr(t,e,n){var r=Nn(t),i=t.value;on(r,function(t,r){vr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new yr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var _r=Symbol("INITIAL_VALUE");function br(){return Object(st.a)(function(t){return(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return Object(m.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(g.a)(t[0])&&(t=t[0]),Object(b.a)(t,r).lift(new C(n))}).apply(void 0,Object(a.__spread)(t.map(function(t){return t.pipe(tt(1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=t[t.length-1];Object(m.a)(n)?t.pop():n=null;var r=t.length;return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&Object(m.a)(t[1])?Object(l.a)(t[0]):O()(u.a.apply(void 0,t))}(1!==r||n?r>0?Object(b.a)(t,n):Object(S.b)(n):Object(ut.a)(t[0]),e)}}(_r))}))).pipe(Object(lt.a)(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==_r)return t;if(r===_r&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||rr(r))return r}return t},t)},_r),x(function(t){return t!==_r}),Object(D.a)(function(t){return rr(t)?t:!0===t}),tt(1))})}function wr(t,e){return null!==t&&e&&e(new Be(t)),Object(u.a)(!0)}function Cr(t,e){return null!==t&&e&&e(new je(t)),Object(u.a)(!0)}function Er(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(u.a)(!0);var i=r.map(function(r){return T(function(){var i,o=mr(r,e,n);if(function(t){return t&&nr(t.canActivate)}(o))i=an(o.canActivate(e,t));else{if(!nr(o))throw new Error("Invalid CanActivate guard");i=an(o(e,t))}return i.pipe(rt())})});return Object(u.a)(i).pipe(br())}function Sr(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return T(function(){var i=e.guards.map(function(i){var o,a=mr(i,e.node,n);if(function(t){return t&&nr(t.canActivateChild)}(a))o=an(a.canActivateChild(r,t));else{if(!nr(a))throw new Error("Invalid CanActivateChild guard");o=an(a(r,t))}return o.pipe(rt())});return Object(u.a)(i).pipe(br())})});return Object(u.a)(i).pipe(br())}var Tr=function(){return function(){}}(),Dr=function(){function t(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}return t.prototype.recognize=function(){try{var t=Ar(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Qe),n=new Ln([],Object.freeze({}),Object.freeze(Object(a.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qe,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new kn(n,e),i=new jn(this.url,r);return this.inheritParamsAndData(i._root),Object(u.a)(i)}catch(o){return new p.a(function(t){return t.error(o)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=Fn(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,i=fn(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},i.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[t.value.outlet]=t.value}),i.sort(function(t,e){return t.value.outlet===Qe?-1:e.value.outlet===Qe?1:t.value.outlet.localeCompare(e.value.outlet)}),i},t.prototype.processSegment=function(t,e,n,r){var i,o;try{for(var s=Object(a.__values)(t),u=s.next();!u.done;u=s.next()){var l=u.value;try{return this.processSegmentAgainstRoute(l,e,n,r)}catch(c){if(!(c instanceof Tr))throw c}}}catch(h){i={error:h}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}if(this.noLeftoversInUrl(e,n,r))return[];throw new Tr},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new Tr;if((t.outlet||Qe)!==r)throw new Tr;var i,o=[],s=[];if("**"===t.path){var u=n.length>0?rn(n).parameters:{};i=new Ln(n,u,Object.freeze(Object(a.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,Nr(t),r,t.component,t,Ir(e),Or(e)+n.length,Pr(t))}else{var l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Tr;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||Ye)(n,t,e);if(!r)throw new Tr;var i={};on(r.posParams,function(t,e){i[e]=t.path});var o=r.consumed.length>0?Object(a.__assign)({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=l.consumedSegments,s=n.slice(l.lastChild),i=new Ln(o,l.parameters,Object.freeze(Object(a.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,Nr(t),r,t.component,t,Ir(e),Or(e)+o.length,Pr(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=Ar(e,o,s,c,this.relativeLinkResolution),f=h.segmentGroup,p=h.slicedSegments;if(0===p.length&&f.hasChildren()){var d=this.processChildren(c,f);return[new kn(i,d)]}if(0===c.length&&0===p.length)return[new kn(i,[])];var y=this.processSegment(c,f,p,Qe);return[new kn(i,y)]},t}();function Ir(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Or(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ar(t,e,n,r,i){if(n.length>0&&function(t,e,n){return r.some(function(n){return xr(t,e,n)&&kr(n)!==Qe})}(t,n)){var o=new ln(e,function(t,e,n,r){var i,o,s={};s[Qe]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;try{for(var u=Object(a.__values)(n),l=u.next();!l.done;l=u.next()){var c=l.value;if(""===c.path&&kr(c)!==Qe){var h=new ln([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,s[kr(c)]=h}}}catch(f){i={error:f}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return s}(t,e,r,new ln(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(function(n){return xr(t,e,n)})}(t,n)){var s=new ln(t.segments,function(t,e,n,r,i,o){var s,u,l={};try{for(var c=Object(a.__values)(r),h=c.next();!h.done;h=c.next()){var f=h.value;if(xr(t,n,f)&&!i[kr(f)]){var p=new ln([],{});p._sourceSegment=t,p._segmentIndexShift="legacy"===o?t.segments.length:e.length,l[kr(f)]=p}}}catch(d){s={error:d}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}return Object(a.__assign)({},i,l)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var u=new ln(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function xr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function kr(t){return t.outlet||Qe}function Nr(t){return t.data||{}}function Pr(t){return t.resolve||{}}function Rr(t,e,n,r){var i=mr(t,e,r);return an(i.resolve?i.resolve(e,n):i(e,n))}function Mr(t){return function(e){return e.pipe(Object(st.a)(function(e){var n=t(e);return n?Object(l.a)(n).pipe(Object(D.a)(function(){return e})):Object(l.a)([e])}))}}var Fr=function(){return function(){}}(),Lr=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),jr=new r.InjectionToken("ROUTES"),Vr=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(D.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Je(nn(i.injector.get(jr)).map(tn),i)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(l.a)(this.loader.load(t)):an(t()).pipe(Object(it.a)(function(t){return t instanceof r.NgModuleFactory?Object(u.a)(t):Object(l.a)(e.compiler.compileModuleAsync(t))}))},t}(),Br=function(){return function(){}}(),Ur=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function qr(t){throw t}function zr(t,e,n){return e.parse("/")}function Qr(t,e){return Object(u.a)(null)}var Hr=function(){function t(t,e,n,i,o,a,s,u){var l=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new c.a,this.errorHandler=qr,this.malformedUriErrorHandler=zr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qr,afterPreactivation:Qr},this.urlHandlingStrategy=new Ur,this.routeReuseStrategy=new Lr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.NgModuleRef),this.console=o.get(r["\u0275Console"]);var h=o.get(r.NgZone);this.isNgZoneEnabled=h instanceof r.NgZone,this.resetConfig(u),this.currentUrlTree=new un(new ln([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Vr(a,s,function(t){return l.triggerEvent(new Fe(t))},function(t){return l.triggerEvent(new Le(t))}),this.routerState=Rn(this.currentUrlTree,this.rootComponentType),this.transitions=new f({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,n=this.events;return t.pipe(x(function(t){return 0!==t.id}),Object(D.a)(function(t){return Object(a.__assign)({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),B(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object(a.__assign)({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Object(st.a)(function(t){var r,i,o,s=!1,c=!1;return Object(u.a)(t).pipe(Object(st.a)(function(t){var r,i,o,s,l=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||l)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(u.a)(t).pipe(Object(st.a)(function(t){var r=e.transitions.getValue();return n.next(new Ie(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?S.a:[t]}),Object(st.a)(function(t){return Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,s=e.config,function(t){return t.pipe(Object(st.a)(function(t){return function(e,n,r,i,o){return new lr(e,n,r,t.extractedUrl,o).apply()}(r,i,o,0,s).pipe(Object(D.a)(function(e){return Object(a.__assign)({},t,{urlAfterRedirects:e})}))}))}),B(function(t){e.currentNavigation=Object(a.__assign)({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return function(r){return r.pipe(Object(it.a)(function(r){return function(t,e,n,r,i,o){return void 0===i&&(i="emptyOnly"),void 0===o&&(o="legacy"),new Dr(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,e.serializeUrl(s)),i,o).pipe(Object(D.a)(function(t){return Object(a.__assign)({},r,{targetSnapshot:t})}));var s}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),B(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id),e.browserUrlTree=t.urlAfterRedirects)}),B(function(t){var r=new ke(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(l&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var c=t.extractedUrl,h=t.source,f=t.restoredState,p=t.extras,d=new Ie(t.id,e.serializeUrl(c),h,f);n.next(d);var y=Rn(c,e.rootComponentType).snapshot;return Object(u.a)(Object(a.__assign)({},t,{targetSnapshot:y,urlAfterRedirects:c,extras:Object(a.__assign)({},p,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,t.resolve(null),S.a}),Mr(function(t){var n=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),B(function(t){var n=new Ne(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(D.a)(function(t){return Object(a.__assign)({},t,{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,gr(o,r?r._root:null,i,[o.value]))});var n,r,i,o}),function(t,e){return function(n){return n.pipe(Object(it.a)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,s=o.canActivateChecks,c=o.canDeactivateChecks;return 0===c.length&&0===s.length?Object(u.a)(Object(a.__assign)({},n,{guardsResult:!0})):function(t,e,n,r){return Object(l.a)(t).pipe(Object(it.a)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(u.a)(!0);var a=o.map(function(o){var a,s=mr(o,e,i);if(function(t){return t&&nr(t.canDeactivate)}(s))a=an(s.canDeactivate(t,e,n,r));else{if(!nr(s))throw new Error("Invalid CanDeactivate guard");a=an(s(t,e,n,r))}return a.pipe(rt())});return Object(u.a)(a).pipe(br())}(t.component,t.route,n,e,r)}),rt(function(t){return!0!==t},!0))}(c,r,i,t).pipe(Object(it.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(l.a)(e).pipe(ct(function(e){return Object(l.a)([Cr(e.route.parent,r),wr(e.route,r),Sr(t,e.path,n),Er(t,e.route,n)]).pipe(O(),rt(function(t){return!0!==t},!0))}),rt(function(t){return!0!==t},!0))}(r,s,t,e):Object(u.a)(n)}),Object(D.a)(function(t){return Object(a.__assign)({},n,{guardsResult:t})}))}))}}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),B(function(t){if(rr(t.guardsResult)){var n=Ge('Redirecting to "'+e.serializeUrl(t.guardsResult)+'"');throw n.url=t.guardsResult,n}}),B(function(t){var n=new Pe(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)}),x(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Ae(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),Mr(function(t){if(t.guards.canActivateChecks.length)return Object(u.a)(t).pipe(B(function(t){var n=new Re(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(it.a)(function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Object(l.a)(i).pipe(ct(function(t){return function(t,n,r,i){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(u.a)({});if(1===i.length){var o=i[0];return Rr(t[o],e,n,r).pipe(Object(D.a)(function(t){var e;return(e={})[o]=t,e}))}var a={};return Object(l.a)(i).pipe(Object(it.a)(function(i){return Rr(t[i],e,n,r).pipe(Object(D.a)(function(t){return a[i]=t,t}))})).pipe(Y(),Object(D.a)(function(){return a}))}(t._resolve,t,e,i).pipe(Object(D.a)(function(e){return t._resolvedData=e,t.data=Object(a.__assign)({},t.data,Fn(t,r).resolve),null}))}(t.route,0,n,r)}),function(t,e){return arguments.length>=2?function(e){return Object(ht.a)(Object(lt.a)(t,void 0),M(1),H(void 0))(e)}:function(e){return Object(ht.a)(Object(lt.a)(function(e,n,r){return t(e)}),M(1))(e)}}(function(t,e){return t}),Object(D.a)(function(e){return t})):Object(u.a)(t)}))}),B(function(t){var n=new Me(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}));var n,r}),Mr(function(t){var n=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Object(D.a)(function(t){var n,r,i,o=(i=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){(l=r.value)._futureSnapshot=n.value;var i=function(e,n,r){return n.children.map(function(n){var i,o;try{for(var s=Object(a.__values)(r.children),u=s.next();!u.done;u=s.next()){var l=u.value;if(e.shouldReuseRoute(l.value.snapshot,n.value))return t(e,n,l)}}catch(c){i={error:c}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return t(e,n)})}(e,n,r);return new kn(l,i)}var o=e.retrieve(n.value);if(o){var s=o.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,l=new Mn(new f((u=n.value).url),new f(u.params),new f(u.queryParams),new f(u.fragment),new f(u.data),u.outlet,u.component,u);return i=n.children.map(function(n){return t(e,n)}),new kn(l,i)}(e.routeReuseStrategy,(n=t.targetSnapshot)._root,(r=t.currentRouterState)?r._root:void 0),new Pn(i,n));return Object(a.__assign)({},t,{targetRouterState:o})}),B(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(r=e.rootContexts,i=e.routeReuseStrategy,o=function(t){return e.triggerEvent(t)},Object(D.a)(function(t){return new tr(i,t.targetRouterState,t.currentRouterState,o).activate(r),t})),B({next:function(){s=!0},complete:function(){s=!0}}),pt(function(){if(!s&&!c){e.resetUrlToCurrentUrlTree();var r=new Ae(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);n.next(r),t.resolve(!1)}e.currentNavigation=null}),Z(function(r){if(c=!0,(s=r)&&s[Ke]){var i=rr(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Ae(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),t.resolve(!1),i&&e.navigateByUrl(r.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new xe(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(u){t.reject(u)}}var s;return S.a}))}))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){return this.transitions.value},t.prototype.setTransition=function(t){this.transitions.next(Object(a.__assign)({},this.getTransition(),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout(function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.getCurrentNavigation=function(){return this.currentNavigation},t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Ze(t),this.config=t.map(tn),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,i=e.queryParams,o=e.fragment,s=e.preserveQueryParams,u=e.queryParamsHandling,l=e.preserveFragment;Object(r.isDevMode)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,h=l?this.currentUrlTree.fragment:o,f=null;if(u)switch(u){case"merge":f=Object(a.__assign)({},this.currentUrlTree.queryParams,i);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=i||null}else f=s?this.currentUrlTree.queryParams:i||null;return null!==f&&(f=this.removeEmptyProps(f)),function(t,e,n,r,i){if(0===n.length)return Qn(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Hn(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return on(r.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),Object(a.__spread)(t,[{outlets:o}])}if(r.segmentPath)return Object(a.__spread)(t,[r.segmentPath])}return"string"!=typeof r?Object(a.__spread)(t,[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):Object(a.__spread)(t,[r])},[]);return new Hn(n,e,r)}(n);if(o.toRoot())return Qn(e.root,new ln([],{}),e,r,i);var s=function(t,n,r){if(t.isAbsolute)return new Wn(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Wn(r.snapshot._urlSegment,!0,0);var i=zn(t.commands[0])?0:1;return function(e,n,o){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+i,u=t.numberOfDoubleDots;u>s;){if(u-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new Wn(a,!1,s-u)}()}(o,0,t),u=s.processChildren?Yn(s.segmentGroup,s.index,o.commands):Gn(s.segmentGroup,s.index,o.commands);return Qn(s.segmentGroup,u,e,r,i)}(c,this.currentUrlTree,t,f,h)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),Object(r.isDevMode)()&&this.isNgZoneEnabled&&!r.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=rr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(rr(t))return sn(this.currentUrlTree,t,e);var n=this.parseUrl(t);return sn(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Oe(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})},t.prototype.scheduleNavigation=function(t,e,n,r){var i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise(function(t,e){o=t,a=e}),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})},t.prototype.setBrowserUrl=function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object(a.__assign)({},r,{navigationId:n})):this.location.go(i,"",Object(a.__assign)({},r,{navigationId:n}))},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),Wr=function(){function t(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(r.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:Gr(this.skipLocationChange),replaceUrl:Gr(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Gr(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Gr(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}(),Kr=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof Oe&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(r.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Gr(this.skipLocationChange),replaceUrl:Gr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Gr(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Gr(this.preserveFragment)})},enumerable:!0,configurable:!0}),Object(a.__decorate)([Object(r.HostBinding)("attr.target"),Object(r.Input)(),Object(a.__metadata)("design:type",String)],t.prototype,"target",void 0),t}();function Gr(t){return""===t||!!t}var Yr=function(){function t(t,e,n,r){var i=this;this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof Oe&&i.update()})}return t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t}(),Jr=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zr,this.attachRef=null}}(),Zr=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new Jr,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),Xr=function(){function t(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.EventEmitter,this.deactivateEvents=new r.EventEmitter,this.name=i||Qe,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new $r(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),$r=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===Mn?this.route:t===Zr?this.childContexts:this.parent.get(t,e)},t}(),ti=function(){return function(){}}(),ei=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(Z(function(){return Object(u.a)(null)}))},t}(),ni=function(){function t(){}return t.prototype.preload=function(t,e){return Object(u.a)(null)},t}(),ri=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Vr(e,n,function(e){return t.triggerEvent(new Fe(e))},function(e){return t.triggerEvent(new Le(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(x(function(t){return t instanceof Oe}),ct(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(r.NgModuleRef);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,r,i=[];try{for(var o=Object(a.__values)(e),s=o.next();!s.done;s=o.next()){var u=s.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var c=u._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children))}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return Object(l.a)(i).pipe(Object(I.a)(),Object(D.a)(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(it.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t}(),ii=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Ie?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Oe&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof qe&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new qe(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),oi=new r.InjectionToken("ROUTER_CONFIGURATION"),ai=new r.InjectionToken("ROUTER_FORROOT_GUARD"),si=[s.Location,{provide:pn,useClass:dn},{provide:Hr,useFactory:di,deps:[r.ApplicationRef,pn,Zr,s.Location,r.Injector,r.NgModuleFactoryLoader,r.Compiler,jr,oi,[Br,new r.Optional],[Fr,new r.Optional]]},Zr,{provide:Mn,useFactory:yi,deps:[Hr]},{provide:r.NgModuleFactoryLoader,useClass:r.SystemJsNgModuleLoader},ri,ni,ei,{provide:oi,useValue:{enableTracing:!1}}];function ui(){return new r.NgProbeToken("Router",Hr)}var li=function(){function t(t,e){}var e;return e=t,t.forRoot=function(t,n){return{ngModule:e,providers:[si,pi(t),{provide:ai,useFactory:fi,deps:[[Hr,new r.Optional,new r.SkipSelf]]},{provide:oi,useValue:n||{}},{provide:s.LocationStrategy,useFactory:hi,deps:[s.PlatformLocation,[new r.Inject(s.APP_BASE_HREF),new r.Optional],oi]},{provide:ii,useFactory:ci,deps:[Hr,s.ViewportScroller,oi]},{provide:ti,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ni},{provide:r.NgProbeToken,multi:!0,useFactory:ui},[mi,{provide:r.APP_INITIALIZER,multi:!0,useFactory:gi,deps:[mi]},{provide:_i,useFactory:vi,deps:[mi]},{provide:r.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:_i}]]}},t.forChild=function(t){return{ngModule:e,providers:[pi(t)]}},t}();function ci(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ii(t,e,n)}function hi(t,e,n){return void 0===n&&(n={}),n.useHash?new s.HashLocationStrategy(t,e):new s.PathLocationStrategy(t,e)}function fi(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function pi(t){return[{provide:r.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:jr,multi:!0,useValue:t}]}function di(t,e,n,r,i,o,a,s,u,l,c){void 0===u&&(u={});var h=new Hr(null,e,n,r,i,o,a,nn(s));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=gt();h.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function yi(t){return t.routerState.root}var mi=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new c.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(s.LOCATION_INITIALIZED,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Hr),i=t.injector.get(oi);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Object(u.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(oi),n=this.injector.get(ri),i=this.injector.get(ii),o=this.injector.get(Hr),a=this.injector.get(r.ApplicationRef);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function gi(t){return t.appInitializer.bind(t)}function vi(t){return t.bootstrapListener.bind(t)}var _i=new r.InjectionToken("Router Initializer"),bi=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function wi(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](1,212992,null,0,Xr,[Zr,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null)],function(t,e){t(e,1,0)},null)}function Ci(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,wi,bi)),r["\u0275did"](1,49152,null,0,ze,[],null,null)],null,null)}var Ei=r["\u0275ccf"]("ng-component",ze,Ci,{},{},[]),Si=n("ELNm"),Ti=n.n(Si),Di=function(){function t(){}return t.prototype.ngOnInit=function(){new Ti.a(".typed-element",{strings:["a Blogger.","a Web Lover.","an Adventurer.","a Freelancer."],typeSpeed:100,backSpeed:100,showCursor:!0,cursorChar:"|",loop:!1})},t}(),Ii=r["\u0275crt"]({encapsulation:0,styles:[["h1[_ngcontent-%COMP%]{color:#000;font-size:3.5rem}h4[_ngcontent-%COMP%]{color:#000;font-size:.7em}.typed-element[_ngcontent-%COMP%]{color:#000;font-weight:700}"]],data:{}});function Oi(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,11,"div",[["class","site-main"],["id","main"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,10,"section",[["class","pt-page page-layout light-text home-section "],["id","home"],["style","background-image:url(../../../../../assets/images/site/desktop.jpg)"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,9,"div",[["class","content"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,8,"div",[["class","layout-medium"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Hi, I am"])),(t()(),r["\u0275eld"](6,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Leidy Rosario"])),(t()(),r["\u0275eld"](8,0,null,null,3,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" I am "])),(t()(),r["\u0275eld"](10,0,null,null,1,"span",[["class","typed-element"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["a Blogger."]))],null,null)}function Ai(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-home",[],null,null,null,Oi,Ii)),r["\u0275did"](1,114688,null,0,Di,[],null,null)],function(t,e){t(e,1,0)},null)}var xi=r["\u0275ccf"]("app-home",Di,Ai,{},{},[]),ki=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Ni=r["\u0275crt"]({encapsulation:0,styles:[[".zoom[_ngcontent-%COMP%]{transition:-webkit-transform .2s;transition:transform .2s;transition:transform .2s,-webkit-transform .2s}.zoom[_ngcontent-%COMP%]:hover{-webkit-transform:scale(1.3);transform:scale(1.3)}"]],data:{}});function Pi(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,139,"section",[["class","pt-page page-layout"],["id","about"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,138,"div",[["class","content"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,137,"div",[["class","layout-medium"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,2,"h1",[["class","page-title"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,0,"i",[["class","pe-7s-user"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["about me"])),(t()(),r["\u0275eld"](6,0,null,null,3,"div",[["class","section-title center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,2,"h2",[],null,null,null,null,null)),(t()(),r["\u0275eld"](8,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["services"])),(t()(),r["\u0275eld"](10,0,null,null,28,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](11,0,null,null,6,"div",[["class","col-sm-6 col-md-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](12,0,null,null,5,"div",[["class","service"]],null,null,null,null,null)),(t()(),r["\u0275eld"](13,0,null,null,0,"img",[["alt","image"],["src","./assets/images/site/icon-01-1.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](14,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Web Designer"])),(t()(),r["\u0275eld"](16,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Progetto siti web cercando di renderli di facile utilizzo per l'utente, tenendo sempre in considerazione la responsivit\xe0. "])),(t()(),r["\u0275eld"](18,0,null,null,6,"div",[["class","col-sm-6 col-md-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](19,0,null,null,5,"div",[["class","service"]],null,null,null,null,null)),(t()(),r["\u0275eld"](20,0,null,null,0,"img",[["alt","image"],["src","./assets/images/site/icon-02-1.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](21,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Programmazione"])),(t()(),r["\u0275eld"](23,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Dedico molto tempo alla mia formazione, al momento mi sto dedicando all'approfondimento di javascript e angular. "])),(t()(),r["\u0275eld"](25,0,null,null,6,"div",[["class","col-sm-6 col-md-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](26,0,null,null,5,"div",[["class","service"]],null,null,null,null,null)),(t()(),r["\u0275eld"](27,0,null,null,0,"img",[["alt","image"],["src","./assets/images/site/icon-03-1.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](28,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Futuro"])),(t()(),r["\u0275eld"](30,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Prossimamente vorrei iniziare nuovi progetti con nuovi linguaggi e framework, come ad esempio Vue, React o Flutter. "])),(t()(),r["\u0275eld"](32,0,null,null,6,"div",[["class","col-sm-6 col-md-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](33,0,null,null,5,"div",[["class","service"]],null,null,null,null,null)),(t()(),r["\u0275eld"](34,0,null,null,0,"img",[["alt","image"],["src","./assets/images/site/icon-04-1.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](35,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Problem Solving"])),(t()(),r["\u0275eld"](37,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Ogni problema \xe8 una sfida e non un freno. Mi sprona studiare, a imparare e ovviamente a trovarne una soluzione. "])),(t()(),r["\u0275eld"](39,0,null,null,3,"div",[["class","section-title center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](40,0,null,null,2,"h2",[],null,null,null,null,null)),(t()(),r["\u0275eld"](41,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["work process"])),(t()(),r["\u0275eld"](43,0,null,null,36,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](44,0,null,null,5,"div",[["class","col-xs-4 col-sm-2"]],null,null,null,null,null)),(t()(),r["\u0275eld"](45,0,null,null,4,"div",[["class","process"]],null,null,null,null,null)),(t()(),r["\u0275eld"](46,0,null,null,3,"div",[["class","zoom"]],null,null,null,null,null)),(t()(),r["\u0275eld"](47,0,null,null,0,"i",[["class","pe-7s-chat "]],null,null,null,null,null)),(t()(),r["\u0275eld"](48,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["DISCOVER"])),(t()(),r["\u0275eld"](50,0,null,null,5,"div",[["class","col-xs-4 col-sm-2"]],null,null,null,null,null)),(t()(),r["\u0275eld"](51,0,null,null,4,"div",[["class","process"]],null,null,null,null,null)),(t()(),r["\u0275eld"](52,0,null,null,3,"div",[["class","zoom"]],null,null,null,null,null)),(t()(),r["\u0275eld"](53,0,null,null,0,"i",[["class","pe-7s-light"]],null,null,null,null,null)),(t()(),r["\u0275eld"](54,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["IDEA"])),(t()(),r["\u0275eld"](56,0,null,null,5,"div",[["class","col-xs-4 col-sm-2"]],null,null,null,null,null)),(t()(),r["\u0275eld"](57,0,null,null,4,"div",[["class","process"]],null,null,null,null,null)),(t()(),r["\u0275eld"](58,0,null,null,3,"div",[["class","zoom"]],null,null,null,null,null)),(t()(),r["\u0275eld"](59,0,null,null,0,"i",[["class","pe-7s-vector"]],null,null,null,null,null)),(t()(),r["\u0275eld"](60,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["DESIGN"])),(t()(),r["\u0275eld"](62,0,null,null,5,"div",[["class","col-xs-4 col-sm-2"]],null,null,null,null,null)),(t()(),r["\u0275eld"](63,0,null,null,4,"div",[["class","process"]],null,null,null,null,null)),(t()(),r["\u0275eld"](64,0,null,null,3,"div",[["class","zoom"]],null,null,null,null,null)),(t()(),r["\u0275eld"](65,0,null,null,0,"i",[["class","pe-7s-network"]],null,null,null,null,null)),(t()(),r["\u0275eld"](66,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["DEVELOP"])),(t()(),r["\u0275eld"](68,0,null,null,5,"div",[["class","col-xs-4 col-sm-2"]],null,null,null,null,null)),(t()(),r["\u0275eld"](69,0,null,null,4,"div",[["class","process"]],null,null,null,null,null)),(t()(),r["\u0275eld"](70,0,null,null,3,"div",[["class","zoom"]],null,null,null,null,null)),(t()(),r["\u0275eld"](71,0,null,null,0,"i",[["class","pe-7s-browser"]],null,null,null,null,null)),(t()(),r["\u0275eld"](72,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["TEST"])),(t()(),r["\u0275eld"](74,0,null,null,5,"div",[["class","col-xs-4 col-sm-2"]],null,null,null,null,null)),(t()(),r["\u0275eld"](75,0,null,null,4,"div",[["class","process"]],null,null,null,null,null)),(t()(),r["\u0275eld"](76,0,null,null,3,"div",[["class","zoom"]],null,null,null,null,null)),(t()(),r["\u0275eld"](77,0,null,null,0,"i",[["class","pe-7s-rocket"]],null,null,null,null,null)),(t()(),r["\u0275eld"](78,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["LAUNCH"])),(t()(),r["\u0275eld"](80,0,null,null,3,"div",[["class","section-title center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](81,0,null,null,2,"h2",[],null,null,null,null,null)),(t()(),r["\u0275eld"](82,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["tools"])),(t()(),r["\u0275eld"](84,0,null,null,30,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](85,0,null,null,4,"div",[["class","col-xs-6 col-sm-2 center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](86,0,null,null,3,"div",[["class","tools zoom"]],null,null,null,null,null)),(t()(),r["\u0275eld"](87,0,null,null,0,"i",[["class","fab fa-js fa-3x"]],null,null,null,null,null)),(t()(),r["\u0275eld"](88,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Javascript"])),(t()(),r["\u0275eld"](90,0,null,null,4,"div",[["class","col-xs-6 col-sm-2 center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](91,0,null,null,3,"div",[["class","tools zoom"]],null,null,null,null,null)),(t()(),r["\u0275eld"](92,0,null,null,0,"i",[["class","fab fa-angular fa-3x"]],null,null,null,null,null)),(t()(),r["\u0275eld"](93,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Angular"])),(t()(),r["\u0275eld"](95,0,null,null,4,"div",[["class","col-xs-6 col-sm-2 center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](96,0,null,null,3,"div",[["class","tools zoom"]],null,null,null,null,null)),(t()(),r["\u0275eld"](97,0,null,null,0,"i",[["class","fab fa-css3-alt fa-3x"]],null,null,null,null,null)),(t()(),r["\u0275eld"](98,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Css"])),(t()(),r["\u0275eld"](100,0,null,null,4,"div",[["class","col-xs-6 col-sm-2 center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](101,0,null,null,3,"div",[["class","tools zoom"]],null,null,null,null,null)),(t()(),r["\u0275eld"](102,0,null,null,0,"i",[["class","fab fa-html5 fa-3x"]],null,null,null,null,null)),(t()(),r["\u0275eld"](103,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Html"])),(t()(),r["\u0275eld"](105,0,null,null,4,"div",[["class","col-xs-6 col-sm-2 center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](106,0,null,null,3,"div",[["class","tools zoom"]],null,null,null,null,null)),(t()(),r["\u0275eld"](107,0,null,null,0,"i",[["class","fab fa-font-awesome-flag fa-3x"]],null,null,null,null,null)),(t()(),r["\u0275eld"](108,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Font Awesome"])),(t()(),r["\u0275eld"](110,0,null,null,4,"div",[["class","col-xs-6 col-sm-2 center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](111,0,null,null,3,"div",[["class","tools zoom"]],null,null,null,null,null)),(t()(),r["\u0275eld"](112,0,null,null,0,"i",[["class","fas fa-bold fa-3x"]],null,null,null,null,null)),(t()(),r["\u0275eld"](113,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Bootstrap"])),(t()(),r["\u0275eld"](115,0,null,null,3,"div",[["class","section-title center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](116,0,null,null,2,"h2",[],null,null,null,null,null)),(t()(),r["\u0275eld"](117,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["fun fact"])),(t()(),r["\u0275eld"](119,0,null,null,20,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](120,0,null,null,4,"div",[["class","col-xs-6 col-sm-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](121,0,null,null,3,"div",[["class","fun-fact zoom"]],null,null,null,null,null)),(t()(),r["\u0275eld"](122,0,null,null,0,"i",[["class","pe-7s-music"]],null,null,null,null,null)),(t()(),r["\u0275eld"](123,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["2500 Ore di musica ascoltata"])),(t()(),r["\u0275eld"](125,0,null,null,4,"div",[["class","col-xs-6 col-sm-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](126,0,null,null,3,"div",[["class","fun-fact zoom"]],null,null,null,null,null)),(t()(),r["\u0275eld"](127,0,null,null,0,"i",[["class","pe-7s-bookmarks"]],null,null,null,null,null)),(t()(),r["\u0275eld"](128,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["100+ fumetti letti"])),(t()(),r["\u0275eld"](130,0,null,null,4,"div",[["class","col-xs-6 col-sm-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](131,0,null,null,3,"div",[["class","fun-fact zoom"]],null,null,null,null,null)),(t()(),r["\u0275eld"](132,0,null,null,0,"i",[["class","pe-7s-map-2"]],null,null,null,null,null)),(t()(),r["\u0275eld"](133,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["20 Citt\xe0 da visitare"])),(t()(),r["\u0275eld"](135,0,null,null,4,"div",[["class","col-xs-6 col-sm-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](136,0,null,null,3,"div",[["class","fun-fact zoom"]],null,null,null,null,null)),(t()(),r["\u0275eld"](137,0,null,null,0,"i",[["class","pe-7s-coffee"]],null,null,null,null,null)),(t()(),r["\u0275eld"](138,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["20.000 tazze di caff\xe8 bevute"]))],null,null)}function Ri(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-about",[],null,null,null,Pi,Ni)),r["\u0275did"](1,114688,null,0,ki,[],null,null)],function(t,e){t(e,1,0)},null)}var Mi=r["\u0275ccf"]("app-about",ki,Ri,{},{},[]),Fi=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Li=r["\u0275crt"]({encapsulation:0,styles:[[".labelSkill[_ngcontent-%COMP%]{float:left;margin-right:20px}.bar[_ngcontent-%COMP%]{height:25px;margin:0 auto 10px;border-radius:15px;line-height:21px;font-size:13px;color:#fff;position:relative;padding-left:15px}.bar[_ngcontent-%COMP%]:before{content:'';width:100%;position:absolute;left:0;height:20px;top:0;z-index:-2;background:#d2d6d7;border-radius:15px}.bar[_ngcontent-%COMP%]:after{content:'';background:#8acb82;height:20px;transition:.8s;display:block;width:calc(100% - 10px);-webkit-animation:4s animate;animation:4s animate;position:absolute;top:0;left:0;z-index:-1;border-radius:15px}.bar1[_ngcontent-%COMP%]:after{max-width:85%}.bar2[_ngcontent-%COMP%]:after{max-width:80%}.bar3[_ngcontent-%COMP%]:after{max-width:75%}.bar4[_ngcontent-%COMP%]:after{max-width:70%}@-webkit-keyframes animate{0%{width:0}100%{width:100%}}@keyframes animate{0%{width:0}100%{width:100%}}.clear[_ngcontent-%COMP%]{clear:both}"]],data:{}});function ji(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,117,"section",[["class","pt-page page-layout"],["id","resume"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,116,"div",[["class","content"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,115,"div",[["class","layout-medium"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,2,"h1",[["class","page-title"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,0,"i",[["class","pe-7s-id"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["resume"])),(t()(),r["\u0275eld"](6,0,null,null,111,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,72,"div",[["class","col-sm-7"]],null,null,null,null,null)),(t()(),r["\u0275eld"](8,0,null,null,4,"div",[["class","event"]],null,null,null,null,null)),(t()(),r["\u0275eld"](9,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["CURRICULUM"])),(t()(),r["\u0275eld"](11,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275eld"](12,0,null,null,0,"i",[["class","pe-7s-ribbon"]],null,null,null,null,null)),(t()(),r["\u0275eld"](13,0,null,null,6,"div",[["class","event"]],null,null,null,null,null)),(t()(),r["\u0275eld"](14,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Progetti"])),(t()(),r["\u0275eld"](16,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Introduzione"])),(t()(),r["\u0275eld"](18,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Ho iniziato ad interessarmi alla programmazione per pura curiosit\xe0, ma col tempo sta crescendo in qualcosa di molto pi\xf9 interessante ed eccitante (una nuova sfida, forse). Voglio imparare nuove cose, ma allo stesso tempo voglio poter mettere in pratica ci\xf2 che imparo ed \xe8 per questo che ho creato questo sito nella speranza che un giorno potr\xf2 lavorare a progetti veri. "])),(t()(),r["\u0275eld"](20,0,null,null,11,"div",[["class","event"]],null,null,null,null,null)),(t()(),r["\u0275eld"](21,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Lingue"])),(t()(),r["\u0275eld"](23,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Lingue Conosciute"])),(t()(),r["\u0275eld"](25,0,null,null,6,"ul",[],null,null,null,null,null)),(t()(),r["\u0275eld"](26,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Spagnolo (Madrelingua)"])),(t()(),r["\u0275eld"](28,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Italiano"])),(t()(),r["\u0275eld"](30,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Inglese (Provabile B2)"])),(t()(),r["\u0275eld"](32,0,null,null,13,"div",[["class","event"]],null,null,null,null,null)),(t()(),r["\u0275eld"](33,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Skills"])),(t()(),r["\u0275eld"](35,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Ambienti di sviluppo"])),(t()(),r["\u0275eld"](37,0,null,null,8,"ul",[],null,null,null,null,null)),(t()(),r["\u0275eld"](38,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["MySQL"])),(t()(),r["\u0275eld"](40,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Firebase"])),(t()(),r["\u0275eld"](42,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Visual Studio Code"])),(t()(),r["\u0275eld"](44,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Webstorm (trial)"])),(t()(),r["\u0275eld"](46,0,null,null,9,"div",[["class","event"]],null,null,null,null,null)),(t()(),r["\u0275eld"](47,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Materiali"])),(t()(),r["\u0275eld"](49,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Sistemi operativi"])),(t()(),r["\u0275eld"](51,0,null,null,4,"ul",[],null,null,null,null,null)),(t()(),r["\u0275eld"](52,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Mac OS X (principale)"])),(t()(),r["\u0275eld"](54,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Windows"])),(t()(),r["\u0275eld"](56,0,null,null,3,"div",[["class","section-title center mt-0"]],null,null,null,null,null)),(t()(),r["\u0275eld"](57,0,null,null,2,"h2",[],null,null,null,null,null)),(t()(),r["\u0275eld"](58,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["coding skills"])),(t()(),r["\u0275eld"](60,0,null,null,4,"div",[["class","skill-unit"]],null,null,null,null,null)),(t()(),r["\u0275eld"](61,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["HTML5"])),(t()(),r["\u0275eld"](63,0,null,null,1,"div",[["class","bar bar1"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" 85%"])),(t()(),r["\u0275eld"](65,0,null,null,4,"div",[["class","skill-unit"]],null,null,null,null,null)),(t()(),r["\u0275eld"](66,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["CSS3"])),(t()(),r["\u0275eld"](68,0,null,null,1,"div",[["class","bar bar2"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" 80%"])),(t()(),r["\u0275eld"](70,0,null,null,4,"div",[["class","skill-unit"]],null,null,null,null,null)),(t()(),r["\u0275eld"](71,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Javascript"])),(t()(),r["\u0275eld"](73,0,null,null,1,"div",[["class","bar bar3"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" 75%"])),(t()(),r["\u0275eld"](75,0,null,null,4,"div",[["class","skill-unit"]],null,null,null,null,null)),(t()(),r["\u0275eld"](76,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Angular"])),(t()(),r["\u0275eld"](78,0,null,null,1,"div",[["class","bar bar4"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" 70%"])),(t()(),r["\u0275eld"](80,0,null,null,37,"div",[["class","col-sm-5"]],null,null,null,null,null)),(t()(),r["\u0275eld"](81,0,null,null,3,"div",[["class","section-title center mt-0"]],null,null,null,null,null)),(t()(),r["\u0275eld"](82,0,null,null,2,"h2",[],null,null,null,null,null)),(t()(),r["\u0275eld"](83,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["CORSI"])),(t()(),r["\u0275eld"](85,0,null,null,10,"div",[["class","testo"]],null,null,null,null,null)),(t()(),r["\u0275eld"](86,0,null,null,0,"img",[["alt","someone"],["src","../../../assets/images/blog/javascript.svg"]],null,null,null,null,null)),(t()(),r["\u0275eld"](87,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Edwin Diaz"])),(t()(),r["\u0275eld"](89,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Web Developer & Premium Udemy Instructor "])),(t()(),r["\u0275eld"](91,0,null,null,2,"h6",[],null,null,null,null,null)),(t()(),r["\u0275eld"](92,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Javascript intermidiate level 1"])),(t()(),r["\u0275eld"](94,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Learn to create really nice functionalies by learning the DOM in Javascript. The JavaScript DOM is the big daddy in JavaScript and if you don't know it well, you will not be that effective when manipulating elements in your application."])),(t()(),r["\u0275eld"](96,0,null,null,10,"div",[["class","testo"]],null,null,null,null,null)),(t()(),r["\u0275eld"](97,0,null,null,0,"img",[["alt","someone"],["src","../../../assets/images/blog/angular_logo.svg"]],null,null,null,null,null)),(t()(),r["\u0275eld"](98,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Fabio Biondi"])),(t()(),r["\u0275eld"](100,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Google expert & Microsoft MVP"])),(t()(),r["\u0275eld"](102,0,null,null,2,"h6",[],null,null,null,null,null)),(t()(),r["\u0275eld"](103,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Angular Fundamentals"])),(t()(),r["\u0275eld"](105,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Un corso sulle principali funzionalit\xe0 di Angular 8 per acquisire una solida base sul framework e iniziare a sviluppare le prime Single Page Applications: styling, directives, template driven forms, servizi e dependency injection, server-side communication, multi-view applications con Angular Router, una veloce introduzione alla creazione di componenti e all\u2019organizzazione di progetti."])),(t()(),r["\u0275eld"](107,0,null,null,10,"div",[["class","testo"]],null,null,null,null,null)),(t()(),r["\u0275eld"](108,0,null,null,0,"img",[["alt","someone"],["src","../../../assets/images/blog/rxjs-1.svg"]],null,null,null,null,null)),(t()(),r["\u0275eld"](109,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Fabio Biondi"])),(t()(),r["\u0275eld"](111,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Google expert & Microsoft MVP"])),(t()(),r["\u0275eld"](113,0,null,null,2,"h6",[],null,null,null,null,null)),(t()(),r["\u0275eld"](114,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["ANGULAR & RXJS"])),(t()(),r["\u0275eld"](116,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["RxJS \xe8 una delle dipendenze pi\xf9 importanti di Angular, alla base della maggior parte delle funzionalit\xe0 del framework. Infatti, reactive forms, router, HttpClient, HTTP interceptors, @Output EventEmitter, state manager come NGRX, solo per citarne alcuni, sono basati sul concetto di Observable."]))],null,null)}function Vi(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-resume",[],null,null,null,ji,Li)),r["\u0275did"](1,114688,null,0,Fi,[],null,null)],function(t,e){t(e,1,0)},null)}var Bi=r["\u0275ccf"]("app-resume",Fi,Vi,{},{},[]),Ui=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),qi=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function zi(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" portfolio works!\n"]))],null,null)}function Qi(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-portfolio",[],null,null,null,zi,qi)),r["\u0275did"](1,114688,null,0,Ui,[],null,null)],function(t,e){t(e,1,0)},null)}var Hi=r["\u0275ccf"]("app-portfolio",Ui,Qi,{},{},[]);function Wi(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(g.a)(e[0])&&(e=e[0]),0===e.length?S.a:t?Wi(e).pipe(Object(D.a)(function(e){return t.apply(void 0,e)})):new p.a(function(t){return new Ki(t,e)})}var Ki=function(t){function e(e,n){var r=t.call(this,e)||this;r.sources=n,r.completed=0,r.haveValues=0;var i=n.length;r.values=new Array(i);for(var o=0;o<i;o++){var a=n[o],s=Object(_.a)(r,a,null,o);s&&r.add(s)}return r}return a.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()},e}(v.a),Gi=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),Yi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(Gi);function Ji(t){return null==t||0===t.length}var Zi=new r.InjectionToken("NgValidators"),Xi=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,$i=function(){function t(){}return t.min=function(t){return function(e){if(Ji(e.value)||Ji(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(Ji(e.value)||Ji(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return Ji(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return Ji(t.value)?null:Xi.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(Ji(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(Ji(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(to);return 0==e.length?null:function(t){return no(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(to);return 0==e.length?null:function(t){return Wi(function(t,n){return e.map(function(e){return e(t)})}(t).map(eo)).pipe(Object(D.a)(no))}},t}();function to(t){return null!=t}function eo(t){var e=Object(r["\u0275isPromise"])(t)?Object(l.a)(t):t;if(!Object(r["\u0275isObservable"])(e))throw new Error("Expected validator to return Promise or Observable.");return e}function no(t){var e=t.reduce(function(t,e){return null!=e?Object(a.__assign)({},t,e):t},{});return 0===Object.keys(e).length?null:e}var ro=new r.InjectionToken("NgValueAccessor"),io=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),oo=new r.InjectionToken("CompositionEventMode"),ao=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=gt()?gt().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();function so(t){return t.validate?function(e){return t.validate(e)}:t}function uo(t){return t.validate?function(e){return t.validate(e)}:t}var lo=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function co(){throw new Error("unimplemented")}var ho=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return co()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return co()},enumerable:!0,configurable:!0}),e}(Gi),fo=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),po=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(ho),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),yo='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',mo='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function go(t,e){return Object(a.__spread)(e.path,[t])}function vo(t,e){t||bo(e,"Cannot find control with"),e.valueAccessor||bo(e,"No value accessor for form control with"),t.validator=$i.compose([t.validator,e.validator]),t.asyncValidator=$i.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&_o(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&_o(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function _o(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bo(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function wo(t){return null!=t?$i.compose(t.map(so)):null}function Co(t){return null!=t?$i.composeAsync(t.map(uo)):null}var Eo=[io,function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),lo,function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r["\u0275looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){var e,n;try{for(var r=Object(a.__values)(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var o=i.value;if(this._compareWith(this._optionMap.get(o),t))return o}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r["\u0275looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(i=n.options,o=0;o<i.length;o++)(a=i.item(o)).selected&&(s=e._getOptionValue(a.value),r.push(s));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){var e,n;try{for(var r=Object(a.__values)(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var o=i.value;if(this._compareWith(this._optionMap.get(o)._value,t))return o}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),po],So=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return go(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return wo(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Co(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(Yi),To=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),Do=function(t){function e(e){return t.call(this,e)||this}return Object(a.__extends)(e,t),e}(To),Io=function(t){function e(e){return t.call(this,e)||this}return Object(a.__extends)(e,t),e}(To);function Oo(t){var e=xo(t)?t.validators:t;return Array.isArray(e)?wo(e):e||null}function Ao(t,e){var n=xo(e)?e.asyncValidators:t;return Array.isArray(n)?Co(n):n||null}function xo(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var ko=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=Oo(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=Ao(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object(a.__assign)({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(Object(a.__assign)({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=eo(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof Po?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof Ro&&t.at(e)||null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new r.EventEmitter,this.statusChanges=new r.EventEmitter},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){xo(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),No=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,Oo(n),Ao(r,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return Object(a.__extends)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(ko),Po=function(t){function e(e,n,r){var i=t.call(this,Oo(n),Ao(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(a.__extends)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof No?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(a.__values)(Object.keys(this.controls)),r=n.next();!r.done;r=n.next())if(this.controls[r.value].enabled)return!1}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(ko),Ro=function(t){function e(e,n,r){var i=t.call(this,Oo(n),Ao(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(a.__extends)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof No?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(a.__values)(this.controls),r=n.next();!r.done;r=n.next())if(r.value.enabled)return!1}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(ko),Mo=Promise.resolve(null),Fo=function(t){function e(e,n){var i=t.call(this)||this;return i.submitted=!1,i._directives=[],i.ngSubmit=new r.EventEmitter,i.form=new Po({},wo(e),Co(n)),i}return Object(a.__extends)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;Mo.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),vo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;Mo.then(function(){var n,r,i=e._findContainer(t.path);i&&i.removeControl(t.name),(r=(n=e._directives).indexOf(t))>-1&&n.splice(r,1)})},e.prototype.addFormGroup=function(t){var e=this;Mo.then(function(){var n=e._findContainer(t.path),r=new Po({});(function(t,e){null==t&&bo(e,"Cannot find control with"),t.validator=$i.compose([t.validator,e.validator]),t.asyncValidator=$i.composeAsync([t.asyncValidator,e.asyncValidator])})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;Mo.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;Mo.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(Yi),Lo=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+yo+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+mo)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+yo+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+mo)},t.ngFormWarning=function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")},t}(),jo=new r.InjectionToken("NgFormSelectorWarning"),Vo=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}var n;return Object(a.__extends)(e,t),n=e,e.prototype._checkParentType=function(){this._parent instanceof n||this._parent instanceof Fo||Lo.modelGroupParentException()},e}(So),Bo=Promise.resolve(null),Uo=function(t){function e(e,n,i,o){var a=t.call(this)||this;return a.control=new No,a._registered=!1,a.update=new r.EventEmitter,a._parent=e,a._rawValidators=n||[],a._rawAsyncValidators=i||[],a.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||bo(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach(function(e){var o;e.constructor===ao?n=e:(o=e,Eo.some(function(t){return o.constructor===t})?(r&&bo(t,"More than one built-in value accessor matches form control with"),r=e):(i&&bo(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(bo(t,"No valid value accessor for form control with"),null)}(a,o),a}return Object(a.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(r["\u0275looseIdentical"])(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?go(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return wo(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Co(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){vo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof Vo)&&this._parent instanceof So?Lo.formGroupNameException():this._parent instanceof Vo||this._parent instanceof Fo||Lo.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Lo.missingNameException()},e.prototype._updateValue=function(t){var e=this;Bo.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Bo.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}(ho),qo=new r.InjectionToken("NgModelWithFormControlWarning"),zo=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?$i.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),Qo=function(){function t(){}return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=$i.minLength(parseInt(this.minlength,10))},t}(),Ho=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Po(n,{asyncValidators:i,updateOn:o,validators:r})},t.prototype.control=function(t,e,n){return new No(t,e,n)},t.prototype.array=function(t,e,n){var r=this,i=t.map(function(t){return r._createControl(t)});return new Ro(i,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){return t instanceof No||t instanceof Po||t instanceof Ro?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)},t}(),Wo=function(){return function(){}}(),Ko=function(){return function(){}}(),Go=function(){function t(){}var e;return e=t,t.withConfig=function(t){return{ngModule:e,providers:[{provide:jo,useValue:t.warnOnDeprecatedNgFormSelector}]}},t}(),Yo=function(){function t(){}var e;return e=t,t.withConfig=function(t){return{ngModule:e,providers:[{provide:qo,useValue:t.warnOnNgModelWithFormControl}]}},t}(),Jo=(n("6233"),function(){function t(t){this.afDb=t,this.showMessage=!1,this.users=[]}return t.prototype.onSubmit=function(t){var e=t.value,n=e.name,r=e.email,i=e.message,o=Date();this.showHideMessage();var a={name:n,email:r,message:i,date:o};this.afDb.list("/messages").push(a)},t.prototype.showHideMessage=function(){this.showMessage=!this.showMessage},t}()),Zo=n("ug5D"),Xo=r["\u0275crt"]({encapsulation:0,styles:[["#contact[_ngcontent-%COMP%]{background:#2f4f4f}.submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-items:flex-start;text-align:center}"]],data:{}});function $o(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["troppo corto"]))],null,null)}function ta(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" il campo \xe8 obbligatorio "]))],null,null)}function ea(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" il campo \xe8 obbligatorio "]))],null,null)}function na(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" il campo \xe8 obbligatorio "]))],null,null)}function ra(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,56,"div",[["class","contact-form"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,55,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0,o=t.component;return"submit"===e&&(i=!1!==r["\u0275nov"](t,3).onSubmit(n)&&i),"reset"===e&&(i=!1!==r["\u0275nov"](t,3).onReset()&&i),"submit"===e&&(i=!1!==o.onSubmit(r["\u0275nov"](t,3))&&i),i},null,null)),r["\u0275did"](2,16384,null,0,Wo,[],null,null),r["\u0275did"](3,4210688,[["f",4]],0,Fo,[[8,null],[8,null]],null,null),r["\u0275prd"](2048,null,Yi,null,[Fo]),r["\u0275did"](5,16384,null,0,Io,[[4,Yi]],null,null),(t()(),r["\u0275eld"](6,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["NOME"])),(t()(),r["\u0275eld"](9,0,null,null,10,"input",[["id","name"],["minlength","3"],["name","name"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0;return"input"===e&&(i=!1!==r["\u0275nov"](t,12)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,12).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,12)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,12)._compositionEnd(n.target.value)&&i),i},null,null)),r["\u0275did"](10,278528,null,0,s.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{ngClass:[0,"ngClass"]},null),r["\u0275pod"](11,{error:0}),r["\u0275did"](12,16384,null,0,ao,[r.Renderer2,r.ElementRef,[2,oo]],null,null),r["\u0275did"](13,16384,null,0,zo,[],{required:[0,"required"]},null),r["\u0275did"](14,540672,null,0,Qo,[],{minlength:[0,"minlength"]},null),r["\u0275prd"](1024,null,Zi,function(t,e){return[t,e]},[zo,Qo]),r["\u0275prd"](1024,null,ro,function(t){return[t]},[ao]),r["\u0275did"](17,671744,[["labelRef",4]],0,Uo,[[2,Yi],[6,Zi],[8,null],[6,ro]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,ho,null,[Uo]),r["\u0275did"](19,16384,null,0,Do,[[4,ho]],null,null),(t()(),r["\u0275and"](16777216,null,null,1,null,$o)),r["\u0275did"](21,16384,null,0,s.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,ta)),r["\u0275did"](23,16384,null,0,s.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](24,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](25,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["EMAIL"])),(t()(),r["\u0275eld"](27,0,null,null,9,"input",[["id","email"],["name","email"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0;return"input"===e&&(i=!1!==r["\u0275nov"](t,30)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,30).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,30)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,30)._compositionEnd(n.target.value)&&i),i},null,null)),r["\u0275did"](28,278528,null,0,s.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{ngClass:[0,"ngClass"]},null),r["\u0275pod"](29,{error:0}),r["\u0275did"](30,16384,null,0,ao,[r.Renderer2,r.ElementRef,[2,oo]],null,null),r["\u0275did"](31,16384,null,0,zo,[],{required:[0,"required"]},null),r["\u0275prd"](1024,null,Zi,function(t){return[t]},[zo]),r["\u0275prd"](1024,null,ro,function(t){return[t]},[ao]),r["\u0275did"](34,671744,[["emailRef",4]],0,Uo,[[2,Yi],[6,Zi],[8,null],[6,ro]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,ho,null,[Uo]),r["\u0275did"](36,16384,null,0,Do,[[4,ho]],null,null),(t()(),r["\u0275and"](16777216,null,null,1,null,ea)),r["\u0275did"](38,16384,null,0,s.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](39,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](40,0,null,null,1,"label",[["for","message"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["MESSAGIO"])),(t()(),r["\u0275eld"](42,0,null,null,9,"textarea",[["id","message"],["name","message"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0;return"input"===e&&(i=!1!==r["\u0275nov"](t,45)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,45).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,45)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,45)._compositionEnd(n.target.value)&&i),i},null,null)),r["\u0275did"](43,278528,null,0,s.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{ngClass:[0,"ngClass"]},null),r["\u0275pod"](44,{error:0}),r["\u0275did"](45,16384,null,0,ao,[r.Renderer2,r.ElementRef,[2,oo]],null,null),r["\u0275did"](46,16384,null,0,zo,[],{required:[0,"required"]},null),r["\u0275prd"](1024,null,Zi,function(t){return[t]},[zo]),r["\u0275prd"](1024,null,ro,function(t){return[t]},[ao]),r["\u0275did"](49,671744,[["messageRef",4]],0,Uo,[[2,Yi],[6,Zi],[8,null],[6,ro]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,ho,null,[Uo]),r["\u0275did"](51,16384,null,0,Do,[[4,ho]],null,null),(t()(),r["\u0275and"](16777216,null,null,1,null,na)),r["\u0275did"](53,16384,null,0,s.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](54,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](55,0,null,null,1,"button",[["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Invia "]))],function(t,e){var n=e.component,i=t(e,11,0,r["\u0275nov"](e,17).invalid&&r["\u0275nov"](e,3).dirty);t(e,10,0,i),t(e,13,0,""),t(e,14,0,"3"),t(e,17,0,"name",null==n.user?null:n.user.name),t(e,21,0,null==r["\u0275nov"](e,17).errors?null:r["\u0275nov"](e,17).errors.minlength),t(e,23,0,r["\u0275nov"](e,17).touched&&!r["\u0275nov"](e,17).valid);var o=t(e,29,0,r["\u0275nov"](e,34).invalid&&r["\u0275nov"](e,3).dirty);t(e,28,0,o),t(e,31,0,""),t(e,34,0,"email",null==n.user?null:n.user.email),t(e,38,0,r["\u0275nov"](e,34).touched&&!r["\u0275nov"](e,34).valid);var a=t(e,44,0,r["\u0275nov"](e,49).invalid&&r["\u0275nov"](e,3).dirty);t(e,43,0,a),t(e,46,0,""),t(e,49,0,"message",null==n.user?null:n.user.message),t(e,53,0,r["\u0275nov"](e,49).touched&&!r["\u0275nov"](e,49).valid)},function(t,e){t(e,1,0,r["\u0275nov"](e,5).ngClassUntouched,r["\u0275nov"](e,5).ngClassTouched,r["\u0275nov"](e,5).ngClassPristine,r["\u0275nov"](e,5).ngClassDirty,r["\u0275nov"](e,5).ngClassValid,r["\u0275nov"](e,5).ngClassInvalid,r["\u0275nov"](e,5).ngClassPending),t(e,9,0,r["\u0275nov"](e,13).required?"":null,r["\u0275nov"](e,14).minlength?r["\u0275nov"](e,14).minlength:null,r["\u0275nov"](e,19).ngClassUntouched,r["\u0275nov"](e,19).ngClassTouched,r["\u0275nov"](e,19).ngClassPristine,r["\u0275nov"](e,19).ngClassDirty,r["\u0275nov"](e,19).ngClassValid,r["\u0275nov"](e,19).ngClassInvalid,r["\u0275nov"](e,19).ngClassPending),t(e,27,0,r["\u0275nov"](e,31).required?"":null,r["\u0275nov"](e,36).ngClassUntouched,r["\u0275nov"](e,36).ngClassTouched,r["\u0275nov"](e,36).ngClassPristine,r["\u0275nov"](e,36).ngClassDirty,r["\u0275nov"](e,36).ngClassValid,r["\u0275nov"](e,36).ngClassInvalid,r["\u0275nov"](e,36).ngClassPending),t(e,42,0,r["\u0275nov"](e,46).required?"":null,r["\u0275nov"](e,51).ngClassUntouched,r["\u0275nov"](e,51).ngClassTouched,r["\u0275nov"](e,51).ngClassPristine,r["\u0275nov"](e,51).ngClassDirty,r["\u0275nov"](e,51).ngClassValid,r["\u0275nov"](e,51).ngClassInvalid,r["\u0275nov"](e,51).ngClassPending),t(e,55,0,r["\u0275nov"](e,3).invalid)})}function ia(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["GRAZIE!"])),(t()(),r["\u0275eld"](3,0,null,null,0,"i",[["class","fas fa-check"]],null,null,null,null,null))],null,null)}function oa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,45,"section",[["class","pt-page page-layout contact light-text"],["id","contact"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,44,"div",[["class","content"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,2,"h1",[["class","page-title"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,0,"i",[["class","pe-7s-call"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" CONTACT ME "])),(t()(),r["\u0275eld"](5,0,null,null,3,"div",[["class","section-title center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](6,0,null,null,2,"h2",[],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Socializiamo"])),(t()(),r["\u0275eld"](9,0,null,null,8,"ul",[["class","social"]],null,null,null,null,null)),(t()(),r["\u0275eld"](10,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275eld"](11,0,null,null,0,"a",[["class","facebook"],["href","https://www.facebook.com/leidy.rosariocastillo"]],null,null,null,null,null)),(t()(),r["\u0275eld"](12,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275eld"](13,0,null,null,0,"a",[["class","twitter"],["href","https://twitter.com/leidyRosario93"]],null,null,null,null,null)),(t()(),r["\u0275eld"](14,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275eld"](15,0,null,null,0,"a",[["class","github"],["href","https://github.com/leidyrosario"]],null,null,null,null,null)),(t()(),r["\u0275eld"](16,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275eld"](17,0,null,null,0,"a",[["class","linkedin"],["href","https://www.linkedin.com/in/leidy-rosario-72b95219b"]],null,null,null,null,null)),(t()(),r["\u0275eld"](18,0,null,null,3,"div",[["class","section-title center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](19,0,null,null,2,"h2",[],null,null,null,null,null)),(t()(),r["\u0275eld"](20,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Contattami"])),(t()(),r["\u0275eld"](22,0,null,null,15,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](23,0,null,null,4,"div",[["class","col-xs-6 col-sm-4"]],null,null,null,null,null)),(t()(),r["\u0275eld"](24,0,null,null,3,"div",[["class","fun-fact"]],null,null,null,null,null)),(t()(),r["\u0275eld"](25,0,null,null,0,"i",[["class","pe-7s-map-marker"]],null,null,null,null,null)),(t()(),r["\u0275eld"](26,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["based in Milan, Italy"])),(t()(),r["\u0275eld"](28,0,null,null,4,"div",[["class","col-xs-6 col-sm-4"]],null,null,null,null,null)),(t()(),r["\u0275eld"](29,0,null,null,3,"div",[["class","fun-fact"]],null,null,null,null,null)),(t()(),r["\u0275eld"](30,0,null,null,0,"i",[["class","pe-7s-call"]],null,null,null,null,null)),(t()(),r["\u0275eld"](31,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Tel : +39 3475777098"])),(t()(),r["\u0275eld"](33,0,null,null,4,"div",[["class","col-xs-6 col-sm-4"]],null,null,null,null,null)),(t()(),r["\u0275eld"](34,0,null,null,3,"div",[["class","fun-fact"]],null,null,null,null,null)),(t()(),r["\u0275eld"](35,0,null,null,0,"i",[["class","pe-7s-check"]],null,null,null,null,null)),(t()(),r["\u0275eld"](36,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Freelance Available"])),(t()(),r["\u0275eld"](38,0,null,null,3,"div",[["class","section-title center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](39,0,null,null,2,"h2",[],null,null,null,null,null)),(t()(),r["\u0275eld"](40,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Drop Me A Line"])),(t()(),r["\u0275and"](16777216,null,null,1,null,ra)),r["\u0275did"](43,16384,null,0,s.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,ia)),r["\u0275did"](45,16384,null,0,s.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,43,0,!n.showMessage),t(e,45,0,n.showMessage)},null)}function aa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-contact",[],null,null,null,oa,Xo)),r["\u0275did"](1,49152,null,0,Jo,[Zo.AngularFireDatabase],null,null)],null,null)}var sa=r["\u0275ccf"]("app-contact",Jo,aa,{},{},[]),ua=function(){return function(){}}(),la=function(){return function(){}}(),ca=function(){return function(){this.align="start"}}(),ha=function(){return function(){}}(),fa=function(){return function(){}}(),pa=function(){return function(){}}(),da=function(){return function(){}}(),ya=function(){return function(){}}();function ma(t){return null!=t&&""+t!="false"}try{"undefined"!=typeof Intl&&Intl}catch(Wc){}n("T1DM");var ga=new r.InjectionToken("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),va=function(){function t(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}return t.prototype._areChecksEnabled=function(){return this._sanityChecksEnabled&&Object(r.isDevMode)()&&!this._isTestEnv()},t.prototype._isTestEnv=function(){var t=this._window;return t&&(t.__karma__||t.jasmine)},t.prototype._checkDoctypeIsDefined=function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")},t.prototype._checkThemeIsPresent=function(){if(this._document&&this._document.body&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}},t.prototype._checkHammerIsAvailable=function(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)},t}();function _a(t,e){return function(t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return i.color=e,i}return Object(a.__extends)(n,t),Object.defineProperty(n.prototype,"color",{get:function(){return this._color},set:function(t){var n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)},enumerable:!0,configurable:!0}),n}(t)}var ba=r["\u0275crt"]({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}@media (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px 0}@media (max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],data:{}});function wa(t){return r["\u0275vid"](2,[r["\u0275ncd"](null,0),r["\u0275ncd"](null,1)],null,null)}var Ca=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Ea(t){return r["\u0275vid"](2,[r["\u0275ncd"](null,0),(t()(),r["\u0275eld"](1,0,null,null,1,"div",[["class","mat-card-header-text"]],null,null,null,null,null)),r["\u0275ncd"](null,1),r["\u0275ncd"](null,2)],null,null)}var Sa=function(){function t(t,e){this.element=t,this.renderer=e,this.defaultElevation=2,this.raisedElevation=8,this.setElevation(this.defaultElevation)}return t.prototype.ngOnChanges=function(t){this.setElevation(this.defaultElevation)},t.prototype.onMouseEnter=function(){this.setElevation(this.raisedElevation)},t.prototype.onMouseLeave=function(){this.setElevation(this.defaultElevation)},t.prototype.setElevation=function(t){var e=this;Array.from(this.element.nativeElement.classList).filter(function(t){return t.startsWith("mat-elevation-z")}).forEach(function(t){e.renderer.removeClass(e.element.nativeElement,t)}),this.renderer.addClass(this.element.nativeElement,"mat-elevation-z"+t)},t}(),Ta=function(){function t(){this._vertical=!1,this._inset=!1}return Object.defineProperty(t.prototype,"vertical",{get:function(){return this._vertical},set:function(t){this._vertical=ma(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inset",{get:function(){return this._inset},set:function(t){this._inset=ma(t)},enumerable:!0,configurable:!0}),t}(),Da=function(){return function(){}}(),Ia=r["\u0275crt"]({encapsulation:2,styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],data:{}});function Oa(t){return r["\u0275vid"](2,[],null,null)}var Aa=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach(function(t){var n=t.indexOf(":");if(n>0){var r=t.slice(0,n),i=r.toLowerCase(),o=t.slice(n+1).trim();e.maybeSetNormalizedName(r,i),e.headers.has(i)?e.headers.get(i).push(o):e.headers.set(i,[o])}})}:function(){e.headers=new Map,Object.keys(t).forEach(function(n){var r=t[n],i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(e.headers.set(i,r),e.maybeSetNormalizedName(n,i))})}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})},t.prototype.clone=function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,Object(a.__spread)(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter(function(t){return-1===i.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})},t}(),xa=function(){function t(){}return t.prototype.encodeKey=function(t){return ka(t)},t.prototype.encodeValue=function(t){return ka(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();function ka(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Na=function(){function t(t){void 0===t&&(t={});var e,n,r,i=this;if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new xa,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=t.fromString,n=this.encoder,r=new Map,e.length>0&&e.split("&").forEach(function(t){var e=t.indexOf("="),i=Object(a.__read)(-1==e?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,e)),n.decodeValue(t.slice(e+1))],2),o=i[0],s=i[1],u=r.get(o)||[];u.push(s),r.set(o,u)}),r)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(function(e){var n=t.fromObject[e];i.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).join("&")},t.prototype.clone=function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=null)},t}();function Pa(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Ra(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Ma(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Fa=function(){function t(t,e,n,r){var i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Aa),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Na,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:Pa(this.body)||Ra(this.body)||Ma(this.body)||"string"==typeof this.body?this.body:this.body instanceof Na?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:Ma(this.body)?null:Ra(this.body)?this.body.type||null:Pa(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Na?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(l=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},l)),new t(n,r,o,{params:l,headers:u,reportProgress:s,responseType:i,withCredentials:a})},t}(),La=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),ja=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=La.Response,n.body=void 0!==e.body?e.body:null,n}return Object(a.__extends)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(function(){return function(t,e,n){void 0===e&&(e=200),void 0===n&&(n="OK"),this.headers=t.headers||new Aa,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}());function Va(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var Ba=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,n){var r,i=this;if(void 0===n&&(n={}),t instanceof Fa)r=t;else{var o;o=n.headers instanceof Aa?n.headers:new Aa(n.headers);var a=void 0;n.params&&(a=n.params instanceof Na?n.params:new Na({fromObject:n.params})),r=new Fa(t,e,void 0!==n.body?n.body:null,{headers:o,params:a,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var s=Object(u.a)(r).pipe(ct(function(t){return i.handler.handle(t)}));if(t instanceof Fa||"events"===n.observe)return s;var l=s.pipe(x(function(t){return t instanceof ja}));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return l.pipe(Object(D.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return l.pipe(Object(D.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return l.pipe(Object(D.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return l.pipe(Object(D.a)(function(t){return t.body}))}case"response":return l;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new Na).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,n){return void 0===n&&(n={}),this.request("PATCH",t,Va(n,e))},t.prototype.post=function(t,e,n){return void 0===n&&(n={}),this.request("POST",t,Va(n,e))},t.prototype.put=function(t,e,n){return void 0===n&&(n={}),this.request("PUT",t,Va(n,e))},t}(),Ua=n("XlPw"),qa=n("S1nX");function za(t){return Error('Unable to find icon with the name "'+t+'"')}function Qa(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was \""+t+'".')}function Ha(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was \""+t+'".')}var Wa=function(){return function(t){t.nodeName?this.svgElement=t:this.url=t}}(),Ka=function(){function t(t,e,n){this._httpClient=t,this._sanitizer=e,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}return t.prototype.addSvgIcon=function(t,e){return this.addSvgIconInNamespace("",t,e)},t.prototype.addSvgIconLiteral=function(t,e){return this.addSvgIconLiteralInNamespace("",t,e)},t.prototype.addSvgIconInNamespace=function(t,e,n){return this._addSvgIconConfig(t,e,new Wa(n))},t.prototype.addSvgIconLiteralInNamespace=function(t,e,n){var i=this._sanitizer.sanitize(r.SecurityContext.HTML,n);if(!i)throw Ha(n);var o=this._createSvgElementForSingleIcon(i);return this._addSvgIconConfig(t,e,new Wa(o))},t.prototype.addSvgIconSet=function(t){return this.addSvgIconSetInNamespace("",t)},t.prototype.addSvgIconSetLiteral=function(t){return this.addSvgIconSetLiteralInNamespace("",t)},t.prototype.addSvgIconSetInNamespace=function(t,e){return this._addSvgIconSetConfig(t,new Wa(e))},t.prototype.addSvgIconSetLiteralInNamespace=function(t,e){var n=this._sanitizer.sanitize(r.SecurityContext.HTML,e);if(!n)throw Ha(e);var i=this._svgElementFromString(n);return this._addSvgIconSetConfig(t,new Wa(i))},t.prototype.registerFontClassAlias=function(t,e){return void 0===e&&(e=t),this._fontCssClassesByAlias.set(t,e),this},t.prototype.classNameForFontAlias=function(t){return this._fontCssClassesByAlias.get(t)||t},t.prototype.setDefaultFontSetClass=function(t){return this._defaultFontSetClass=t,this},t.prototype.getDefaultFontSetClass=function(){return this._defaultFontSetClass},t.prototype.getSvgIconFromUrl=function(t){var e=this,n=this._sanitizer.sanitize(r.SecurityContext.RESOURCE_URL,t);if(!n)throw Qa(t);var i=this._cachedIconsByUrl.get(n);return i?Object(u.a)(Ga(i)):this._loadSvgIconFromConfig(new Wa(t)).pipe(B(function(t){return e._cachedIconsByUrl.set(n,t)}),Object(D.a)(function(t){return Ga(t)}))},t.prototype.getNamedSvgIcon=function(t,e){void 0===e&&(e="");var n=Ya(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);var i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(Ua.a)(za(n))},t.prototype.ngOnDestroy=function(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()},t.prototype._getSvgFromConfig=function(t){return t.svgElement?Object(u.a)(Ga(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(B(function(e){return t.svgElement=e}),Object(D.a)(function(t){return Ga(t)}))},t.prototype._getSvgFromIconSetConfigs=function(t,e){var n=this,i=this._extractIconWithNameFromAnySet(t,e);return i?Object(u.a)(i):Wi(e.filter(function(t){return!t.svgElement}).map(function(t){return n._loadSvgIconSetFromConfig(t).pipe(Z(function(e){var i=n._sanitizer.sanitize(r.SecurityContext.RESOURCE_URL,t.url);return console.error("Loading icon set URL: "+i+" failed: "+e.message),Object(u.a)(null)}))})).pipe(Object(D.a)(function(){var r=n._extractIconWithNameFromAnySet(t,e);if(!r)throw za(t);return r}))},t.prototype._extractIconWithNameFromAnySet=function(t,e){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.svgElement){var i=this._extractSvgIconFromSet(r.svgElement,t);if(i)return i}}return null},t.prototype._loadSvgIconFromConfig=function(t){var e=this;return this._fetchUrl(t.url).pipe(Object(D.a)(function(t){return e._createSvgElementForSingleIcon(t)}))},t.prototype._loadSvgIconSetFromConfig=function(t){var e=this;return t.svgElement?Object(u.a)(t.svgElement):this._fetchUrl(t.url).pipe(Object(D.a)(function(n){return t.svgElement||(t.svgElement=e._svgElementFromString(n)),t.svgElement}))},t.prototype._createSvgElementForSingleIcon=function(t){var e=this._svgElementFromString(t);return this._setSvgAttributes(e),e},t.prototype._extractSvgIconFromSet=function(t,e){var n=t.querySelector("#"+e);if(!n)return null;var r=n.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r));var i=this._svgElementFromString("<svg></svg>");return i.appendChild(r),this._setSvgAttributes(i)},t.prototype._svgElementFromString=function(t){var e=this._document.createElement("DIV");e.innerHTML=t;var n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n},t.prototype._toSvgElement=function(t){for(var e=this._svgElementFromString("<svg></svg>"),n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[n].cloneNode(!0));return e},t.prototype._setSvgAttributes=function(t){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),t},t.prototype._fetchUrl=function(t){var e=this;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error('Cannot fetch icon from URL "'+t+'".');var n=this._sanitizer.sanitize(r.SecurityContext.RESOURCE_URL,t);if(!n)throw Qa(t);var i=this._inProgressUrlFetches.get(n);if(i)return i;var o=this._httpClient.get(n,{responseType:"text"}).pipe(pt(function(){return e._inProgressUrlFetches.delete(n)}),Object(qa.a)());return this._inProgressUrlFetches.set(n,o),o},t.prototype._addSvgIconConfig=function(t,e,n){return this._svgIconConfigs.set(Ya(t,e),n),this},t.prototype._addSvgIconSetConfig=function(t,e){var n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this},t.ngInjectableDef=Object(r.defineInjectable)({factory:function(){return new t(Object(r.inject)(Ba,8),Object(r.inject)(de),Object(r.inject)(s.DOCUMENT,8))},token:t,providedIn:"root"}),t}();function Ga(t){return t.cloneNode(!0)}function Ya(t,e){return t+":"+e}var Ja=_a(function(){return function(t){this._elementRef=t}}()),Za=new r.InjectionToken("mat-icon-location",{providedIn:"root",factory:function(){var t=Object(r.inject)(s.DOCUMENT),e=t?t.location:null;return{getPathname:function(){return e?e.pathname+e.search:""}}}}),Xa=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$a=Xa.map(function(t){return"["+t+"]"}).join(", "),ts=/^url\(['"]?#(.*?)['"]?\)$/,es=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._iconRegistry=n,o._location=i,o._inline=!1,r||e.nativeElement.setAttribute("aria-hidden","true"),o}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"inline",{get:function(){return this._inline},set:function(t){this._inline=ma(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSet",{get:function(){return this._fontSet},set:function(t){this._fontSet=this._cleanupFontValue(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontIcon",{get:function(){return this._fontIcon},set:function(t){this._fontIcon=this._cleanupFontValue(t)},enumerable:!0,configurable:!0}),e.prototype._splitIconName=function(t){if(!t)return["",""];var e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error('Invalid icon name: "'+t+'"')}},e.prototype.ngOnChanges=function(t){var e=this,n=t.svgIcon;if(n)if(this.svgIcon){var r=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(r[1],r[0]).pipe(tt(1)).subscribe(function(t){return e._setSvgElement(t)},function(t){return console.log("Error retrieving icon: "+t.message)})}else n.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()},e.prototype.ngOnInit=function(){this._usingFontIcon()&&this._updateFontIconClasses()},e.prototype.ngAfterViewChecked=function(){var t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){var e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}},e.prototype.ngOnDestroy=function(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()},e.prototype._usingFontIcon=function(){return!this.svgIcon},e.prototype._setSvgElement=function(t){this._clearSvgElement();for(var e=t.querySelectorAll("style"),n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){var r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r)}this._elementRef.nativeElement.appendChild(t)},e.prototype._clearSvgElement=function(){var t=this._elementRef.nativeElement,e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){var n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}},e.prototype._updateFontIconClasses=function(){if(this._usingFontIcon()){var t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}},e.prototype._cleanupFontValue=function(t){return"string"==typeof t?t.trim().split(" ")[0]:t},e.prototype._prependPathToReferences=function(t){var e=this._elementsWithExternalReferences;e&&e.forEach(function(e,n){e.forEach(function(e){n.setAttribute(e.name,"url('"+t+"#"+e.value+"')")})})},e.prototype._cacheChildrenWithExternalReferences=function(t){for(var e=t.querySelectorAll($a),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,r=function(t){Xa.forEach(function(r){var i=e[t],o=i.getAttribute(r),a=o?o.match(ts):null;if(a){var s=n.get(i);s||n.set(i,s=[]),s.push({name:r,value:a[1]})}})},i=0;i<e.length;i++)r(i)},e}(Ja),ns=function(){return function(){}}(),rs=r["\u0275crt"]({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}});function is(t){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var os=function(){return function(){this.defaultElevation=2,this.raisedElevation=8}}(),as=r["\u0275crt"]({encapsulation:0,styles:[['.card1[_ngcontent-%COMP%]{background-color:#ffff;border-radius:15px}.title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:8px;margin-left:-17px;font-weight:700;font-style:italic;text-align:left}.image[_ngcontent-%COMP%]{height:"200px";width:"300px"}.mat-divider[_ngcontent-%COMP%]{border-top-width:2px;border-top-style:ridge}']],data:{}});function ss(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,25,"mat-card",[["appMaterialElevation",""],["class","card1 mat-card"],["raisedElevation","16"]],null,[[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,1).onClick()&&i),"mouseenter"===e&&(i=!1!==r["\u0275nov"](t,4).onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==r["\u0275nov"](t,4).onMouseLeave()&&i),i},wa,ba)),r["\u0275did"](1,16384,null,0,Wr,[Hr,Mn,[8,null],r.Renderer2,r.ElementRef],{routerLink:[0,"routerLink"]},null),r["\u0275pad"](2,1),r["\u0275did"](3,49152,null,0,fa,[],null,null),r["\u0275did"](4,540672,null,0,Sa,[r.ElementRef,r.Renderer2],{defaultElevation:[0,"defaultElevation"],raisedElevation:[1,"raisedElevation"]},null),(t()(),r["\u0275eld"](5,0,null,0,1,"img",[["class","image mat-card-image"],["mat-card-image",""]],[[8,"src",4]],null,null,null,null)),r["\u0275did"](6,16384,null,0,ha,[],null,null),(t()(),r["\u0275eld"](7,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,Ea,Ca)),r["\u0275did"](8,49152,null,0,pa,[],null,null),(t()(),r["\u0275eld"](9,0,null,1,2,"mat-card-title",[["class","title mat-card-title"]],null,null,null,null,null)),r["\u0275did"](10,16384,null,0,la,[],null,null),(t()(),r["\u0275ted"](11,null,["",""])),(t()(),r["\u0275eld"](12,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),r["\u0275did"](13,16384,null,0,ua,[],null,null),(t()(),r["\u0275eld"](14,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](15,null,["",""])),(t()(),r["\u0275eld"](16,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Oa,Ia)),r["\u0275did"](17,49152,null,0,Ta,[],null,null),(t()(),r["\u0275eld"](18,0,null,0,7,"mat-card-actions",[["align","end"],["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),r["\u0275did"](19,16384,null,0,ca,[],{align:[0,"align"]},null),(t()(),r["\u0275eld"](20,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,is,rs)),r["\u0275did"](21,9158656,null,0,es,[r.ElementRef,Ka,[8,null],[2,Za]],null,null),(t()(),r["\u0275ted"](-1,0,["favorite"])),(t()(),r["\u0275eld"](23,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,is,rs)),r["\u0275did"](24,9158656,null,0,es,[r.ElementRef,Ka,[8,null],[2,Za]],null,null),(t()(),r["\u0275ted"](-1,0,["share"]))],function(t,e){var n=e.component,r=t(e,2,0,n.post.path);t(e,1,0,r),t(e,4,0,n.defaultElevation,"16"),t(e,19,0,"end"),t(e,21,0),t(e,24,0)},function(t,e){var n=e.component;t(e,5,0,r["\u0275inlineInterpolate"](1,"../../../assets/images/blog/",n.post.thumb,"")),t(e,11,0,n.post.title),t(e,15,0,n.post.text),t(e,16,0,r["\u0275nov"](e,17).vertical?"vertical":"horizontal",r["\u0275nov"](e,17).vertical,!r["\u0275nov"](e,17).vertical,r["\u0275nov"](e,17).inset),t(e,18,0,"end"===r["\u0275nov"](e,19).align),t(e,20,0,r["\u0275nov"](e,21).inline,"primary"!==r["\u0275nov"](e,21).color&&"accent"!==r["\u0275nov"](e,21).color&&"warn"!==r["\u0275nov"](e,21).color),t(e,23,0,r["\u0275nov"](e,24).inline,"primary"!==r["\u0275nov"](e,24).color&&"accent"!==r["\u0275nov"](e,24).color&&"warn"!==r["\u0275nov"](e,24).color)})}function us(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,"div",[["class","card-group"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,ss)),r["\u0275did"](2,16384,null,0,s.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,e.component.post)},null)}var ls=function(){return function(){this.posts=[{path:"cominciamo-con-angular",title:"Cominciamo con Angular",thumb:"angular-logo1.png",text:"Breve introduzione al framework Angular"},{path:"todo-app-con-angular",title:"ToDo app con Angular",thumb:"OvMZBs9.jpg",text:"Semplice CRUD spiegando ogni passo della realizzazione di un Angular App"},{path:"introduzione-vscode",title:"Introduzione a VSCode",thumb:"vscode.png",text:"Prima parte all'introduzione del editor di codice pi\xf9 famoso del momento"},{path:"template-driven-form",title:"Template Driven Form",thumb:"tutorial-cover.png",text:" Tutorial sui template-driven-form di Angular e su come collegarli a Firestore"}]}}(),cs=r["\u0275crt"]({encapsulation:0,styles:[""],data:{}});function hs(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-card",[["class","col-md-4"]],null,null,null,us,as)),r["\u0275did"](1,49152,null,0,os,[],{post:[0,"post"]},null)],function(t,e){t(e,1,0,e.context.$implicit)},null)}function fs(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,9,"section",[["class","pt-page page-layout"],["id","blog"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,4,"div",[["class","content"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,3,"div",[["class","layout-medium"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,2,"h1",[["class","page-title"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,0,"i",[["class","pe-7s-notebook"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["from the blog"])),(t()(),r["\u0275eld"](6,0,null,null,3,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,2,"div",[["class","card-deck"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,hs)),r["\u0275did"](9,278528,null,0,s.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,9,0,e.component.posts)},null)}function ps(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-blogposts",[],null,null,null,fs,cs)),r["\u0275did"](1,49152,null,0,ls,[],null,null)],null,null)}var ds=r["\u0275ccf"]("app-blogposts",ls,ps,{},{},[]),ys=function(){return function(){}}(),ms=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function gs(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,32,"div",[["class","hfeed site"],["id","page"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,31,"div",[["class","site-main"],["id","main"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,30,"div",[["class","blog-single "]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,29,"div",[["class","layout-fixed"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,28,"article",[["class","post type-post hentry"]],null,null,null,null,null)),(t()(),r["\u0275eld"](5,0,null,null,27,"header",[["class","entry-header"]],null,null,null,null,null)),(t()(),r["\u0275eld"](6,0,null,null,1,"h1",[["class","entry-title"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Iniziamo con Angular"])),(t()(),r["\u0275eld"](8,0,null,null,1,"div",[["class","featured-image"]],null,null,null,null,null)),(t()(),r["\u0275eld"](9,0,null,null,0,"img",[["alt","blog-image"],["src","../assets/images/blog/angular_logo.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](10,0,null,null,22,"div",[["class","entry-content"]],null,null,null,null,null)),(t()(),r["\u0275eld"](11,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" La tecnologia che permette la creazione di app e webapp si evolve molto rapidamente quindi spesso \xe8 difficile rimanere al passo e capire quali strumenti usare per lo sviluppo dei nostri progetti su dispositivi mobili. "])),(t()(),r["\u0275eld"](13,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Angular (attuale versione 7.x) \xe8 l'ultima invenzione di un gruppo di ingegneri di Google, capeggiati da Brad Green, nata come evoluzione del progetto AngularJS, un popolare framework Model View (MV*) per la creazione di applicazioni (Web APP) e pagine web. "])),(t()(),r["\u0275eld"](15,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Per framework si intende una struttura che facilita lo sviluppo, sia in termini di velocit\xe0 che in termini di ordine e mantenibilit\xe0 del codice, per intendersi come possono essere Laravel,Simphony nel caso di framework php. "])),(t()(),r["\u0275eld"](17,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Con quale linguaggio si deve creare un'app in Angular?"])),(t()(),r["\u0275eld"](19,0,null,null,1,"p",[["class","drop-cap"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Per sviluppare sul nuovo framework, TypeScript \xe8 il linguaggio consigliato. Quest'ultimo non \xe8 altro che un'estensione, creata da Microsoft, di JavaScript e si basa sulle specifiche della versione 6 di JavaScript - ECMAScript 6 - rilasciate nel maggio 2015. Tuttavia \xe8 possibile continuare ad usare JavaScript ma con qualche complicazione in pi\xf9 che decisamente non vale la pena sperimentare. "])),(t()(),r["\u0275eld"](21,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[' Il problema principale di TypeScript \xe8 che ancora non tutti i browser supportano ES6, quindi \xe8 necessario compilare tutto il codice TypeScript sviluppato, per trasformarlo in un linguaggio "comprensibile" agli attuali browser, ossia ES5. '])),(t()(),r["\u0275eld"](23,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" E' chiaro quindi che, se hai gi\xe0 delle esperienze nell'uso di JavaScript o jQuery, ti sar\xe0 pi\xf9 semplice apprendere questo nuovo linguaggio di alto livello basato appunto su JavaScript. "])),(t()(),r["\u0275eld"](25,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Che vantaggi ci sono nell\u2019uso di TypeScript?"])),(t()(),r["\u0275eld"](27,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" I vantaggi nell\u2019uso di TypeScript in Angular possono essere riassunti con i vantaggi del linguaggio stesso. TypeScript rispetto a JavaScript \xe8 staticamente tipizzato; ci\xf2 consente una maggiore sicurezza e robustezza nella scrittura del codice e nella rilevazione degli errori che, rispetto a JavaScript, non verrano elaborati in runtime, ma piuttosto in fase di compilazione. Non dimentichiamo che TypeScript rimane totalmente compatibile con JavaScript e questo consente di poter integrare qualsiasi progetto del secondo all\u2019interno del primo. La tipizzazione dinamica che caratterizza JavaScript rimane inoltre un anello debole in progetti di grosse dimensioni. "])),(t()(),r["\u0275eld"](29,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Che software posso usare per scrivere in TypeScript"])),(t()(),r["\u0275eld"](31,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Trattandosi di codice JavaScript, puoi usare un qualsiasi editor di testo, anche se \xe8 consigliato avere un software che aiuti nel completamento del codice. Tra questi posso citare Eclipse, VS Code, Sublime Text, WebStorm. "]))],null,null)}function vs(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-post-cominciamo-con-angular",[],null,null,null,gs,ms)),r["\u0275did"](1,49152,null,0,ys,[],null,null)],null,null)}var _s=r["\u0275ccf"]("app-post-cominciamo-con-angular",ys,vs,{},{},[]),bs=n("4BMZ"),ws=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Cs(t){return r["\u0275vid"](0,[r["\u0275qud"](402653184,1,{iframe:0}),(t()(),r["\u0275eld"](1,0,[[1,0],["iframe",1]],null,0,"iframe",[["frameborder","0"],["style","height:inherit"],["type","text/javascript"],["width","100%"]],null,null,null,null,null))],null,null)}var Es=function(){return function(){}}(),Ss=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Ts(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,161,"div",[["class","hfeed site"],["id","page"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,160,"div",[["class","site-main"],["id","main"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,159,"div",[["class","blog-single "]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,158,"div",[["class","layout-fixed"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,157,"article",[["class","post type-post hentry"]],null,null,null,null,null)),(t()(),r["\u0275eld"](5,0,null,null,156,"header",[["class","entry-header"]],null,null,null,null,null)),(t()(),r["\u0275eld"](6,0,null,null,1,"h1",[["class","entry-title"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["ToDo App con Angular"])),(t()(),r["\u0275eld"](8,0,null,null,1,"div",[["class","featured-image"]],null,null,null,null,null)),(t()(),r["\u0275eld"](9,0,null,null,0,"img",[["alt","blog-image"],["src","../assets/images/blog/OvMZBs9.jpg"]],null,null,null,null,null)),(t()(),r["\u0275eld"](10,0,null,null,151,"div",[["class","entry-content"]],null,null,null,null,null)),(t()(),r["\u0275eld"](11,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Angular e l\u2019Angular CLI ci permettono di costruire applicazioni single page e siti mono pagine velocemente. "])),(t()(),r["\u0275eld"](13,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Grazie a tutte le features native del framework, possiamo sbizzarrirci e focalizzarci nelle cose che rendono la nostra app unica. "])),(t()(),r["\u0275eld"](15,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Ho deciso di fare un semplice Todo app e lo so che pu\xf2 essere alquanto sciocco fare una cosa cos\xec semplice con Angular, ma questo \xe8 solo un tutorial per vedere e capire alcune funzionalit\xe0 di questo framework. "])),(t()(),r["\u0275eld"](17,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Prima di cominciare"])),(t()(),r["\u0275eld"](19,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Come prima cosa dobbiamo scaricare "])),(t()(),r["\u0275eld"](21,0,null,null,1,"a",[["href","https://nodejs.org/it/download"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Node.js"])),(t()(),r["\u0275ted"](-1,null,[" e accertarci che sia installato correttamente andando nel terminal e controllando le versioni di node e di npm (node package manager) rispettivamente con node \u2013v e npm \u2013v. "])),(t()(),r["\u0275eld"](24,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Ora che abbiamo scaricato node possiamo procedere all\u2019installazione di Angular CLI: "])),(t()(),r["\u0275eld"](26,0,null,null,1,"ngx-gist",[["style","height: 110px"]],null,null,null,Cs,ws)),r["\u0275did"](27,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](28,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Creare la nostra prima app Angular"])),(t()(),r["\u0275eld"](30,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Utilizzeremo Angular CLI per creare una serie di componenti, servizi, rotte e direttive. "])),(t()(),r["\u0275eld"](32,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Per creare un nuovo progetto con Angular-cli basta aprire il terminale e far partire questo comando: "])),(t()(),r["\u0275eld"](34,0,null,null,1,"ngx-gist",[["style","height: 110px"]],null,null,null,Cs,ws)),r["\u0275did"](35,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](36,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Dopo che avr\xe0 scaricato tutto il malloppo potremmo aprire il nostro progetto con il nostro editor preferito, il mio \xe8 VS CODE (pi\xf9 avanti far\xf2 un tutorial a riguardo). "])),(t()(),r["\u0275eld"](38,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Se si \xe8 nuovi con Angular la struttura del progetto pu\xf2 sembrare caotica ma per iniziare noi ci concentreremo nella cartella src e in particolare la cartella app (qui \xe8 dove andremo a creare la nostra app). "])),(t()(),r["\u0275eld"](40,0,null,null,0,"img",[["alt",""],["src","../assets/images/blog/Schermata 2019-12-17 alle 21.52.28.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](41,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Per controllare lo stato della tua app utilizziamo:"])),(t()(),r["\u0275eld"](43,0,null,null,1,"ngx-gist",[["style","height: 110px"]],null,null,null,Cs,ws)),r["\u0275did"](44,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](45,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Per farsi una cultura riguardo cosa puoi fare con ng si utilizza: "])),(t()(),r["\u0275eld"](47,0,null,null,1,"pre",[["class","prettyprint linenums"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["ng \u2013help "])),(t()(),r["\u0275eld"](49,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Quando il terminale carica tutto la nostra app sar\xe0 disponibile alla porta: http://localhost:4200/ "])),(t()(),r["\u0275eld"](51,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Per cominciare ci rendiamo la vita semplice e ci facciamo aiutare da bootstrap, ora in base a cosa devi fare puoi scegliere come aggiungerlo al tuo progetto puoi aggiungerlo con un link (per un progetto cos\xec piccolo \xe8 la scelta pi\xf9 veloce) oppure puoi installare bootstrap nel tuo node_modules (questo metodo di solito \xe8 consigliato quando si fanno progetti di una certa dimensione, perci\xf2 non lo user\xf2 in questo progetto ma faro una spiegazione dettagliata nel mio prossimo progetto). "])),(t()(),r["\u0275eld"](53,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Quindi aggiungiamo bootstrap cdn in index.html:"])),(t()(),r["\u0275eld"](55,0,null,null,1,"ngx-gist",[["style","height: 110px"]],null,null,null,Cs,ws)),r["\u0275did"](56,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](57,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Partiamo subito dal app.component.html dove troveremo tutto ci\xf2 che vediamo alla porta 4200. Qui cancelleremo tutto tranne che il titolo e aggiungeremo le classi bootstrap per crearci un semplice form. "])),(t()(),r["\u0275eld"](59,0,null,null,1,"ngx-gist",[["style","height: 335px"]],null,null,null,Cs,ws)),r["\u0275did"](60,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](61,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Se si vuole si pu\xf2 aggiungere un po' di css per renderlo pi\xf9 compatto. "])),(t()(),r["\u0275eld"](63,0,null,null,1,"ngx-gist",[["style","height: 265px"]],null,null,null,Cs,ws)),r["\u0275did"](64,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](65,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Per quanto riguarda il CSS, non entrer\xf2 nel dettaglio per non dilungare troppo la cosa. in questo progetto mi voglio concentrare solo sulle specifiche di Angular. "])),(t()(),r["\u0275eld"](67,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Per popolare il campo di input, possiamo utilizzare la direttiva ngModel che serve a sincronizzare una propriet\xe0 con un campo di input in questo modo: "])),(t()(),r["\u0275eld"](69,0,null,null,1,"ngx-gist",[["style","height: 110px"]],null,null,null,Cs,ws)),r["\u0275did"](70,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](71,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Dopo di che per mostrare a video ci\xf2 che abbiamo inserito nel campo input ci serve prendere la variabile todo in questo modo: "])),(t()(),r["\u0275eld"](73,0,null,null,1,"ngx-gist",[["style","height: 110px"]],null,null,null,Cs,ws)),r["\u0275did"](74,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](75,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Adesso dobbiamo recuperare ci\xf2 che abbiamo inserito nell'input. Tornando nel app.component.ts ci creiamo un array vuota: "])),(t()(),r["\u0275eld"](77,0,null,null,1,"ngx-gist",[["style","height: 160px"]],null,null,null,Cs,ws)),r["\u0275did"](78,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](79,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Fatto questo dobbiamo aggiungere un evento click che andr\xe0 a caricare i valori contenuti nell\u2019array todos. "])),(t()(),r["\u0275eld"](81,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["app.component.html:"])),(t()(),r["\u0275eld"](83,0,null,null,1,"ngx-gist",[["style","height: 110px"]],null,null,null,Cs,ws)),r["\u0275did"](84,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](85,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["In "])),(t()(),r["\u0275eld"](87,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["app.component.ts"])),(t()(),r["\u0275ted"](-1,null,[":"])),(t()(),r["\u0275eld"](90,0,null,null,1,"ngx-gist",[["style","height: 265px"]],null,null,null,Cs,ws)),r["\u0275did"](91,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](92,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Per recuperare i dati contenuti in \u201ctodos\u201d useremo la direttiva ngFor per ciclare tutti i dati contenuti nell\u2019array e mostrare i dati. "])),(t()(),r["\u0275eld"](94,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Nel "])),(t()(),r["\u0275eld"](96,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["app.component.html"])),(t()(),r["\u0275ted"](-1,null,[":"])),(t()(),r["\u0275eld"](99,0,null,null,1,"ngx-gist",[["style","height: 190px"]],null,null,null,Cs,ws)),r["\u0275did"](100,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](101,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Adesso quando cliccheremo il tasto add i dati verranno aggiunti alla lista sotto cos\xec: "])),(t()(),r["\u0275eld"](103,0,null,null,1,"figure",[],null,null,null,null,null)),(t()(),r["\u0275eld"](104,0,null,null,0,"img",[["alt",""],["src","../assets/images/blog/add.gif"]],null,null,null,null,null)),(t()(),r["\u0275eld"](105,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Ora che l\u2019app \xe8 quasi finita aggiungiamo la funzionalit\xe0 per cancellare i nostri todo. Per cancellare un elemento il modo migliore per farlo \xe8 splice, ma per cominciare partiamo aggiungendo un evento click all\u2019icona di elimina e li aggiungiamo come parametro \u201ctodo\u201d: "])),(t()(),r["\u0275eld"](107,0,null,null,1,"ngx-gist",[["style","height: 110px"]],null,null,null,Cs,ws)),r["\u0275did"](108,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](109,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Nel "])),(t()(),r["\u0275eld"](111,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["app.component.ts"])),(t()(),r["\u0275ted"](-1,null,[":"])),(t()(),r["\u0275eld"](114,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Cicliamo tutti i dati dell\u2019array e cancelliamo quelli che clicchiamo. "])),(t()(),r["\u0275eld"](116,0,null,null,1,"ngx-gist",[],null,null,null,Cs,ws)),r["\u0275did"](117,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](118,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Il risultato sar\xe0:"])),(t()(),r["\u0275eld"](120,0,null,null,1,"figure",[],null,null,null,null,null)),(t()(),r["\u0275eld"](121,0,null,null,0,"img",[["alt",""],["src","../assets/images/blog/delete.gif"]],null,null,null,null,null)),(t()(),r["\u0275eld"](122,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["ci siamo riusciti!"])),(t()(),r["\u0275eld"](124,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Aggiungiamo l\u2019evento sul pulsante Invio"])),(t()(),r["\u0275eld"](126,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Possiamo aggiungere il submit del form non solo all\u2019evento (click) dell\u2019icona, ma anche sul tasto invio della tastiera. Come? Ci viene in aiuto una directive chiamata (ngSubmit) che si applica sul Form: "])),(t()(),r["\u0275eld"](128,0,null,null,1,"ngx-gist",[["style","height: 110px"]],null,null,null,Cs,ws)),r["\u0275did"](129,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](130,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Abbiamo bisogno di aggiungere la variabile \u201c#todoForm\u201d al modulo e dargli \u201cngForm\u201d come valore. In questo caso, abbiamo solo un campo quindi otterremo solo un singolo valore. "])),(t()(),r["\u0275eld"](132,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Nel "])),(t()(),r["\u0275eld"](134,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["app.component.html"])),(t()(),r["\u0275ted"](-1,null,[":"])),(t()(),r["\u0275eld"](137,0,null,null,1,"ngx-gist",[["style","height: 110px"]],null,null,null,Cs,ws)),r["\u0275did"](138,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](139,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["In "])),(t()(),r["\u0275eld"](141,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["app.component.ts"])),(t()(),r["\u0275ted"](-1,null,[":"])),(t()(),r["\u0275eld"](144,0,null,null,1,"ngx-gist",[["style","height: 170px"]],null,null,null,Cs,ws)),r["\u0275did"](145,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](146,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Ora dobbiamo inserire il valore restituito all\u2019interno del \u201ctodoArray\u201d: "])),(t()(),r["\u0275eld"](148,0,null,null,1,"ngx-gist",[["style","height: 265px"]],null,null,null,Cs,ws)),r["\u0275did"](149,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](150,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Ci siamo! \ud83d\ude00 Il valore \xe8 stato inserito premendo soltanto \u201center\u201d: "])),(t()(),r["\u0275eld"](152,0,null,null,1,"figure",[],null,null,null,null,null)),(t()(),r["\u0275eld"](153,0,null,null,0,"img",[["alt",""],["src","../assets/images/blog/enter.gif"]],null,null,null,null,null)),(t()(),r["\u0275eld"](154,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Solo un\u2019utima cosa. Per svuotare il campo di input dopo che si \xe8 fatto submit, basta agire sull\u2019html. \xc8 possibile concatenare pi\xf9 istruzioni all\u2019interno di una directive di tipo metodo, concatenandole con un punto e virgola. "])),(t()(),r["\u0275eld"](156,0,null,null,1,"ngx-gist",[["style","height: 110px"]],null,null,null,Cs,ws)),r["\u0275did"](157,4243456,null,0,bs.NgxGist,[],{gistId:[0,"gistId"]},null),(t()(),r["\u0275eld"](158,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["In Conclusione"])),(t()(),r["\u0275eld"](160,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Angular \xe8 pi\xf9 facile di quanto pensi. \xc8 una delle migliori librerie JavaScript e ha un grande supporto e una bella community. Ha anche strumenti che rendono il lavoro facile e veloce. Ora questa piccola app era solo un inizio, pi\xf9 avanti giocher\xf2 con le animazioni e altre cose magari utilizzando questa stessa app o forse una nuova decider\xf2 pi\xf9 avanti, per adesso a presto! "]))],function(t,e){t(e,27,0,"lady-ody93/e5b37711cb399355ba88610ac684f416"),t(e,35,0,"lady-ody93/235be26479d0e5d175fbf0a4eddb6fb2"),t(e,44,0,"lady-ody93/8d08751a99f88aa28e3dbbd2b8206d06"),t(e,56,0,"lady-ody93/babb6703587f4988f59de1a1e7077756"),t(e,60,0,"lady-ody93/1901cc700363ffd23843bd2e6cb9c02d"),t(e,64,0,"lady-ody93/d5ba7e628091dba2c92214ae3168c081"),t(e,70,0,"lady-ody93/26addf78070ba750bb1037ee5aa962e8"),t(e,74,0,"lady-ody93/e2542062862e8fd46491e49738d7d230"),t(e,78,0,"lady-ody93/19bf6c6523829ae04ab8b2f0899d2201"),t(e,84,0,"lady-ody93/a8d66c6a2a9cf6ef32c32026642d9286"),t(e,91,0,"lady-ody93/7c9c15cedc75a220fbcddf0e0eb84360"),t(e,100,0,"lady-ody93/c8c4fe06f747bc5ccaf0f02a22cd33f4"),t(e,108,0,"lady-ody93/e8813ba7961a1fcfb072a61a52452d54"),t(e,117,0,"lady-ody93/58db8233512466694cd1e3ab499c7009"),t(e,129,0,"lady-ody93/a25c0087cceda8cbee90d90dc8ff9ad9"),t(e,138,0,"lady-ody93/73a4d3b095640f6b6483ea502699d7ec"),t(e,145,0,"lady-ody93/f5c59f1a6ee38fe04d4a1bac14fd4af5"),t(e,149,0,"lady-ody93/7e94c94e4e3085593f59ea871029ba5d"),t(e,157,0,"lady-ody93/705447ce625604007013bd45a1dc9bf9")},null)}function Ds(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-post-todo-app-con-angular",[],null,null,null,Ts,Ss)),r["\u0275did"](1,49152,null,0,Es,[],null,null)],null,null)}var Is=r["\u0275ccf"]("app-post-todo-app-con-angular",Es,Ds,{},{},[]),Os=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),As=r["\u0275crt"]({encapsulation:0,styles:["blockquote[_ngcontent-%COMP%] {\n    position: relative;\n    padding-left: 1em;\n    border-left: 0.2em solid lighten($black, 40%);\n    font-family: 'Roboto', serif;\n    font-size: $base-font-size;\n    line-height: $base-line-height;\n    font-weight: 100;\n    &:before, &:after {\n        content: '201C';\n        font-family: 'Sanchez';\n        color: lighten($black, 40%);\n     }\n     &:after {\n        content: '201D';\n     }\n  }"],data:{}});function xs(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,145,"div",[["class","hfeed site"],["id","page"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,144,"div",[["class","site-main"],["id","main"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,143,"div",[["class","blog-single "]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,142,"div",[["class","layout-fixed"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,141,"article",[["class","post type-post hentry"]],null,null,null,null,null)),(t()(),r["\u0275eld"](5,0,null,null,140,"header",[["class","entry-header"]],null,null,null,null,null)),(t()(),r["\u0275eld"](6,0,null,null,1,"h1",[["class","entry-title"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Introduzione a Visual Studio Code"])),(t()(),r["\u0275eld"](8,0,null,null,1,"div",[["class","featured-image"]],null,null,null,null,null)),(t()(),r["\u0275eld"](9,0,null,null,0,"img",[["alt","blog-image"],["src","../assets/images/blog/vscode.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](10,0,null,null,135,"div",[["class","entry-content"]],null,null,null,null,null)),(t()(),r["\u0275eld"](11,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["INTRODUZIONE"])),(t()(),r["\u0275eld"](13,0,null,null,1,"P",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Gli sviluppatori hanno due scelte per quanto riguarda il loro ambiente di lavoro, possono scegliere tra un editor di codice e un IDEs (un ambiente di sviluppo integrato in lingua inglese integrated development environment ), in informatica, \xe8 un software che, in fase di programmazione, supporta i programmatori nello sviluppo del codice sorgente di un programma."])),(t()(),r["\u0275eld"](15,0,null,null,1,"P",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Tra editor di codice e IDEs c\u2019\xe8 una vasta scelta tanto per nominarne qualcuno XCode, Brackets, Sublime Text, Atom, vim, PHPStorm. La differenza tra un editor e un IDE sta nella funzionalit\xe0 e nella complessit\xe0. "])),(t()(),r["\u0275eld"](17,0,null,null,1,"P",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Per quanto mi riguarda non conosco per diretto utilizzo molti di questi software, spero in futuro poter fare un giusto paragone tra gli uni e gli altri. Ora io ho avuto l\u2019opportunit\xe0 di provare Sublime Text e VSCODE, ho iniziato a programmare circa 2 anni fa e cercando l\u2019editor giusto sono stata spinta verso questi 2, ma alla fine ho scelto VSCODE. "])),(t()(),r["\u0275eld"](19,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["PERCHE\u2019 VSCODE?"])),(t()(),r["\u0275eld"](21,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Quando ho iniziato ero completamente persa e non sapevo come muovermi e la scelta \xe8 caduta su VSCODE per il grosso numero di sviluppatori che ne cantavano le lodi. Sono stata attratta al grosso supporto online. "])),(t()(),r["\u0275eld"](23,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Oltre le motivazioni personali questo editor ha molte ragioni che lo rendono una valida scelta tra gli editor di codice. "])),(t()(),r["\u0275eld"](25,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Questo editor \xe8 il risultato di anni e anni di esperienza nello sviluppo di editor di codice da parte di Microsoft. "])),(t()(),r["\u0275eld"](27,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" L'editor \xe8 Open-Source ed \xe8 completamente gratis. E' cross platform e funziona con Mac, Linux e Windows. E' fatto con Node.js e puoi fare uso del supporto dedicato a javascript (come l\u2019IntelliSense ed il debugging per citarne alcuni). "])),(t()(),r["\u0275eld"](29,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Ha vinto l\u2019entusiasmo della community, ha migliaia di estensioni alcune ufficiali altre fatte dalla community e questo si \xe8 tradotto nella "])),(t()(),r["\u0275eld"](31,0,null,null,1,"a",[["href","https://insights.stackoverflow.com/survey/2019/"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["classifica di gradimento"])),(t()(),r["\u0275eld"](33,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Microsoft rilascia degli update ogni mese. I continui upgrade dimostrano che Microsoft ascolta i propri users, mantenendo la piattaforma sempre stabile. "])),(t()(),r["\u0275eld"](35,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["INIZIAMO!"])),(t()(),r["\u0275eld"](37,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Per scaricare il programma bisogna visitare la pagina di "])),(t()(),r["\u0275eld"](39,0,null,null,1,"a",[["href","https://code.visualstudio.com/"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Visual Studio Code"])),(t()(),r["\u0275ted"](-1,null,[". "])),(t()(),r["\u0275eld"](42,0,null,null,0,"img",[["alt","blog-image"],["class","aligncenter"],["src","../assets/images/blog/Schermata 2020-02-19 alle 22.46.32.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](43,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" L'installazione dovrebbe variare tra i sistemi operativi, quindi seguite le istruzioni per il vostro. "])),(t()(),r["\u0275eld"](45,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Quando aprite il vostro editor per la prima volta vedrete la schermata di benvenuto: "])),(t()(),r["\u0275eld"](47,0,null,null,0,"img",[["alt","blog-image"],["class","aligncenter"],["src","../assets/images/blog/Schermata 2020-02-28 alle 22.30.26.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](48,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Abbiamo una toolbar sulla sinistra con 5 icone. Queste si riferiscono a: "])),(t()(),r["\u0275eld"](50,0,null,null,10,"ul",[],null,null,null,null,null)),(t()(),r["\u0275eld"](51,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["The File Explorer"])),(t()(),r["\u0275eld"](53,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Search"])),(t()(),r["\u0275eld"](55,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Source Control"])),(t()(),r["\u0275eld"](57,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["The Debugger"])),(t()(),r["\u0275eld"](59,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["The Extensions"])),(t()(),r["\u0275eld"](61,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Ora in questo tutorial andr\xf2 a toccare solo alcune di queste icone. "])),(t()(),r["\u0275eld"](63,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Explorer"])),(t()(),r["\u0275eld"](65,0,null,null,0,"img",[["alt","blog-image"],["class","aligncenter"],["src","../assets/images/blog/Schermata 2020-02-28 alle 22.41.23.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](66,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Premi il tasto \u201cOpen Folder\u201d nella sidebar o il link che avete a disposizione nella pagina di benvenuto. Entrambi ti porteranno alla finestra per selezionare i file. "])),(t()(),r["\u0275eld"](68,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Scegli una cartella dove hai dei file di codice o di semplice testo e aprilo. "])),(t()(),r["\u0275eld"](70,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["VSCode ti mostrer\xe0 il contenuto di quella cartella:"])),(t()(),r["\u0275eld"](72,0,null,null,0,"img",[["alt","blog-image"],["class","aligncenter"],["src","../assets/images/blog/Schermata 2020-02-28 alle 22.47.36.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](73,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Se selezionate uno dei file, il contenuto di esso vi apparir\xe0 nel pannello principale (sulla destra). "])),(t()(),r["\u0275eld"](75,0,null,null,0,"img",[["alt","blog-image"],["class","aligncenter"],["src","../assets/images/blog/Schermata 2020-02-28 alle 22.50.50.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](76,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["E se cominci a modificarlo ti accorgerai di un pallino bianco che appare sia sulla tab in alto a fianco al nome del file e anche nella sidebar."])),(t()(),r["\u0275eld"](78,0,null,null,1,"figure",[],null,null,null,null,null)),(t()(),r["\u0275eld"](79,0,null,null,0,"img",[["alt","blog-image"],["class","aligncenter"],["src","../../../../../assets/images/blog/Mar-11-2020 09-53-51.gif"]],null,null,null,null,null)),(t()(),r["\u0275eld"](80,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Premendo CMD+P ti comparira una finestra per selezionare file, cos\xec da potersi muovere pi\xf9 velocemente tra i file se si lavora su progetti pi\xf9 grandi: "])),(t()(),r["\u0275eld"](82,0,null,null,0,"img",[["alt","blog-image"],["class","aligncenter"],["src","../../../../../assets/images/blog/Schermata 2020-03-11 alle 10.13.47.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](83,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Puoi nascondere la sidebar contenente i file usando CMD+B "])),(t()(),r["\u0275eld"](85,0,null,null,4,"blockquote",[],null,null,null,null,null)),(t()(),r["\u0275eld"](86,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Nota: io sto usando le shortcuts per i Mac. Il pi\xf9 delle volte su Windows e Linux basta cambiare CMD con CTRL e dovrebbe funzionare, ma non \xe8 sempre cos\xec quindi ti consiglio di andare a prenderti la lista dei "])),(t()(),r["\u0275eld"](88,0,null,null,1,"a",[["href","https://code.visualstudio.com/docs/getstarted/keybindings#_keyboard-shortcuts-reference"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["shortcuts"])),(t()(),r["\u0275eld"](90,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["SEARCH"])),(t()(),r["\u0275eld"](92,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["La seconda icona nella sidebar \xe8 il \u201cSearch\u201d. Cliccandoci ti mostra l\u2019interfaccia di ricerca:"])),(t()(),r["\u0275eld"](94,0,null,null,0,"img",[["alt","blog-image"],["class","aligncenter"],["src","../../../../../assets/images/blog/Schermata 2020-03-11 alle 11.55.13.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](95,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Per eseguire una ricerca, basta scrivere ci\xf2 che cerchi e premere invio. "])),(t()(),r["\u0275eld"](97,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Cliccando sul simbolo \u25b7 sulla destra attiva la funzione cerca e sostituisci. "])),(t()(),r["\u0275eld"](99,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Cliccando sui 3 puntini ti mostra un pannello che ti permette solo dei file specifici ed escludendone altri:"])),(t()(),r["\u0275eld"](101,0,null,null,0,"img",[["alt","blog-image"],["class","aligncenter"],["src","../../../../../assets/images/blog/search-replace.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](102,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Source Control"])),(t()(),r["\u0275eld"](104,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["La terza icona \xe8 la Source Control"])),(t()(),r["\u0275eld"](106,0,null,null,0,"img",[["alt","blog-image"],["class","aligncenter"],["src","../../../../../assets/images/blog/Schermata 2020-03-11 alle 22.01.49.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](107,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["VS Code arriva con Git preinstallato. Non andr\xf2 nel dettaglio su come funziona Git (io stessa ho bisogno di studiare di pi\xf9 l\u2019argomento). "])),(t()(),r["\u0275eld"](109,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["La U a fianco di ogni file significa che quel particolare file \xe8 stato modificato o aggiunto dall\u2019ultimo commit. "])),(t()(),r["\u0275eld"](111,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Per fare il commit devi scrivere il messagio che accompagner\xe0 le nuove modifiche dopo di che premi CMD-Enter o clicchi sull\u2019icona \u2714\ufe0e in alto."])),(t()(),r["\u0275eld"](113,0,null,null,0,"img",[["alt","blog-image"],["class","aligncenter"],["src","../../../../../assets/images/blog/Schermata 2020-03-11 alle 23.01.46.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](114,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["I\u2019icona con i 3 puntini, quando premuta offre una serie di opzioni per interagire con Git:"])),(t()(),r["\u0275eld"](116,0,null,null,0,"img",[["alt","blog-image"],["class","aligncenter"],["src","../../../../../assets/images/blog/Schermata 2020-03-11 alle 23.05.31.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](117,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Debugger"])),(t()(),r["\u0275eld"](119,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["La quarta icona apre il debugger di JavaScript. Questo meriterebbe un suo articolo da solo. Quando avr\xf2 la conoscenza necessaria per affrontare l\u2019argomento far\xf2 un articolo a riguardo. Nel frattempo puoi controllare "])),(t()(),r["\u0275eld"](121,0,null,null,1,"a",[["href","https://code.visualstudio.com/docs/editor/debugging"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["the official docs"])),(t()(),r["\u0275ted"](-1,null,["."])),(t()(),r["\u0275eld"](124,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Extensions"])),(t()(),r["\u0275eld"](126,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["La quinta icona ci porta le estensioni."])),(t()(),r["\u0275eld"](128,0,null,null,0,"img",[["alt","blog-image"],["class","aligncenter"],["src","../../../../../assets/images/blog/Schermata 2020-03-12 alle 20.50.10.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](129,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Le estensioni sono tra le funzionalit\xe0 pi\xf9 interessanti di VS Code. "])),(t()(),r["\u0275eld"](131,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Danno un tale valore aggiunto che finirai per usarne parecchie quando lavori a certi progetti. "])),(t()(),r["\u0275eld"](133,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Io ne ho parecchie installate."])),(t()(),r["\u0275eld"](135,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Una cosa da tenere a mente \xe8 che ogni estensione che installi avr\xe0 un impatto (pi\xf9 o meno grande) sulla performance del tuo editor."])),(t()(),r["\u0275eld"](137,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Puoi disabilitare un\u2019estensione che hai installato e abilitarla solo quando ne hai bisogno. "])),(t()(),r["\u0275eld"](139,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["C'\xe8 una lista di estensioni raccomandate che includono i pi\xf9 popolari tools."])),(t()(),r["\u0275eld"](141,0,null,null,0,"img",[["alt","blog-image"],["class","aligncenter"],["src","../../../../../assets/images/blog/Schermata 2020-03-12 alle 20.53.24.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](142,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Cliccando il tasto verde da inizio all\u2019installazione diretta. Fa tutto per te, devi solo cliccare il tasto \u201cReload\u201d per attivarla, questo riavvier\xe0 la vostra finestra dell'editor."])),(t()(),r["\u0275eld"](144,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Ok! Per adesso mi fermo qui lo so ho molte altre cose da trattare come il terminale e approfondire sulla command pallette. Continuer\xf2 questi temi in un altro post. "]))],null,null)}function ks(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-post-introduzione-vscode",[],null,null,null,xs,As)),r["\u0275did"](1,114688,null,0,Os,[],null,null)],function(t,e){t(e,1,0)},null)}var Ns=r["\u0275ccf"]("app-post-introduzione-vscode",Os,ks,{},{},[]),Ps=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Rs=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Ms(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,12,"div",[["class","site-main"],["id","main"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,11,"div",[["class","page-single page-layout"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,10,"div",[["class","layout-fixed"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,9,"article",[["class","hentry"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,2,"header",[["class","entry-header"]],null,null,null,null,null)),(t()(),r["\u0275eld"](5,0,null,null,1,"h1",[["class","entry-title"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["you are lost!"])),(t()(),r["\u0275eld"](7,0,null,null,5,"div",[["class","entry-content"]],null,null,null,null,null)),(t()(),r["\u0275eld"](8,0,null,null,4,"div",[["class","http-alert"]],null,null,null,null,null)),(t()(),r["\u0275eld"](9,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),r["\u0275eld"](10,0,null,null,0,"i",[["class","pe-7s-way"]],null,null,null,null,null)),(t()(),r["\u0275eld"](11,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["The page you are looking for was not found!"]))],null,null)}function Fs(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-not-found",[],null,null,null,Ms,Rs)),r["\u0275did"](1,114688,null,0,Ps,[],null,null)],function(t,e){t(e,1,0)},null)}var Ls=r["\u0275ccf"]("app-not-found",Ps,Fs,{},{},[]),js=function(){return function(){}}(),Vs=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Bs(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,8,"ul",[["class","social"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,0,"a",[["class","facebook"],["href","https://www.facebook.com/leidy.rosariocastillo"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,0,"a",[["class","twitter"],["href","https://twitter.com/leidyRosario93"]],null,null,null,null,null)),(t()(),r["\u0275eld"](5,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275eld"](6,0,null,null,0,"a",[["class","github"],["href","https://github.com/leidyrosario"]],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275eld"](8,0,null,null,0,"a",[["class","linkedin"],["href","https://www.linkedin.com/in/leidy-rosario-72b95219b"]],null,null,null,null,null)),(t()(),r["\u0275eld"](9,0,null,null,2,"div",[["class","copy-text"]],null,null,null,null,null)),(t()(),r["\u0275eld"](10,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\xa9 2019 Leidy Rosario"]))],null,null)}var Us=function(){function t(t,e){this.route=t,this.router=e,this.menuIsOpen=!1}return t.prototype.toggleMenu=function(t){t.stopPropagation(),this.menuIsOpen=!this.menuIsOpen},t.prototype.onClick=function(){this.menuIsOpen=!1},t.prototype.goto=function(t){this.router.navigate(["blog",t])},t.prototype.ngOnInit=function(){var t=this;this.route.paramMap.pipe(B(function(t){return console.log("RES: ",t)})).subscribe(function(e){return t.url=e.get("blog")})},t}(),qs=r["\u0275crt"]({encapsulation:0,styles:[[".header-wrap[_ngcontent-%COMP%], .menu-toggle[_ngcontent-%COMP%], .site-title[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.header-wrap-opened[_ngcontent-%COMP%]{left:0}.site-title-opened[_ngcontent-%COMP%]{left:190px}.menu-toggle-opened[_ngcontent-%COMP%]{left:120px}"]],data:{}});function zs(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,8,"li",[],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r["\u0275did"](2,671744,[[10,4]],0,Kr,[Hr,Mn,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),r["\u0275pad"](3,1),r["\u0275did"](4,1720320,null,2,Yr,[Hr,r.ElementRef,r.Renderer2,r.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),r["\u0275qud"](603979776,9,{links:1}),r["\u0275qud"](603979776,10,{linksWithHrefs:1}),(t()(),r["\u0275eld"](7,0,null,null,0,"i",[["class","pe-7s-call"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Contact"]))],function(t,e){var n=t(e,3,0,"/contact");t(e,2,0,n),t(e,4,0,"active")},function(t,e){t(e,1,0,r["\u0275nov"](e,2).target,r["\u0275nov"](e,2).href)})}function Qs(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,6,"li",[],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,5,"a",[["routerLinkActive","active"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.goto("cominciamo-con-angular")&&r),r},null,null)),r["\u0275did"](2,1720320,null,2,Yr,[Hr,r.ElementRef,r.Renderer2,r.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),r["\u0275qud"](603979776,11,{links:1}),r["\u0275qud"](603979776,12,{linksWithHrefs:1}),(t()(),r["\u0275eld"](5,0,null,null,0,"i",[["class","pe-7s-call"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Articolo"]))],function(t,e){t(e,2,0,"active")},null)}function Hs(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,8,"li",[],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r["\u0275did"](2,671744,[[14,4]],0,Kr,[Hr,Mn,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),r["\u0275pad"](3,1),r["\u0275did"](4,1720320,null,2,Yr,[Hr,r.ElementRef,r.Renderer2,r.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),r["\u0275qud"](603979776,13,{links:1}),r["\u0275qud"](603979776,14,{linksWithHrefs:1}),(t()(),r["\u0275eld"](7,0,null,null,0,"i",[["class","pe-7s-back"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Back"]))],function(t,e){var n=t(e,3,0,"/blog");t(e,2,0,n),t(e,4,0,"active")},function(t,e){t(e,1,0,r["\u0275nov"](e,2).target,r["\u0275nov"](e,2).href)})}function Ws(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,61,"header",[["class","header"],["id","masthead"],["role","banner"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,2,"a",[["class","menu-toggle toggle-link"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleMenu(n)&&r),r},null,null)),r["\u0275did"](2,278528,null,0,s.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](3,{"menu-toggle-opened":0}),(t()(),r["\u0275eld"](4,0,null,null,3,"h1",[["class","site-title mobile-title"]],null,null,null,null,null)),r["\u0275did"](5,278528,null,0,s.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](6,{"site-title-opened":0}),(t()(),r["\u0275ted"](-1,null,[" LEIDY ROSARIO "])),(t()(),r["\u0275eld"](8,0,null,null,53,"div",[["class","header-wrap"]],null,null,null,null,null)),r["\u0275did"](9,278528,null,0,s.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](10,{"header-wrap-opened":0}),(t()(),r["\u0275eld"](11,0,null,null,0,"img",[["alt","avatar"],["src","./assets/images/site/leidy2.jpg"]],null,null,null,null,null)),(t()(),r["\u0275eld"](12,0,null,null,1,"h1",[["class","site-title"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["LEIDY ROSARIO "])),(t()(),r["\u0275eld"](14,0,null,null,44,"nav",[["class","site-navigation primary-navigation"],["id","primary-navigation"],["role","navigation"]],null,null,null,null,null)),(t()(),r["\u0275eld"](15,0,null,null,43,"div",[["class","nav-menu"]],null,null,null,null,null)),(t()(),r["\u0275eld"](16,0,null,null,42,"ul",[],null,null,null,null,null)),(t()(),r["\u0275eld"](17,0,null,null,8,"li",[],null,null,null,null,null)),(t()(),r["\u0275eld"](18,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,19).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r["\u0275did"](19,671744,[[2,4]],0,Kr,[Hr,Mn,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),r["\u0275pad"](20,1),r["\u0275did"](21,1720320,null,2,Yr,[Hr,r.ElementRef,r.Renderer2,r.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),r["\u0275qud"](603979776,1,{links:1}),r["\u0275qud"](603979776,2,{linksWithHrefs:1}),(t()(),r["\u0275eld"](24,0,null,null,0,"i",[["class","pe-7s-home"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Home"])),(t()(),r["\u0275eld"](26,0,null,null,8,"li",[],null,null,null,null,null)),(t()(),r["\u0275eld"](27,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,28).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r["\u0275did"](28,671744,[[4,4]],0,Kr,[Hr,Mn,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),r["\u0275pad"](29,1),r["\u0275did"](30,1720320,null,2,Yr,[Hr,r.ElementRef,r.Renderer2,r.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),r["\u0275qud"](603979776,3,{links:1}),r["\u0275qud"](603979776,4,{linksWithHrefs:1}),(t()(),r["\u0275eld"](33,0,null,null,0,"i",[["class","pe-7s-user"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["About Me"])),(t()(),r["\u0275eld"](35,0,null,null,8,"li",[],null,null,null,null,null)),(t()(),r["\u0275eld"](36,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,37).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r["\u0275did"](37,671744,[[6,4]],0,Kr,[Hr,Mn,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),r["\u0275pad"](38,1),r["\u0275did"](39,1720320,null,2,Yr,[Hr,r.ElementRef,r.Renderer2,r.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),r["\u0275qud"](603979776,5,{links:1}),r["\u0275qud"](603979776,6,{linksWithHrefs:1}),(t()(),r["\u0275eld"](42,0,null,null,0,"i",[["class","pe-7s-id"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Resume"])),(t()(),r["\u0275eld"](44,0,null,null,8,"li",[],null,null,null,null,null)),(t()(),r["\u0275eld"](45,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,46).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r["\u0275did"](46,671744,[[8,4]],0,Kr,[Hr,Mn,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),r["\u0275pad"](47,1),r["\u0275did"](48,1720320,null,2,Yr,[Hr,r.ElementRef,r.Renderer2,r.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),r["\u0275qud"](603979776,7,{links:1}),r["\u0275qud"](603979776,8,{linksWithHrefs:1}),(t()(),r["\u0275eld"](51,0,null,null,0,"i",[["class","pe-7s-notebook"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Blog"])),(t()(),r["\u0275and"](16777216,null,null,1,null,zs)),r["\u0275did"](54,16384,null,0,s.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Qs)),r["\u0275did"](56,16384,null,0,s.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Hs)),r["\u0275did"](58,16384,null,0,s.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](59,0,null,null,2,"div",[["class","header-bottom"]],null,null,null,null,null)),(t()(),r["\u0275eld"](60,0,null,null,1,"app-social",[],null,null,null,Bs,Vs)),r["\u0275did"](61,49152,null,0,js,[],null,null)],function(t,e){var n=e.component,r=t(e,3,0,n.menuIsOpen);t(e,2,0,"menu-toggle toggle-link",r);var i=t(e,6,0,n.menuIsOpen);t(e,5,0,"site-title mobile-title",i);var o=t(e,10,0,n.menuIsOpen);t(e,9,0,"header-wrap",o);var a=t(e,20,0,"/home");t(e,19,0,a),t(e,21,0,"active");var s=t(e,29,0,"/about");t(e,28,0,s),t(e,30,0,"active");var u=t(e,38,0,"/resume");t(e,37,0,u),t(e,39,0,"active");var l=t(e,47,0,"/blog");t(e,46,0,l),t(e,48,0,"active"),t(e,54,0,!0),t(e,56,0,!1),t(e,58,0,!1)},function(t,e){t(e,18,0,r["\u0275nov"](e,19).target,r["\u0275nov"](e,19).href),t(e,27,0,r["\u0275nov"](e,28).target,r["\u0275nov"](e,28).href),t(e,36,0,r["\u0275nov"](e,37).target,r["\u0275nov"](e,37).href),t(e,45,0,r["\u0275nov"](e,46).target,r["\u0275nov"](e,46).href)})}var Ks=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:1,expr:"1 => 2, 1 => 3, 1 => 4, 1 => 5, 2 => 3, 2 => 4, 2 => 5, 3 => 4, 3 => 5, 4 => 5",animation:[{type:11,selector:":enter, :leave",animation:{type:6,styles:{position:"fixed",width:"100%"},offset:null},options:{optional:!0}},{type:3,steps:[{type:11,selector:":enter",animation:[{type:6,styles:{transform:"translateY(100%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(0%)"},offset:null},timings:"0.5s ease-in-out"}],options:{optional:!0}},{type:11,selector:":leave",animation:[{type:6,styles:{transform:"translateY(0%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(-100%)"},offset:null},timings:"0.5s ease-in-out"}],options:{optional:!0}}],options:null}],options:null},{type:1,expr:"5 => 4, 5 => 3, 5 => 2, 5 => 1, 4=> 3, 4 => 2, 4 => 1, 3 => 2, 3 => 1, 2 => 1",animation:[{type:11,selector:":enter, :leave",animation:{type:6,styles:{position:"fixed",width:"100%"},offset:null},options:{optional:!0}},{type:3,steps:[{type:11,selector:":enter",animation:[{type:6,styles:{transform:"translateY(-100%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(0%)"},offset:null},timings:"0.5s ease-in-out"}],options:{optional:!0}},{type:11,selector:":leave",animation:[{type:6,styles:{transform:"translateY(0%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(100%)"},offset:null},timings:"0.5s ease-in-out"}],options:{optional:!0}}],options:null}],options:null}],options:{}}]}});function Gs(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,4,"div",[["class","hfeed site"],["id","page"]],[[24,"@routerTransition",0]],null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,1,"app-sidebar",[],null,[["window","click"]],function(t,e,n){var i=!0;return"window:click"===e&&(i=!1!==r["\u0275nov"](t,2).onClick()&&i),i},Ws,qs)),r["\u0275did"](2,114688,null,0,Us,[Mn,Hr],null,null),(t()(),r["\u0275eld"](3,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](4,212992,[["o",4]],0,Xr,[Zr,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null),(t()(),r["\u0275eld"](5,0,null,null,0,"div",[["class","p-overlay"]],null,null,null,null,null)),(t()(),r["\u0275eld"](6,0,null,null,0,"div",[["class","p-overlay"]],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,0,"div",[["class","site-alert animated"]],null,null,null,null,null))],function(t,e){t(e,2,0),t(e,4,0)},function(t,e){t(e,0,0,e.component.getDepth(r["\u0275nov"](e,4)))})}function Ys(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-root",[],null,null,null,Gs,Ks)),r["\u0275did"](1,49152,null,0,o,[],null,null)],null,null)}var Js=r["\u0275ccf"]("app-root",o,Ys,{},{},[]),Zs=function(){return function(){}}(),Xs=function(){return function(){}}(),$s="*";function tu(t,e){return void 0===e&&(e=null),{type:2,steps:t,options:e}}function eu(t){return{type:6,styles:t,offset:null}}function nu(t){Promise.resolve(null).then(t)}var ru=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.init=function(){},t.prototype.play=function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0},t.prototype.triggerMicrotask=function(){var t=this;nu(function(){return t._onFinish()})},t.prototype._onStart=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},t.prototype.pause=function(){},t.prototype.restart=function(){},t.prototype.finish=function(){this._onFinish()},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){},t.prototype.setPosition=function(t){},t.prototype.getPosition=function(){return 0},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),iu=function(){function t(t){var e=this;this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var n=0,r=0,i=0,o=this.players.length;0==o?nu(function(){return e._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++n==o&&e._onFinish()}),t.onDestroy(function(){++r==o&&e._onDestroy()}),t.onStart(function(){++i==o&&e._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this.players.forEach(function(t){return t.init()})},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype._onStart=function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})},t.prototype.pause=function(){this.players.forEach(function(t){return t.pause()})},t.prototype.restart=function(){this.players.forEach(function(t){return t.restart()})},t.prototype.finish=function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})},t.prototype.destroy=function(){this._onDestroy()},t.prototype._onDestroy=function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype.setPosition=function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})},t.prototype.getPosition=function(){var t=0;return this.players.forEach(function(e){var n=e.getPosition();t=Math.min(n,t)}),t},t.prototype.beforeDestroy=function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),ou="!";function au(){return"undefined"!=typeof process}function su(t){switch(t.length){case 0:return new ru;case 1:return t[0];default:return new iu(t)}}function uu(t,e,n,r,i,o){void 0===i&&(i={}),void 0===o&&(o={});var a=[],s=[],u=-1,l=null;if(r.forEach(function(t){var n=t.offset,r=n==u,c=r&&l||{};Object.keys(t).forEach(function(n){var r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case ou:s=i[n];break;case $s:s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}c[r]=s}),r||s.push(c),l=c,u=n}),a.length)throw new Error("Unable to animate due to the following errors:\n - "+a.join("\n - "));return s}function lu(t,e,n,r){switch(e){case"start":t.onStart(function(){return r(n&&cu(n,"start",t))});break;case"done":t.onDone(function(){return r(n&&cu(n,"done",t))});break;case"destroy":t.onDestroy(function(){return r(n&&cu(n,"destroy",t))})}}function cu(t,e,n){var r=n.totalTime,i=hu(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function hu(t,e,n,r,i,o,a){return void 0===i&&(i=""),void 0===o&&(o=0),{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function fu(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function pu(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var du=function(t,e){return!1},yu=function(t,e){return!1},mu=function(t,e,n){return[]},gu=au();if(gu||"undefined"!=typeof Element){if(du=function(t,e){return t.contains(e)},gu||Element.prototype.matches)yu=function(t,e){return t.matches(e)};else{var vu=Element.prototype,_u=vu.matchesSelector||vu.mozMatchesSelector||vu.msMatchesSelector||vu.oMatchesSelector||vu.webkitMatchesSelector;_u&&(yu=function(t,e){return _u.apply(t,[e])})}mu=function(t,e,n){var r=[];if(n)r.push.apply(r,Object(a.__spread)(t.querySelectorAll(e)));else{var i=t.querySelector(e);i&&r.push(i)}return r}}var bu=null,wu=!1;function Cu(t){bu||(bu=("undefined"!=typeof document?document.body:null)||{},wu=!!bu.style&&"WebkitAppearance"in bu.style);var e=!0;return bu.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in bu.style)&&wu&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in bu.style),e}var Eu=yu,Su=du,Tu=mu;function Du(t){var e={};return Object.keys(t).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}var Iu=function(){function t(){}return t.prototype.validateStyleProperty=function(t){return Cu(t)},t.prototype.matchesElement=function(t,e){return Eu(t,e)},t.prototype.containsElement=function(t,e){return Su(t,e)},t.prototype.query=function(t,e,n){return Tu(t,e,n)},t.prototype.computeStyle=function(t,e,n){return n||""},t.prototype.animate=function(t,e,n,r,i,o,a){return void 0===o&&(o=[]),new ru(n,r)},t}(),Ou=function(){function t(){}return t.NOOP=new Iu,t}(),Au=1e3;function xu(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ku(parseFloat(e[1]),e[2])}function ku(t,e){switch(e){case"s":return t*Au;default:return t}}function Nu(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'+t+'" is invalid.'),{duration:0,delay:0,easing:""};r=ku(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=ku(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var l=!1,c=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),l=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&e.splice(c,0,'The provided timing value "'+t+'" is invalid.')}return{duration:r,delay:i,easing:o}}(t,e,n)}function Pu(t,e){return void 0===e&&(e={}),Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function Ru(t,e,n){if(void 0===n&&(n={}),e)for(var r in t)n[r]=t[r];else Pu(t,n);return n}function Mu(t,e,n){return n?e+":"+n+";":""}function Fu(t){for(var e="",n=0;n<t.style.length;n++)e+=Mu(0,r=t.style.item(n),t.style.getPropertyValue(r));for(var r in t.style)t.style.hasOwnProperty(r)&&!r.startsWith("_")&&(e+=Mu(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[r]));t.setAttribute("style",e)}function Lu(t,e,n){t.style&&(Object.keys(e).forEach(function(r){var i=Hu(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),au()&&Fu(t))}function ju(t,e){t.style&&(Object.keys(e).forEach(function(e){var n=Hu(e);t.style[n]=""}),au()&&Fu(t))}function Vu(t){return Array.isArray(t)?1==t.length?t[0]:tu(t):t}var Bu=new RegExp("{{\\s*(.+?)\\s*}}","g");function Uu(t){var e=[];if("string"==typeof t){for(var n=t.toString(),r=void 0;r=Bu.exec(n);)e.push(r[1]);Bu.lastIndex=0}return e}function qu(t,e,n){var r=t.toString(),i=r.replace(Bu,function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function zu(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var Qu=/-+([a-z0-9])/g;function Hu(t){return t.replace(Qu,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[1].toUpperCase()})}function Wu(t,e){return 0===t||0===e}function Ku(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach(function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]}),o.length)for(var a=function(){var n=e[s];o.forEach(function(e){n[e]=Yu(t,e)})},s=1;s<e.length;s++)a()}return e}function Gu(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Yu(t,e){return window.getComputedStyle(t)[e]}var Ju="*",Zu=new Set(["true","1"]),Xu=new Set(["false","0"]);function $u(t,e){var n=Zu.has(t)||Xu.has(t),r=Zu.has(e)||Xu.has(e);return function(i,o){var a=t==Ju||t==i,s=e==Ju||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?Zu.has(t):Xu.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?Zu.has(e):Xu.has(e)),a&&s}}var tl=new RegExp("s*:selfs*,?","g");function el(t,e,n){return new nl(t).build(e,n)}var nl=function(){function t(t){this._driver=t}return t.prototype.build=function(t,e){var n=new rl(e);return this._resetContextStyleTimingState(n),Gu(this,Vu(t),n)},t.prototype._resetContextStyleTimingState=function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0},t.prototype.visitTrigger=function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(t){s.name=t,o.push(n.visitState(s,e))}),s.name=u}else if(1==t.type){var l=n.visitTransition(t,e);r+=l.queryCount,i+=l.depCount,a.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}},t.prototype.visitState=function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach(function(t){if(il(t)){var e=t;Object.keys(e).forEach(function(t){Uu(e[t]).forEach(function(t){o.hasOwnProperty(t)||i.add(t)})})}}),i.size){var a=zu(i.values());e.errors.push('state("'+t.name+'", ...) must define default values for all the following style substitutions: '+a.join(", "))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}},t.prototype.visitTransition=function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=Gu(this,Vu(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'+t+'" is not supported'),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'+t+'" is not supported'),e;var o=i[1],a=i[2],s=i[3];e.push($u(o,s)),"<"!=a[0]||o==Ju&&s==Ju||e.push($u(s,o))}(t,i,r)}):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:ol(t.options)}},t.prototype.visitSequence=function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return Gu(n,t,e)}),options:ol(t.options)}},t.prototype.visitGroup=function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map(function(t){e.currentTime=r;var o=Gu(n,t,e);return i=Math.max(i,e.currentTime),o});return e.currentTime=i,{type:3,steps:o,options:ol(t.options)}},t.prototype.visitAnimate=function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return al(Nu(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var i=al(0,0,"");return i.dynamic=!0,i.strValue=r,i}return al((n=n||Nu(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:eu({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=eu(s)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}},t.prototype.visitStyle=function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n},t.prototype._makeStyleAst=function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?t==$s?n.push(t):e.errors.push("The provided style string value "+t+" is not allowed."):n.push(t)}):n.push(t.styles);var r=!1,i=null;return n.forEach(function(t){if(il(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}},t.prototype._validateStyleAst=function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,l=e.collectedStyles[e.currentQuerySelector],c=l[r],h=!0;c&&(o!=i&&o>=c.startTime&&i<=c.endTime&&(e.errors.push('The CSS property "'+r+'" that exists between the times of "'+c.startTime+'ms" and "'+c.endTime+'ms" is also being animated in a parallel animation between the times of "'+o+'ms" and "'+i+'ms"'),h=!1),o=c.startTime),h&&(l[r]={startTime:o,endTime:i}),e.options&&(a=e.errors,s=e.options.params||{},(u=Uu(t[r])).length&&u.forEach(function(t){s.hasOwnProperty(t)||a.push("Unable to resolve the local animation param "+t+" in the given list of values")}))}else e.errors.push('The provided animation property "'+r+'" is not a supported CSS property for animations')})})},t.prototype.visitKeyframes=function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,l=t.steps.map(function(t){var r=n._makeStyleAst(t,e),l=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(il(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(il(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),c=0;return null!=l&&(i++,c=r.offset=l),s=s||c<0||c>1,a=a||c<u,u=c,o.push(c),r});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var c=t.steps.length,h=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(c-1));var f=c-1,p=e.currentTime,d=e.currentAnimateTimings,y=d.duration;return l.forEach(function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*y;e.currentTime=p+d.delay+s,d.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)}),r},t.prototype.visitReference=function(t,e){return{type:8,animation:Gu(this,Vu(t.animation),e),options:ol(t.options)}},t.prototype.visitAnimateChild=function(t,e){return e.depCount++,{type:9,options:ol(t.options)}},t.prototype.visitAnimateRef=function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ol(t.options)}},t.prototype.visitQuery=function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=Object(a.__read)(function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace(tl,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(t){return".ng-trigger-"+t.substr(1)}).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=i[0],s=i[1];e.currentQuerySelector=n.length?n+" "+o:o,fu(e.collectedStyles,e.currentQuerySelector,{});var u=Gu(this,Vu(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:u,originalSelector:t.selector,options:ol(t.options)}},t.prototype.visitStagger=function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Nu(t.timings,e.errors,!0);return{type:12,animation:Gu(this,Vu(t.animation),e),timings:n,options:null}},t}(),rl=function(){return function(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}();function il(t){return!Array.isArray(t)&&"object"==typeof t}function ol(t){var e;return t?(t=Pu(t)).params&&(t.params=(e=t.params)?Pu(e):null):t={},t}function al(t,e,n){return{duration:t,delay:e,easing:n}}function sl(t,e,n,r,i,o,a,s){return void 0===a&&(a=null),void 0===s&&(s=!1),{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var ul=function(){function t(){this._map=new Map}return t.prototype.consume=function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e},t.prototype.append=function(t,e){var n=this._map.get(t);n||this._map.set(t,n=[]),n.push.apply(n,Object(a.__spread)(e))},t.prototype.has=function(t){return this._map.has(t)},t.prototype.clear=function(){this._map.clear()},t}(),ll=new RegExp(":enter","g"),cl=new RegExp(":leave","g");function hl(t,e,n,r,i,o,a,s,u,l){return void 0===o&&(o={}),void 0===a&&(a={}),void 0===l&&(l=[]),(new fl).buildKeyframes(t,e,n,r,i,o,a,s,u,l)}var fl=function(){function t(){}return t.prototype.buildKeyframes=function(t,e,n,r,i,o,a,s,u,l){void 0===l&&(l=[]),u=u||new ul;var c=new dl(t,e,u,r,i,l,[]);c.options=s,c.currentTimeline.setStyles([o],null,c.errors,s),Gu(this,n,c);var h=c.timelines.filter(function(t){return t.containsAnimation()});if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,c.errors,s)}return h.length?h.map(function(t){return t.buildKeyframes()}):[sl(e,[],[],[],0,0,"",!1)]},t.prototype.visitTrigger=function(t,e){},t.prototype.visitState=function(t,e){},t.prototype.visitTransition=function(t,e){},t.prototype.visitAnimateChild=function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t},t.prototype.visitAnimateRef=function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t},t.prototype._visitSubInstructions=function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?xu(n.duration):null,o=null!=n.delay?xu(n.delay):null;return 0!==i&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r},t.prototype.visitReference=function(t,e){e.updateOptions(t.options,!0),Gu(this,t.animation,e),e.previousNode=t},t.prototype.visitSequence=function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=pl);var a=xu(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach(function(t){return Gu(n,t,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t},t.prototype.visitGroup=function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?xu(t.options.delay):0;t.steps.forEach(function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),Gu(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(i),e.previousNode=t},t.prototype._visitTiming=function(t,e){if(t.dynamic){var n=t.strValue;return Nu(e.params?qu(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}},t.prototype.visitAnimate=function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t},t.prototype.visitStyle=function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t},t.prototype.visitKeyframes=function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t},t.prototype.visitQuery=function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?xu(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=pl);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),Gu(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t},t.prototype.visitStagger=function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var l=u.currentTime;Gu(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)},t}(),pl={},dl=function(){function t(t,e,n,r,i,o,a,s){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pl,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=s||new yl(this._driver,e,0),a.push(this.currentTimeline)}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.updateOptions=function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=xu(r.duration)),null!=r.delay&&(i.delay=xu(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(t){e&&a.hasOwnProperty(t)||(a[t]=qu(o[t],a,n.errors))})}}},t.prototype._copyOptions=function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t},t.prototype.createSubContext=function(e,n,r){void 0===e&&(e=null);var i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o},t.prototype.transformIntoNewTimeline=function(t){return this.previousNode=pl,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline},t.prototype.appendInstructionToTimeline=function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new ml(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r},t.prototype.incrementTime=function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)},t.prototype.delayNextStep=function(t){t>0&&this.currentTimeline.delayNextStep(t)},t.prototype.invokeQuery=function(t,e,n,r,i,o){var s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(ll,"."+this._enterClassName)).replace(cl,"."+this._leaveClassName);var u=this._driver.query(this.element,t,1!=n);0!==n&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),s.push.apply(s,Object(a.__spread)(u))}return i||0!=s.length||o.push('`query("'+e+'")` returned zero elements. (Use `query("'+e+'", { optional: true })` if you wish to allow this.)'),s},t}(),yl=function(){function t(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return t.prototype.containsAnimation=function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}},t.prototype.getCurrentStyleProperties=function(){return Object.keys(this._currentKeyframe)},Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),t.prototype.delayNextStep=function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t},t.prototype.fork=function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)},t.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},t.prototype.forwardFrame=function(){this.duration+=1,this._loadKeyframe()},t.prototype.forwardTime=function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()},t.prototype._updateStyle=function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}},t.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},t.prototype.applyEmptyStep=function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||$s,e._currentKeyframe[t]=$s}),this._currentEmptyStepKeyframe=this._currentKeyframe},t.prototype.setStyles=function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach(function(t){"*"===t?(n=n||Object.keys(e)).forEach(function(t){r[t]=$s}):Ru(t,!1,r)}),r}(t,this._globalTimelineStyles);Object.keys(a).forEach(function(t){var e=qu(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:$s),i._updateStyle(t,e)})},t.prototype.applyStylesToKeyframe=function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))},t.prototype.snapshotCurrentStyles=function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})},t.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(t.prototype,"properties",{get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t},enumerable:!0,configurable:!0}),t.prototype.mergeTimelineCollectedStyles=function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)})},t.prototype.buildKeyframes=function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(o,a){var s=Ru(o,!0);Object.keys(s).forEach(function(t){var r=s[t];r==ou?e.add(t):r==$s&&n.add(t)}),r||(s.offset=a/t.duration),i.push(s)});var o=e.size?zu(e.values()):[],a=n.size?zu(n.values()):[];if(r){var s=i[0],u=Pu(s);s.offset=0,u.offset=1,i=[s,u]}return sl(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)},t}(),ml=function(t){function e(e,n,r,i,o,a,s){void 0===s&&(s=!1);var u=t.call(this,e,n,a.delay)||this;return u.element=n,u.keyframes=r,u.preStyleProps=i,u.postStyleProps=o,u._stretchStartingKeyframe=s,u.timings={duration:a.duration,delay:a.delay,easing:a.easing},u}return Object(a.__extends)(e,t),e.prototype.containsAnimation=function(){return this.keyframes.length>1},e.prototype.buildKeyframes=function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=Ru(t[0],!1);u.offset=0,o.push(u);var l=Ru(t[0],!1);l.offset=gl(s),o.push(l);for(var c=t.length-1,h=1;h<=c;h++){var f=Ru(t[h],!1);f.offset=gl((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return sl(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)},e}(yl);function gl(t,e){void 0===e&&(e=3);var n=Math.pow(10,e-1);return Math.round(t*n)/n}var vl=function(){return function(){}}(),_l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.normalizePropertyName=function(t,e){return Hu(t)},e.prototype.normalizeStyleValue=function(t,e,n,r){var i="",o=n.toString().trim();if(bl[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for "+t+":"+n)}return o+i},e}(vl),bl=wl("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function wl(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}function Cl(t,e,n,r,i,o,a,s,u,l,c,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:f}}var El={},Sl=function(){function t(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}return t.prototype.match=function(t,e,n,r){return function(t,e,n,r,i){return t.some(function(t){return t(e,n,r,i)})}(this.ast.matchers,t,e,n,r)},t.prototype.buildStyles=function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o},t.prototype.build=function(t,e,n,r,i,o,s,u,l,c){var h=[],f=this.ast.options&&this.ast.options.params||El,p=this.buildStyles(n,s&&s.params||El,h),d=u&&u.params||El,y=this.buildStyles(r,d,h),m=new Set,g=new Map,v=new Map,_="void"===r,b={params:Object(a.__assign)({},f,d)},w=c?[]:hl(t,e,this.ast.animation,i,o,p,y,b,l,h),C=0;if(w.forEach(function(t){C=Math.max(t.duration+t.delay,C)}),h.length)return Cl(e,this._triggerName,n,r,_,p,y,[],[],g,v,C,h);w.forEach(function(t){var n=t.element,r=fu(g,n,{});t.preStyleProps.forEach(function(t){return r[t]=!0});var i=fu(v,n,{});t.postStyleProps.forEach(function(t){return i[t]=!0}),n!==e&&m.add(n)});var E=zu(m.values());return Cl(e,this._triggerName,n,r,_,p,y,w,E,g,v,C)},t}(),Tl=function(){function t(t,e){this.styles=t,this.defaultParams=e}return t.prototype.buildStyles=function(t,e){var n={},r=Pu(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach(function(t){var o=i[t];o.length>1&&(o=qu(o,r,e)),n[t]=o})}}),n},t}(),Dl=function(){function t(t,e){var n=this;this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(function(t){n.states[t.name]=new Tl(t.style,t.options&&t.options.params||{})}),Il(this.states,"true","1"),Il(this.states,"false","0"),e.transitions.forEach(function(e){n.transitionFactories.push(new Sl(t,e,n.states))}),this.fallbackTransition=new Sl(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return Object.defineProperty(t.prototype,"containsQueries",{get:function(){return this.ast.queryCount>0},enumerable:!0,configurable:!0}),t.prototype.matchTransition=function(t,e,n,r){return this.transitionFactories.find(function(i){return i.match(t,e,n,r)})||null},t.prototype.matchStyles=function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)},t}();function Il(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Ol=new ul,Al=function(){function t(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}return t.prototype.register=function(t,e){var n=[],r=el(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r},t.prototype._buildPlayer=function(t,e,n){var r=t.element,i=uu(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)},t.prototype.create=function(t,e,n){var r=this;void 0===n&&(n={});var i,o=[],a=this._animations[t],s=new Map;if(a?(i=hl(this._driver,e,a,"ng-enter","ng-leave",{},{},n,Ol,o)).forEach(function(t){var e=fu(s,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),i=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=r._driver.computeStyle(e,n,$s)})});var u=su(i.map(function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)}));return this._playersById[t]=u,u.onDestroy(function(){return r.destroy(t)}),this.players.push(u),u},t.prototype.destroy=function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)},t.prototype._getPlayer=function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e},t.prototype.listen=function(t,e,n,r){var i=hu(e,"","","");return lu(this._getPlayer(t),n,i,r),function(){}},t.prototype.command=function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])},t}(),xl=[],kl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pl="__ng_removed",Rl=function(){function t(t,e){void 0===e&&(e=""),this.namespaceId=e;var n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){var r=Pu(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.absorbOptions=function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}},t}(),Ml=new Rl("void"),Fl=function(){function t(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ql(e,this._hostClassName)}return t.prototype.listen=function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'+n+'" because the animation trigger "'+e+"\" doesn't exist!");if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'+e+'" because the provided event is undefined!');if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'+n+'" for the animation trigger "'+e+'" is not supported!');var a=fu(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=fu(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(Ql(t,"ng-trigger"),Ql(t,"ng-trigger-"+e),u[e]=Ml),function(){o._engine.afterFlush(function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]})}},t.prototype.register=function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)},t.prototype._getTrigger=function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'+t+'" has not been registered!');return e},t.prototype.trigger=function(t,e,n,r){var i=this;void 0===r&&(r=!0);var o=this._getTrigger(e),a=new jl(this.id,e,t),s=this._engine.statesByElement.get(t);s||(Ql(t,"ng-trigger"),Ql(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],l=new Rl(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),s[e]=l,u||(u=Ml),"void"===l.value||u.value!==l.value){var c=fu(this._engine.playersByElement,t,[]);c.forEach(function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()});var h=o.matchTransition(u.value,l.value,t,l.params),f=!1;if(!h){if(!r)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:l,player:a,isFallbackTransition:f}),f||(Ql(t,"ng-animate-queued"),a.onStart(function(){Hl(t,"ng-animate-queued")})),a.onDone(function(){var e=i.players.indexOf(a);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}}),this.players.push(a),c.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,l.params)){var p=[],d=o.matchStyles(u.value,u.params,p),y=o.matchStyles(l.value,l.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(function(){ju(t,d),Lu(t,y)})}},t.prototype.deregister=function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,r){e._elementListeners.set(r,n.filter(function(e){return e.name!=t}))})},t.prototype.clearElementCache=function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))},t.prototype._signalRemovalForInnerTriggers=function(t,e,n){var r=this;void 0===n&&(n=!1),this._engine.driver.query(t,".ng-trigger",!0).forEach(function(t){if(!t[Pl]){var n=r._engine.fetchNamespacesByElement(t);n.size?n.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):r.clearElementCache(t)}})},t.prototype.triggerLeaveAnimation=function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&su(a).onDone(function(){return i._engine.processLeaveNode(t)}),!0}return!1},t.prototype.prepareLeaveAnimationListeners=function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach(function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,a=e._engine.statesByElement.get(t)[i]||Ml,s=new Rl("void"),u=new jl(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}})}},t.prototype.removeNode=function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}this.prepareLeaveAnimationListeners(t),i?r.markElementAsRemoved(this.id,t,!1,e):(r.afterFlush(function(){return n.clearElementCache(t)}),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}},t.prototype.insertNode=function(t,e){Ql(t,this._hostClassName)},t.prototype.drainQueuedTransitions=function(t){var e=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach(function(e){if(e.name==r.triggerName){var n=hu(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,lu(r.player,e.phase,n,e.callback)}}),i.markedForDestroy?e._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1})},t.prototype.destroy=function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)},t.prototype.elementContainsData=function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(function(e){return e.element===t})||e},t}(),Ll=function(){function t(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return t.prototype._onRemovalComplete=function(t,e){this.onRemovalComplete(t,e)},Object.defineProperty(t.prototype,"queuedPlayers",{get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t},enumerable:!0,configurable:!0}),t.prototype.createNamespace=function(t,e){var n=new Fl(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n},t.prototype._balanceNamespaceList=function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t},t.prototype.register=function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n},t.prototype.registerTrigger=function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++},t.prototype.destroy=function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(e)})}},t.prototype._fetchNamespace=function(t){return this._namespaceLookup[t]},t.prototype.fetchNamespacesByElement=function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e},t.prototype.trigger=function(t,e,n,r){if(Vl(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1},t.prototype.insertNode=function(t,e,n,r){if(Vl(e)){var i=e[Pl];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}},t.prototype.collectEnterElement=function(t){this.collectedEnterElements.push(t)},t.prototype.markElementAsDisabled=function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ql(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Hl(t,"ng-animate-disabled"))},t.prototype.removeNode=function(t,e,n){if(Vl(e)){var r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n)}else this._onRemovalComplete(e,n)},t.prototype.markElementAsRemoved=function(t,e,n,r){this.collectedLeaveElements.push(e),e[Pl]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}},t.prototype.listen=function(t,e,n,r,i){return Vl(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}},t.prototype._buildInstruction=function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)},t.prototype.destroyInnerAnimations=function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})},t.prototype.destroyActiveAnimationsForElement=function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()})},t.prototype.finishActiveQueriedAnimationOnElement=function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})},t.prototype.whenRenderingDone=function(){var t=this;return new Promise(function(e){if(t.players.length)return su(t.players).onDone(function(){return e()});e()})},t.prototype.processLeaveNode=function(t){var e=this,n=t[Pl];if(n&&n.setForRemoval){if(t[Pl]=kl,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(t){e.markElementAsDisabled(t,!1)})},t.prototype.flush=function(t){var e=this;void 0===t&&(t=-1);var n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Ql(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(r=0;r<i.length;r++)i[r]()}}else for(r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var o=this._whenQuietFns;this._whenQuietFns=[],n.length?su(n).onDone(function(){o.forEach(function(t){return t()})}):o.forEach(function(t){return t()})}},t.prototype.reportError=function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))},t.prototype._flushAnimations=function(t,e){var n=this,r=new ul,i=[],o=new Map,s=[],u=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(function(t){h.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)h.add(e[r])});var f=this.bodyNode,p=Array.from(this.statesByElement.keys()),d=ql(p,this.collectedEnterElements),y=new Map,m=0;d.forEach(function(t,e){var n="ng-enter"+m++;y.set(e,n),t.forEach(function(t){return Ql(t,n)})});for(var g=[],v=new Set,_=new Set,b=0;b<this.collectedLeaveElements.length;b++)(L=(F=this.collectedLeaveElements[b])[Pl])&&L.setForRemoval&&(g.push(F),v.add(F),L.hasAnimation?this.driver.query(F,".ng-star-inserted",!0).forEach(function(t){return v.add(t)}):_.add(F));var w=new Map,C=ql(p,Array.from(v));C.forEach(function(t,e){var n="ng-leave"+m++;w.set(e,n),t.forEach(function(t){return Ql(t,n)})}),t.push(function(){d.forEach(function(t,e){var n=y.get(e);t.forEach(function(t){return Hl(t,n)})}),C.forEach(function(t,e){var n=w.get(e);t.forEach(function(t){return Hl(t,n)})}),g.forEach(function(t){n.processLeaveNode(t)})});for(var E=[],S=[],T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(e).forEach(function(t){var e=t.player,o=t.element;if(E.push(e),n.collectedEnterElements.length){var a=o[Pl];if(a&&a.setForMove)return void e.destroy()}var h=!f||!n.driver.containsElement(f,o),p=w.get(o),d=y.get(o),m=n._buildInstruction(t,r,d,p,h);if(m.errors&&m.errors.length)S.push(m);else{if(h)return e.onStart(function(){return ju(o,m.fromStyles)}),e.onDestroy(function(){return Lu(o,m.toStyles)}),void i.push(e);if(t.isFallbackTransition)return e.onStart(function(){return ju(o,m.fromStyles)}),e.onDestroy(function(){return Lu(o,m.toStyles)}),void i.push(e);m.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),r.append(o,m.timelines),s.push({instruction:m,player:e,element:o}),m.queriedElements.forEach(function(t){return fu(u,t,[]).push(e)}),m.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var r=l.get(e);r||l.set(e,r=new Set),n.forEach(function(t){return r.add(t)})}}),m.postStyleProps.forEach(function(t,e){var n=Object.keys(t),r=c.get(e);r||c.set(e,r=new Set),n.forEach(function(t){return r.add(t)})})}});if(S.length){var D=[];S.forEach(function(t){D.push("@"+t.triggerName+" has failed due to:\n"),t.errors.forEach(function(t){return D.push("- "+t+"\n")})}),E.forEach(function(t){return t.destroy()}),this.reportError(D)}var I=new Map,O=new Map;s.forEach(function(t){var e=t.element;r.has(e)&&(O.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,I))}),i.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){fu(I,e,[]).push(t),t.destroy()})});var A=g.filter(function(t){return Kl(t,l,c)}),x=new Map;Ul(x,this.driver,_,c,$s).forEach(function(t){Kl(t,l,c)&&A.push(t)});var k=new Map;d.forEach(function(t,e){Ul(k,n.driver,new Set(t),l,ou)}),A.forEach(function(t){var e=x.get(t),n=k.get(t);x.set(t,Object(a.__assign)({},e,n))});var N=[],P=[],R={};s.forEach(function(t){var e=t.element,a=t.player,s=t.instruction;if(r.has(e)){if(h.has(e))return a.onDestroy(function(){return Lu(e,s.toStyles)}),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=R;if(O.size>1){for(var l=e,c=[];l=l.parentNode;){var f=O.get(l);if(f){u=f;break}c.push(l)}c.forEach(function(t){return O.set(t,u)})}var p=n._buildAnimation(a.namespaceId,s,I,o,k,x);if(a.setRealPlayer(p),u===R)N.push(a);else{var d=n.playersByElement.get(u);d&&d.length&&(a.parentPlayer=su(d)),i.push(a)}}else ju(e,s.fromStyles),a.onDestroy(function(){return Lu(e,s.toStyles)}),P.push(a),h.has(e)&&i.push(a)}),P.forEach(function(t){var e=o.get(t.element);if(e&&e.length){var n=su(e);t.setRealPlayer(n)}}),i.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var M=0;M<g.length;M++){var F,L=(F=g[M])[Pl];if(Hl(F,"ng-leave"),!L||!L.hasAnimation){var j=[];if(u.size){var V=u.get(F);V&&V.length&&j.push.apply(j,Object(a.__spread)(V));for(var B=this.driver.query(F,".ng-animating",!0),U=0;U<B.length;U++){var q=u.get(B[U]);q&&q.length&&j.push.apply(j,Object(a.__spread)(q))}}var z=j.filter(function(t){return!t.destroyed});z.length?Wl(this,F,z):this.processLeaveNode(F)}}return g.length=0,N.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),N},t.prototype.elementContainsData=function(t,e){var n=!1,r=e[Pl];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n},t.prototype.afterFlush=function(t){this._flushFns.push(t)},t.prototype.afterFlushAnimationsDone=function(t){this._whenQuietFns.push(t)},t.prototype._getPreviousPlayers=function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach(function(t){t.queued||(u||t.triggerName==r)&&o.push(t)})}}return(n||r)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)})),o},t.prototype._beforeAnimationBuild=function(t,e,n){var r,i,o=e.element,s=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName,l=function(t){var r=t.element,i=r!==o,a=fu(n,r,[]);c._getPreviousPlayers(r,i,s,u,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),a.push(t)})},c=this;try{for(var h=Object(a.__values)(e.timelines),f=h.next();!f.done;f=h.next())l(f.value)}catch(p){r={error:p}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}ju(o,e.fromStyles)},t.prototype._buildAnimation=function(t,e,n,r,i,o){var a=this,s=e.triggerName,u=e.element,l=[],c=new Set,h=new Set,f=e.timelines.map(function(e){var f=e.element;c.add(f);var p=f[Pl];if(p&&p.removedBeforeQueried)return new ru(e.duration,e.delay);var d,y,m=f!==u,g=(d=(n.get(f)||xl).map(function(t){return t.getRealPlayer()}),y=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof iu?t(i.players,n):n.push(i)}}(d,y),y).filter(function(t){return!!t.element&&t.element===f}),v=i.get(f),_=o.get(f),b=uu(0,a._normalizer,0,e.keyframes,v,_),w=a._buildPlayer(e,b,g);if(e.subTimeline&&r&&h.add(f),m){var C=new jl(t,s,f);C.setRealPlayer(w),l.push(C)}return w});l.forEach(function(t){fu(a.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else(r=t[e])&&(r.length&&(i=r.indexOf(n),r.splice(i,1)),0==r.length&&delete t[e]);return r}(a.playersByQueriedElement,t.element,t)})}),c.forEach(function(t){return Ql(t,"ng-animating")});var p=su(f);return p.onDestroy(function(){c.forEach(function(t){return Hl(t,"ng-animating")}),Lu(u,e.toStyles)}),h.forEach(function(t){fu(r,t,[]).push(p)}),p},t.prototype._buildPlayer=function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ru(t.duration,t.delay)},t}(),jl=function(){function t(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new ru,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return t.prototype.setRealPlayer=function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return lu(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)},t.prototype.getRealPlayer=function(){return this._player},t.prototype.overrideTotalTime=function(t){this.totalTime=t},t.prototype.syncPlayerEvents=function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})},t.prototype._queueEvent=function(t,e){fu(this._queuedCallbacks,t,[]).push(e)},t.prototype.onDone=function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)},t.prototype.onStart=function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)},t.prototype.onDestroy=function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)},t.prototype.init=function(){this._player.init()},t.prototype.hasStarted=function(){return!this.queued&&this._player.hasStarted()},t.prototype.play=function(){!this.queued&&this._player.play()},t.prototype.pause=function(){!this.queued&&this._player.pause()},t.prototype.restart=function(){!this.queued&&this._player.restart()},t.prototype.finish=function(){this._player.finish()},t.prototype.destroy=function(){this.destroyed=!0,this._player.destroy()},t.prototype.reset=function(){!this.queued&&this._player.reset()},t.prototype.setPosition=function(t){this.queued||this._player.setPosition(t)},t.prototype.getPosition=function(){return this.queued?0:this._player.getPosition()},t.prototype.triggerCallback=function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)},t}();function Vl(t){return t&&1===t.nodeType}function Bl(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ul(t,e,n,r,i){var o=[];n.forEach(function(t){return o.push(Bl(t))});var a=[];r.forEach(function(n,r){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[Pl]=Nl,a.push(r))}),t.set(r,o)});var s=0;return n.forEach(function(t){return Bl(t,o[s++])}),a}function ql(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach(function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var a=e.parentNode;return o=n.has(a)?a:r.has(a)?1:t(a),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}var zl="$$classes";function Ql(t,e){if(t.classList)t.classList.add(e);else{var n=t[zl];n||(n=t[zl]={}),n[e]=!0}}function Hl(t,e){if(t.classList)t.classList.remove(e);else{var n=t[zl];n&&delete n[e]}}function Wl(t,e,n){su(n).onDone(function(){return t.processLeaveNode(e)})}function Kl(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach(function(t){return i.add(t)}):e.set(t,r),n.delete(t),!0}var Gl=function(){function t(t,e,n){var r=this;this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Ll(t,e,n),this._timelineEngine=new Al(t,e,n),this._transitionEngine.onRemovalComplete=function(t,e){return r.onRemovalComplete(t,e)}}return t.prototype.registerTrigger=function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=el(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'+r+'" has failed to build due to the following errors:\n - '+s.join("\n - "));a=function(t,e){return new Dl(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)},t.prototype.register=function(t,e){this._transitionEngine.register(t,e)},t.prototype.destroy=function(t,e){this._transitionEngine.destroy(t,e)},t.prototype.onInsert=function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)},t.prototype.onRemove=function(t,e,n){this._transitionEngine.removeNode(t,e,n)},t.prototype.disableAnimations=function(t,e){this._transitionEngine.markElementAsDisabled(t,e)},t.prototype.process=function(t,e,n,r){if("@"==n.charAt(0)){var i=Object(a.__read)(pu(n),2);this._timelineEngine.command(i[0],e,i[1],r)}else this._transitionEngine.trigger(t,e,n,r)},t.prototype.listen=function(t,e,n,r,i){if("@"==n.charAt(0)){var o=Object(a.__read)(pu(n),2);return this._timelineEngine.listen(o[0],e,o[1],i)}return this._transitionEngine.listen(t,e,n,r,i)},t.prototype.flush=function(t){void 0===t&&(t=-1),this._transitionEngine.flush(t)},Object.defineProperty(t.prototype,"players",{get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)},enumerable:!0,configurable:!0}),t.prototype.whenRenderingDone=function(){return this._transitionEngine.whenRenderingDone()},t}();function Yl(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=Zl(e[0]),e.length>1&&(r=Zl(e[e.length-1]))):e&&(n=Zl(e)),n||r?new Jl(t,n,r):null}var Jl=function(){function t(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return t.prototype.start=function(){this._state<1&&(this._startStyles&&Lu(this._element,this._startStyles,this._initialStyles),this._state=1)},t.prototype.finish=function(){this.start(),this._state<2&&(Lu(this._element,this._initialStyles),this._endStyles&&(Lu(this._element,this._endStyles),this._endStyles=null),this._state=1)},t.prototype.destroy=function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ju(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ju(this._element,this._endStyles),this._endStyles=null),Lu(this._element,this._initialStyles),this._state=3)},t.initialStylesByElement=new WeakMap,t}();function Zl(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];Xl(i)&&((e=e||{})[i]=t[i])}return e}function Xl(t){return"display"===t||"position"===t}var $l="animation",tc="animationend",ec=function(){function t(t,e,n,r,i,o,a){var s=this;this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return s._handleCallback(t)}}return t.prototype.apply=function(){var t,e,n;e=this._duration+"ms "+this._easing+" "+this._delay+"ms 1 normal "+this._fillMode+" "+this._name,(n=sc(t=this._element,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)","===t.charAt(n)&&0}(n),e=n+", "+e),ac(t,"",e),oc(this._element,this._eventFn,!1),this._startTime=Date.now()},t.prototype.pause=function(){nc(this._element,this._name,"paused")},t.prototype.resume=function(){nc(this._element,this._name,"running")},t.prototype.setPosition=function(t){var e=rc(this._element,this._name);this._position=t*this._duration,ac(this._element,"Delay","-"+this._position+"ms",e)},t.prototype.getPosition=function(){return this._position},t.prototype._handleCallback=function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()},t.prototype.finish=function(){this._finished||(this._finished=!0,this._onDoneFn(),oc(this._element,this._eventFn,!0))},t.prototype.destroy=function(){var t,e,n,r;this._destroyed||(this._destroyed=!0,this.finish(),e=this._name,(r=ic(n=sc(t=this._element,"").split(","),e))>=0&&(n.splice(r,1),ac(t,"",n.join(","))))},t}();function nc(t,e,n){ac(t,"PlayState",n,rc(t,e))}function rc(t,e){var n=sc(t,"");return n.indexOf(",")>0?ic(n.split(","),e):ic([n],e)}function ic(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function oc(t,e,n){n?t.removeEventListener(tc,e):t.addEventListener(tc,e)}function ac(t,e,n,r){var i=$l+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}t.style[i]=n}function sc(t,e){return t.style[$l+e]}var uc="linear",lc=function(){function t(t,e,n,r,i,o,a,s){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=a,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||uc,this.totalTime=r+i,this._buildStyler()}return t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.destroy=function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype._flushDoneFns=function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]},t.prototype._flushStartFns=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},t.prototype.finish=function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())},t.prototype.setPosition=function(t){this._styler.setPosition(t)},t.prototype.getPosition=function(){return this._styler.getPosition()},t.prototype.hasStarted=function(){return this._state>=2},t.prototype.init=function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())},t.prototype.play=function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()},t.prototype.pause=function(){this.init(),this._styler.pause()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.reset=function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()},t.prototype._buildStyler=function(){var t=this;this._styler=new ec(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return t.finish()})},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t.prototype.beforeDestroy=function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:Yu(t.element,r))})}this.currentSnapshot=e},t}(),cc=function(t){function e(e,n){var r=t.call(this)||this;return r.element=e,r._startingStyles={},r.__initialized=!1,r._styles=Du(n),r}return Object(a.__extends)(e,t),e.prototype.init=function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(t){e._startingStyles[t]=e.element.style[t]}),t.prototype.init.call(this))},e.prototype.play=function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(t){return e.element.style.setProperty(t,e._styles[t])}),t.prototype.play.call(this))},e.prototype.destroy=function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)}),this._startingStyles=null,t.prototype.destroy.call(this))},e}(ru),hc=function(){function t(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return t.prototype.validateStyleProperty=function(t){return Cu(t)},t.prototype.matchesElement=function(t,e){return Eu(t,e)},t.prototype.containsElement=function(t,e){return Su(t,e)},t.prototype.query=function(t,e,n){return Tu(t,e,n)},t.prototype.computeStyle=function(t,e,n){return window.getComputedStyle(t)[e]},t.prototype.buildKeyframeElement=function(t,e,n){n=n.map(function(t){return Du(t)});var r="@keyframes "+e+" {\n",i="";n.forEach(function(t){i=" ";var e=parseFloat(t.offset);r+=""+i+100*e+"% {\n",i+=" ",Object.keys(t).forEach(function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=i+"animation-timing-function: "+n+";\n"));default:return void(r+=""+i+e+": "+n+";\n")}}),r+=i+"}\n"}),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o},t.prototype.animate=function(t,e,n,r,i,o,a){void 0===o&&(o=[]),a&&this._notifyFaultyScrubber();var s=o.filter(function(t){return t instanceof lc}),u={};Wu(n,r)&&s.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return u[t]=e[t]})});var l=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach(function(t){Object.keys(t).forEach(function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Ku(t,e,u));if(0==n)return new cc(t,l);var c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);var f=Yl(t,e),p=new lc(t,e,c,n,r,i,l,f);return p.onDestroy(function(){var t;(t=h).parentNode.removeChild(t)}),p},t.prototype._notifyFaultyScrubber=function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)},t}(),fc=function(){function t(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this._buildPlayer(),this._preparePlayerBeforeStart()},t.prototype._buildPlayer=function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}},t.prototype._preparePlayerBeforeStart=function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()},t.prototype._triggerWebAnimation=function(t,e,n){return t.animate(e,n)},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.play=function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()},t.prototype.pause=function(){this.init(),this.domPlayer.pause()},t.prototype.finish=function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()},t.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype._resetDomPlayerState=function(){this.domPlayer&&this.domPlayer.cancel()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.hasStarted=function(){return this._started},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.setPosition=function(t){this.domPlayer.currentTime=t*this.time},t.prototype.getPosition=function(){return this.domPlayer.currentTime/this.time},Object.defineProperty(t.prototype,"totalTime",{get:function(){return this._delay+this._duration},enumerable:!0,configurable:!0}),t.prototype.beforeDestroy=function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:Yu(t.element,n))}),this.currentSnapshot=e},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),pc=function(){function t(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(dc().toString()),this._cssKeyframesDriver=new hc}return t.prototype.validateStyleProperty=function(t){return Cu(t)},t.prototype.matchesElement=function(t,e){return Eu(t,e)},t.prototype.containsElement=function(t,e){return Su(t,e)},t.prototype.query=function(t,e,n){return Tu(t,e,n)},t.prototype.computeStyle=function(t,e,n){return window.getComputedStyle(t)[e]},t.prototype.overrideWebAnimationsSupport=function(t){this._isNativeImpl=t},t.prototype.animate=function(t,e,n,r,i,o,a){if(void 0===o&&(o=[]),!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},l=o.filter(function(t){return t instanceof fc});Wu(n,r)&&l.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return u[t]=e[t]})});var c=Yl(t,e=Ku(t,e=e.map(function(t){return Ru(t,!1)}),u));return new fc(t,e,s,c)},t}();function dc(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var yc=function(t){function e(e,n){var i=t.call(this)||this;return i._nextAnimationId=0,i._renderer=e.createRenderer(n.body,{id:"0",encapsulation:r.ViewEncapsulation.None,styles:[],data:{animation:[]}}),i}return Object(a.__extends)(e,t),e.prototype.build=function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?tu(t):t;return vc(this._renderer,null,e,"register",[n]),new mc(e,this._renderer)},e}(Zs),mc=function(t){function e(e,n){var r=t.call(this)||this;return r._id=e,r._renderer=n,r}return Object(a.__extends)(e,t),e.prototype.create=function(t,e){return new gc(this._id,t,e||{},this._renderer)},e}(Xs),gc=function(){function t(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}return t.prototype._listen=function(t,e){return this._renderer.listen(this.element,"@@"+this.id+":"+t,e)},t.prototype._command=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return vc(this._renderer,this.element,this.id,t,e)},t.prototype.onDone=function(t){this._listen("done",t)},t.prototype.onStart=function(t){this._listen("start",t)},t.prototype.onDestroy=function(t){this._listen("destroy",t)},t.prototype.init=function(){this._command("init")},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this._command("play"),this._started=!0},t.prototype.pause=function(){this._command("pause")},t.prototype.restart=function(){this._command("restart")},t.prototype.finish=function(){this._command("finish")},t.prototype.destroy=function(){this._command("destroy")},t.prototype.reset=function(){this._command("reset")},t.prototype.setPosition=function(t){this._command("setPosition",t)},t.prototype.getPosition=function(){return 0},t}();function vc(t,e,n,r,i){return t.setProperty(e,"@@"+n+":"+r,i)}var _c=function(){function t(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return t.prototype.createRenderer=function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new bc("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach(function(e){return n.engine.registerTrigger(o,a,t,e.name,e)}),new wc(this,a,r,this.engine)},t.prototype.begin=function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()},t.prototype._scheduleCountTask=function(){var t=this;this.promise.then(function(){t._microtaskId++})},t.prototype.scheduleListenerCallback=function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return e(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(t){var e=Object(a.__read)(t,2);(0,e[0])(e[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))},t.prototype.end=function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.engine.whenRenderingDone()},t}(),bc=function(){function t(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(t){return e.destroyNode(t)}:null}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()},t.prototype.createElement=function(t,e){return this.delegate.createElement(t,e)},t.prototype.createComment=function(t){return this.delegate.createComment(t)},t.prototype.createText=function(t){return this.delegate.createText(t)},t.prototype.appendChild=function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)},t.prototype.insertBefore=function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)},t.prototype.removeChild=function(t,e){this.engine.onRemove(this.namespaceId,e,this.delegate)},t.prototype.selectRootElement=function(t,e){return this.delegate.selectRootElement(t,e)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setAttribute=function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)},t.prototype.setValue=function(t,e){this.delegate.setValue(t,e)},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.disableAnimations=function(t,e){this.engine.disableAnimations(t,e)},t}(),wc=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.factory=e,o.namespaceId=n,o}return Object(a.__extends)(e,t),e.prototype.setProperty=function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)},e.prototype.listen=function(t,e,n){var r,i,o,s=this;if("@"==e.charAt(0)){var u=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),l=e.substr(1),c="";return"@"!=l.charAt(0)&&(l=(r=Object(a.__read)((i=l,o=i.indexOf("."),[i.substring(0,o),i.substr(o+1)]),2))[0],c=r[1]),this.engine.listen(this.namespaceId,u,l,c,function(t){s.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)},e}(bc),Cc=function(t){function e(e,n,r){return t.call(this,e.body,n,r)||this}return Object(a.__extends)(e,t),e}(Gl);function Ec(){return"function"==typeof dc()?new pc:new hc}function Sc(){return new _l}function Tc(t,e,n){return new _c(t,e,n)}var Dc=new r.InjectionToken("AnimationModuleType"),Ic=function(){return function(){}}(),Oc=n("ORnb");function Ac(t){return function(t){return new p.a(function(e){return{unsubscribe:t.onSnapshot(e)}})}(t).pipe(Object(qa.a)())}function xc(t){return Ac(t).pipe(Object(D.a)(function(t){return{payload:t,type:"query"}}))}function kc(t){return xc(t).pipe(Object(D.a)(function(t){return t.payload.docChanges().map(function(t){return{type:t.type,payload:t}})}))}var Nc=function(){function t(t,e,n){this.ref=t,this.query=e,this.afs=n}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(kc(this.query))).pipe(Object(D.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),x(function(t){return t.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(kc(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(Object(lt.a)(function(t,e){return t.concat(e)},[]))},t.prototype.snapshotChanges=function(t){var e=function(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(t),n=function(t,e){return xc(t).pipe(Object(D.a)(function(t){return t.payload.docChanges()}),Object(lt.a)(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.id==e.doc.id||t.splice(e.newIndex,0,e);break;case"modified":null!=t[e.oldIndex]&&t[e.oldIndex].doc.id!=e.doc.id||(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.id==e.doc.id&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e)},[]),Object(D.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)},t.prototype.valueChanges=function(){var t=xc(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(Object(D.a)(function(t){return t.payload.docs.map(function(t){return t.data()})}))},t.prototype.get=function(t){return Object(l.a)(this.query.get(t)).pipe(Object(Oc.h)(this.afs.scheduler.zone))},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new Pc(this.ref.doc(t),this.afs)},t}(),Pc=function(){function t(t,e){this.ref=t,this.afs=e}return t.prototype.set=function(t,e){return this.ref.set(t,e)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=Vc(this.ref.collection(t),e);return new Nc(n.ref,n.query,this.afs)},t.prototype.snapshotChanges=function(){var t=Ac(this.ref).pipe(Object(D.a)(function(t){return{payload:t,type:"value"}})),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)},t.prototype.valueChanges=function(){return this.snapshotChanges().pipe(Object(D.a)(function(t){return t.payload.data()}))},t.prototype.get=function(t){return Object(l.a)(this.ref.get(t)).pipe(Object(Oc.h)(this.afs.scheduler.zone))},t}(),Rc=n("Wcq6"),Mc=new r.InjectionToken("angularfire2.enableFirestorePersistence"),Fc=new r.InjectionToken("angularfire2.firestore.persistenceSettings"),Lc=new r.InjectionToken("angularfire2.firestore.settings"),jc=parseFloat(Rc.SDK_VERSION)<5.8?{timestampsInSnapshots:!0}:{};function Vc(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}var Bc=function(){function t(t,e,n,r,i,o,a){var c=this;this.scheduler=new Oc.e(o,i),this.firestore=o.runOutsideAngular(function(){var n=Object(Oc.g)(t,e).firestore();return n.settings(r||jc),n}),this.persistenceEnabled$=n&&Object(s.isPlatformBrowser)(i)?o.runOutsideAngular(function(){try{return Object(l.a)(c.firestore.enablePersistence(a||void 0).then(function(){return!0},function(){return!1}))}catch(t){return Object(u.a)(!1)}}):Object(u.a)(!1)}return t.prototype.collection=function(t,e){var n=Vc("string"==typeof t?this.firestore.collection(t):t,e);return new Nc(n.ref,n.query,this)},t.prototype.doc=function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new Pc(e,this)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},t}(),Uc=(n("6Joi"),function(){function t(){}var e;return e=t,t.enablePersistence=function(t){return{ngModule:e,providers:[{provide:Mc,useValue:!0},{provide:Fc,useValue:t}]}},t}()),qc={state:"portfolio"},zc=function(){return function(){}}(),Qc=n("J2XY"),Hc=r["\u0275cmf"](i,[o],function(t){return r["\u0275mod"]([r["\u0275mpd"](512,r.ComponentFactoryResolver,r["\u0275CodegenComponentFactoryResolver"],[[8,[Ei,xi,Mi,Bi,Hi,sa,ds,_s,Is,Ns,Ls,Js]],[3,r.ComponentFactoryResolver],r.NgModuleRef]),r["\u0275mpd"](5120,r.LOCALE_ID,r["\u0275angular_packages_core_core_s"],[[3,r.LOCALE_ID]]),r["\u0275mpd"](4608,s.NgLocalization,s.NgLocaleLocalization,[r.LOCALE_ID,[2,s["\u0275angular_packages_common_common_a"]]]),r["\u0275mpd"](5120,r.APP_ID,r["\u0275angular_packages_core_core_h"],[]),r["\u0275mpd"](5120,r.IterableDiffers,r["\u0275angular_packages_core_core_q"],[]),r["\u0275mpd"](5120,r.KeyValueDiffers,r["\u0275angular_packages_core_core_r"],[]),r["\u0275mpd"](4608,de,ye,[s.DOCUMENT]),r["\u0275mpd"](6144,r.Sanitizer,null,[de]),r["\u0275mpd"](4608,se,le,[]),r["\u0275mpd"](5120,Rt,function(t,e,n,r,i,o,a,s){return[new oe(t,e,n),new pe(r),new ce(i,o,a,s)]},[s.DOCUMENT,r.NgZone,r.PLATFORM_ID,s.DOCUMENT,s.DOCUMENT,se,r["\u0275Console"],[2,ue]]),r["\u0275mpd"](4608,Mt,Mt,[Rt,r.NgZone]),r["\u0275mpd"](135680,jt,jt,[s.DOCUMENT]),r["\u0275mpd"](4608,Ht,Ht,[Mt,jt]),r["\u0275mpd"](5120,Ou,Ec,[]),r["\u0275mpd"](5120,vl,Sc,[]),r["\u0275mpd"](4608,Gl,Cc,[s.DOCUMENT,Ou,vl]),r["\u0275mpd"](5120,r.RendererFactory2,Tc,[Ht,Gl,r.NgZone]),r["\u0275mpd"](6144,Lt,null,[jt]),r["\u0275mpd"](4608,r.Testability,r.Testability,[r.NgZone]),r["\u0275mpd"](5120,Mn,yi,[Hr]),r["\u0275mpd"](4608,ni,ni,[]),r["\u0275mpd"](6144,ti,null,[ni]),r["\u0275mpd"](135680,ri,ri,[Hr,r.NgModuleFactoryLoader,r.Compiler,r.Injector,ti]),r["\u0275mpd"](4608,ei,ei,[]),r["\u0275mpd"](5120,ii,ci,[Hr,s.ViewportScroller,oi]),r["\u0275mpd"](5120,_i,vi,[mi]),r["\u0275mpd"](5120,r.APP_BOOTSTRAP_LISTENER,function(t){return[t]},[_i]),r["\u0275mpd"](4608,Zs,yc,[r.RendererFactory2,Tt]),r["\u0275mpd"](4608,fo,fo,[]),r["\u0275mpd"](4608,Ho,Ho,[]),r["\u0275mpd"](4608,Zo.AngularFireDatabase,Zo.AngularFireDatabase,[Oc.d,[2,Oc.c],[2,Oc.f],r.PLATFORM_ID,r.NgZone]),r["\u0275mpd"](5120,Oc.b,Oc.g,[Oc.d,[2,Oc.c]]),r["\u0275mpd"](4608,Bc,Bc,[Oc.d,[2,Oc.c],[2,Mc],[2,Lc],r.PLATFORM_ID,r.NgZone,[2,Fc]]),r["\u0275mpd"](1073742336,s.CommonModule,s.CommonModule,[]),r["\u0275mpd"](1024,r.ErrorHandler,Se,[]),r["\u0275mpd"](1024,r.NgProbeToken,function(){return[ui()]},[]),r["\u0275mpd"](512,mi,mi,[r.Injector]),r["\u0275mpd"](1024,r.APP_INITIALIZER,function(t,e){return[(n=t,kt("probe",Pt),kt("coreTokens",Object(a.__assign)({},Nt,(n||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return Pt}),gi(e)];var n},[[2,r.NgProbeToken],mi]),r["\u0275mpd"](512,r.ApplicationInitStatus,r.ApplicationInitStatus,[[2,r.APP_INITIALIZER]]),r["\u0275mpd"](131584,r.ApplicationRef,r.ApplicationRef,[r.NgZone,r["\u0275Console"],r.Injector,r.ErrorHandler,r.ComponentFactoryResolver,r.ApplicationInitStatus]),r["\u0275mpd"](1073742336,r.ApplicationModule,r.ApplicationModule,[r.ApplicationRef]),r["\u0275mpd"](1073742336,Te,Te,[[3,Te]]),r["\u0275mpd"](1024,ai,fi,[[3,Hr]]),r["\u0275mpd"](512,pn,dn,[]),r["\u0275mpd"](512,Zr,Zr,[]),r["\u0275mpd"](256,oi,{scrollPositionRestoration:"enabled",anchorScrolling:"enabled",useHash:!0},[]),r["\u0275mpd"](1024,s.LocationStrategy,hi,[s.PlatformLocation,[2,s.APP_BASE_HREF],oi]),r["\u0275mpd"](512,s.Location,s.Location,[s.LocationStrategy]),r["\u0275mpd"](512,r.Compiler,r.Compiler,[]),r["\u0275mpd"](512,r.NgModuleFactoryLoader,r.SystemJsNgModuleLoader,[r.Compiler,[2,r.SystemJsNgModuleLoaderConfig]]),r["\u0275mpd"](1024,jr,function(){return[[{path:"home",component:Di},{path:"",redirectTo:"home",pathMatch:"full"},{path:"about",component:ki},{path:"resume",component:Fi},{path:"portfolio",component:Ui,data:qc},{path:"contact",component:Jo},{path:"blog",component:ls},{path:"blog/cominciamo-con-angular",component:ys},{path:"blog/todo-app-con-angular",component:Es},{path:"blog/introduzione-vscode",component:Os},{path:"**",component:Ps}]]},[]),r["\u0275mpd"](1024,Hr,di,[r.ApplicationRef,pn,Zr,s.Location,r.Injector,r.NgModuleFactoryLoader,r.Compiler,jr,oi,[2,Br],[2,Fr]]),r["\u0275mpd"](1073742336,li,li,[[2,ai],[2,Hr]]),r["\u0275mpd"](1073742336,zc,zc,[]),r["\u0275mpd"](1073742336,Ic,Ic,[]),r["\u0275mpd"](1073742336,Ko,Ko,[]),r["\u0275mpd"](1073742336,Go,Go,[]),r["\u0275mpd"](1073742336,Yo,Yo,[]),r["\u0275mpd"](1073742336,Zo.AngularFireDatabaseModule,Zo.AngularFireDatabaseModule,[]),r["\u0275mpd"](1073742336,Oc.a,Oc.a,[]),r["\u0275mpd"](1073742336,Uc,Uc,[]),r["\u0275mpd"](1073742336,Qc.NgxGistModule,Qc.NgxGistModule,[]),r["\u0275mpd"](1073742336,ya,ya,[]),r["\u0275mpd"](1073742336,va,va,[[2,ga],[2,ue]]),r["\u0275mpd"](1073742336,da,da,[]),r["\u0275mpd"](1073742336,ns,ns,[]),r["\u0275mpd"](1073742336,Da,Da,[]),r["\u0275mpd"](1073742336,i,i,[]),r["\u0275mpd"](256,r["\u0275APP_ROOT"],!0,[]),r["\u0275mpd"](256,Dc,"BrowserAnimations",[]),r["\u0275mpd"](256,Oc.d,{apiKey:"AIzaSyBd9Qp_SKHuGCN-Fo-0mmAYuOdYRg_7gzQ",authDomain:"il-mio-sito-91a12.firebaseapp.com",databaseURL:"https://il-mio-sito-91a12.firebaseio.com",projectId:"il-mio-sito-91a12",storageBucket:"il-mio-sito-91a12.appspot.com"},[]),r["\u0275mpd"](256,Oc.c,void 0,[])])});Object(r.enableProdMode)(),Ee().bootstrapModuleFactory(Hc).catch(function(t){return console.error(t)})},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=(15&s)<<2|l>>6,h=63&l;u||(h=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),f=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},p=Error.captureStackTrace,d=function(){return function(t,e){if(this.code=t,this.message=e,p)p(this,y.prototype.create);else try{throw Error.apply(this,arguments)}catch(n){this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}}();d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name="FirebaseError";var y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"});var o=new d(i,n=this.serviceName+": "+n+" ("+i+").");for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}();function m(t){return JSON.parse(t)}var g=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=m(l(o[0])||""),n=m(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},v=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},_=function(t,e){return v(e,function(e,n){t[e]=n}),t},b=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},w=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return r.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^s&(u^l),o=1518500249):(i=s^u^l,o=1859775393):r<60?(i=s&u|l&(s|u),o=2400959708):(i=s^u^l,o=3395469782);var h=(a<<5|a>>>27)+i+c+o+n[r]&4294967295;c=l,l=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},e}(function(){return function(){this.blockSize=-1}}()),C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}function S(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.assert=o,e.assertionError=a,e.base64=u,e.base64Decode=l,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.CONSTANTS=i,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.patchProperty=function(t,e,n){t[e]=n},e.Deferred=h,e.getUA=f,e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.ErrorFactory=y,e.FirebaseError=d,e.patchCapture=function(t){var e=p;return p=t,e},e.jsonEval=m,e.stringify=function(t){return JSON.stringify(t)},e.decode=g,e.isAdmin=function(t){var e=g(t).claims;return"object"==typeof e&&!0===e.admin},e.issuedAtTime=function(t){var e=g(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.isValidFormat=function(t){var e=g(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=g(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),i&&e&&n&&i>=e&&i<=n},e.clone=function(t){return _({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=_,e.findKey=b,e.findValue=function(t,e,n){var r=b(t,e,n);return r&&t[r]},e.forEach=v,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.querystring=function(t){var e=[];return v(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.Sha1=w,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.createSubscribe=function(t,e){var n=new C(t,e);return n.subscribe.bind(n)},e.errorPrefix=S,e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(S(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(S(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(S(t,e,r)+"must be a valid firebase namespace.")},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}},"zkF/":function(t,e,n){var r=n("IutQ"),i=n("3Gxb").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(e){return a.slice()}}(t):i(r(t))}},zotm:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("rPjj"),i=n("Fxb1");function o(t,e,n,o,a){if(void 0===a&&(a=new r.a(t,n,o)),!a.closed)return Object(i.a)(e)(a)}}},[[0,0]]]);